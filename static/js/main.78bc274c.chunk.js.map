{"version":3,"sources":["App/components/GamePage/index.module.scss","App/components/PopupResultGame/ContentResultGame/index.module.scss","App/components/Cube/index.module.scss","App/components/PopupStartGame/index.module.scss","App/components/PopupContinueGame/ContentContinueGame/index.module.scss","App/components/PopupContinueGame/index.module.scss","App/components/PopupResultGame/index.module.scss","App/components/Field/index.module.scss","App/components/PopupResultGame/ContentResultGame/TableLetterScore/index.module.scss","App/components/Cell/index.module.scss","App/components/Tape/index.module.scss","App/components/FullSizeBlock/index.module.scss","App/components/ScoreCounter/index.module.scss","App/components/BackButton/index.module.scss","App/components/Button/index.module.scss","App/components/PopupResultGame/ContentResultGame/TableResult/index.module.scss","App/components/Main/index.module.scss","App/components/Coin/index.module.scss","App/components/StartPage/index.module.scss","App/components/Tape/TapeViewModel.ts","App/store/Popups/popup.ts","App/store/Popups/popupResultGame.ts","App/store/Popups/popupContinueGame.ts","App/store/Popups/popupStartGame.ts","App/store/ProgressController/constants.ts","App/store/ProgressController/index.ts","App/store/index.ts","App/store/context.ts","App/components/ScoreCounter/images/sprite.svg","App/components/Field/index.tsx","App/components/Cell/index.tsx","App/components/Tape/index.tsx","App/components/FullSizeBlock/index.tsx","App/components/BackButton/images/sprite.svg","App/components/ScoreCounter/constants.ts","App/components/ScoreCounter/index.tsx","App/components/Coin/images/sprite.svg","App/components/BackButton/index.tsx","App/components/BackButton/constants.ts","App/components/Button/index.tsx","App/components/PopupContinueGame/ContentContinueGame/index.tsx","App/components/PopupContinueGame/index.tsx","App/components/PopupResultGame/ContentResultGame/TableLetterScore/index.tsx","App/components/PopupResultGame/ContentResultGame/TableResult/index.tsx","App/components/PopupResultGame/ContentResultGame/index.tsx","App/components/PopupResultGame/index.tsx","App/shared/useCombinedRefs.ts","App/components/Cube/constants.ts","App/components/Cube/index.tsx","App/components/Div/index.tsx","App/components/Dragger/context.ts","App/components/Dragger/store/Collection/index.ts","App/shared/getOffset/index.ts","App/components/Dragger/store/DragOperator/IntersectionCalculator/index.ts","App/components/Dragger/store/DragOperator/index.ts","App/components/Dragger/store/DraggerStore/index.ts","App/components/Dragger/index.tsx","App/components/Dragger/store/DragItem/index.ts","App/components/Dragger/store/Slot/index.ts","App/components/Dragger/components/Slot/index.tsx","App/components/Dragger/store/Plate/index.ts","App/shared/Reaction/index.ts","App/components/Dragger/components/Plate/store/PlateStore/index.ts","App/components/Dragger/components/Plate/context.ts","App/constants.ts","App/components/ElementMover/store/ElementMoverStore/index.ts","App/components/Reparentable/index.tsx","App/components/ElementMover/index.tsx","App/components/Dragger/components/Plate/binders/PlateMover/index.tsx","App/components/Draggable/constants.ts","App/components/Draggable/helpers.ts","App/components/Draggable/store/EventManager/index.ts","App/components/Draggable/store/DraggableStore/index.ts","App/components/Draggable/index.tsx","App/components/Dragger/components/Plate/index.tsx","App/shared/EventEmitter/index.tsx","App/store/Cube/constants.ts","App/shared/Fade/index.ts","App/store/Cube/index.ts","App/store/Cell/index.ts","App/store/Field/constants.ts","App/store/Field/index.ts","App/store/SelectorHelper/constants.ts","App/store/SelectorHelper/index.ts","App/store/Timer/constants.ts","App/store/Timer/index.ts","App/store/Coin/constants.ts","App/store/Coin/index.ts","App/components/GamePage/store/GamePageStore/index.ts","App/components/Fade/index.tsx","App/shared/helpers/reflowElement.ts","App/components/Coin/index.tsx","App/components/GamePage/helpers/calcCoinMovingPosition.ts","App/components/GamePage/helpers/getQuadraticBezierXYatT.ts","App/components/GamePage/helpers/getPerpendicularPointToMidpoint.ts","App/components/GamePage/index.tsx","App/components/PopupStartGame/index.tsx","App/components/StartPage/index.tsx","App/shared/useAppContext.ts","App/components/Main/index.tsx","App/index.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","TapeViewModel","figures","blocks","color","letter","type","setFigures","makeAutoObservable","this","Popup","isDisableClickOutside","onClickOutside","isVisible","isVisibleTransition","_onClickOutside","makeObservable","observable","show","action","hide","handleTransitionEnd","undefined","bind","a","when","PopupResultGame","onClickEndGame","PopupContinueGame","onClickBreak","onClickContinue","PopupStartGame","onClickSinglePlay","onClickMultiplePlay","letterScoreDistributions","rus","score","ProgressController","map","item","_words","_scores","autoBind","word","push","wordScores","_getWordScores","split","reduce","acc","curItem","index","array","charScore","find","Error","error","console","warn","AppStore","tape","progressController","isVisibleGamePage","popupStartGame","log","handleGameStartClick","AppContext","createContext","displayName","_rect","_g","_path","_path2","_path3","_path4","_path5","_path6","_path7","Field","props","isDisabled","children","otherProps","className","cn","classes","field","field_disabled","cells","Cell","React","forwardRef","ref","isHovered","cell","cell_hovered","Tape","styles","main","slotsContainer","FullSizeBlock","absolute","style","main_absolute","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSprite","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","id","maskType","maskUnits","x","y","rx","mask","d","ForwardRef","defaultProps","scores","ScoreCounter","useRef","useState","setWidth","scaling","scoresStyle","useMemo","fontSize","useEffect","element","current","calcWidth","offsetWidth","window","addEventListener","removeEventListener","stroke","strokeWidth","strokeLinecap","_path8","BackButton","disabled","styleProp","onClick","borderWidth","main_disabled","Button","tabIndex","ContentContinueGame","text","popupContent","textWrap","buttonsWrap","btn","navigate","useNavigate","useCallback","wrap","overlay","popup","popup_continueGame","TableLetterScore","uniqScores","forEach","includes","lettersArrays","sort","b","letters","getScores","table","idx","letterScore","join","TableResult","words","ContentResultGame","memo","isVisibleResult","setVisibleResult","container","tabs","tab","tabActive","popup_resultGame","useCombinedRefs","refs","targetRef","colors","hovered","selected","hoverable","Cube","combinedRef","main_selected","main_hoverable","main_hovered","scaleWrap","background","backgroundColor","boxShadow","content","Div","DraggerStoreContext","useDraggerStoreContext","draggerStore","useContext","Collection","items","_item","runInAction","concat","getOffset","relativeNode","targetNode","relativeNodeRect","getBoundingClientRect","targetNodeRect","left","top","IntersectionCalculator","data","targetElement","elements","getIntersectionData","filter","area","prev","currValue","element1","element2","rect1","rect2","unionWidth","Math","max","min","widthOfTwo","unionHeight","heightOfTwo","getIntersectionArea","DragOperator","options","intersectionCalculators","plates","slots","inDrag","platesInDrag","constructor","name","event","currentPlate","findByElement","currentSlot","findById","slotId","offset","group","plate","draggingPlate","translate","centered","plateCoordinates","point","startDrag","setTranslate","callbacks","onStartDrag","assertDragStarted","plateInDrag","deltaPoint","onMoveDrag","calculateIntersectedElements","intersectionElement","slot","intersectedSlot","prevIntersectedSlot","intersectionData","plateId","onIntersectionOut","onIntersectionIn","finishDrag","onFinishDrag","DraggerStore","operator","Dragger","dragger","useLocalObservable","Provider","value","DragItem","setElement","bound","Slot","elementSelector","intersectionSelector","computed","currentElement","setCallbacks","querySelector","observer","Component","add","SlotModel","Plate","setSlotId","Reaction","expression","handler","disposer","handle","reaction","_reaction","err","dispatchEvent","ErrorEvent","PlateStore","params","plateModel","reactions","model","onAfterDragMoving","onAfterDragMovingEnd","shallow","initReactions","setProps","PlateModel","moveDrag","anchor","bounded","state","duration","afterDragMovingDuration","withAnimation","withMovingAfterDrag","easing","afterDragMovingEasing","calculationHelper","afterDragMovingPositionCalculationHelper","onMoving","onMovingEnd","omit","values","init","setDisabled","dispose","PlateStoreContext","russianWords","russianWordsBase","w","trim","animeEasings","ElementMoverStore","firstRender","setAnchor","setWithAnimation","transform","newAnchor","Reparentable","parent","containerStyle","portalContainer","document","createElement","useLayoutEffect","entries","appendChild","remove","ReactDOM","createPortal","calculatePoint","currentTranslate","defaultPoint","ElementMover","anchorProp","reparentableContainerStyle","refCallbacks","store","innerRef","animeRef","calculatedStyle","calculatedTransformStyle","pause","startTranslate","finishTranslate","anime","targets","update","complete","passFirstRender","PlateMover","plateStore","usePlateStoreContext","elementMoverProps","componentProps","minOffset","getPointByDraggableEvent","isMouseEvent","mouseEvent","pageX","pageY","touchEvent","changedTouches","EventManager","elementCaptured","startEvent","prevMoveEvent","moveEvent","initListeners","startPoint","prevMovePoint","movePoint","offsetPoint","body","classList","contains","addListener","handleMouseDown","handleMouseMove","handleMouseUp","handleTouchStart","handleTouchMove","handleTouchEnd","mouseDownPoint","mouseMovePoint","diffX","abs","diffY","deviceIsTouch","Node","draggableData","clearSavedEvents","setMoveEvent","isOffsetSmall","removeListener","eventType","listener","DraggableStore","eventManager","updateElement","handleStartDrag","handleMoveDrag","handleFinishDrag","clear","Draggable","draggableStore","setRef","draggableProps","elem","EventEmitter","events","EventEmitterBase","on","once","off","removeAllListeners","args","emit","numberOfListeners","setMaxListeners","eventNames","defaultColor","Fade","shown","shownAnimating","onShowingEnd","deferred","setShowingEndHandler","showingEndHandler","resolve","startShownAnimating","Q","defer","finishShownAnimating","startShowing","startHiding","promise","prevDuration","setDuration","Promise","then","fade","eventEmitter","_uid","uniqueId","_letter","_color","_hovered","_selected","_disabled","_dragListening","_element","_slotId","_intersectedSlotId","_group","intersectedSlotId","dragListening","_point","_cubeId","cubeId","_cells","range","fieldSideLength","sqrt","floor","SelectorHelper","cubes","_selectedCubes","stopListening","startCubeMouseDownListeners","stopCubeMouseDownListeners","stopCubeMouseEnterListeners","stopFieldMouseUpListener","cube","cubeEventNames","setSelectedCubes","startCubeMouseEnterListeners","startFieldMouseUpListener","selectedCubes","fieldEventNames","currentCell","uid","prevCube","slice","lastCube","last","prevCell","_cell","lastCell","nextNeighborCell","getNeighborCells","selectedCells","compact","nextNeighborCellIndex","Timer","intervalId","ms","setInterval","clearInterval","Coin","GamePageStore","popupContinueGame","inactivityTimer","start","popupResultGame","needShowPopupContinueGame","time","coins","coinFinishAnchor","_tapeSlots","_cubes","flatten","generateFigureCubes","_field","selectorHelper","timer","startDragListeners","selectorHelperEventNames","setSelected","stop","toLowerCase","found","launchCoin","parentElement","collectWord","all","setCubeId","setCubes","difference","timerEventNames","setTime","draggableCubes","setDragListening","newCubes","hideInstantly","tapeSlotUid","chunk","tapeSlots","findIndex","tapeSlot","random","targetTapeSlotChunkIndex","sample","lettersData","targetTapeSlotChunk","figureGroup","targetTapeSlots","letterData","toUpperCase","groupCubes","_cube","setIntersectedSlotId","intersectedEmptyCells","uniq","setHovered","intersectedCell","intersectedCells","allIntersectedCellsAreEmpty","every","tapeSlotChunkIndex","getTapeSlotChunkIndexByTapeSlotUid","stopDragListeners","getCountFilledCells","startListening","newCube","startAnchor","finishAnchor","coin","coinEventNames","setCoins","c","forwardedRef","delay","withUnmount","styleMap","entered","opacity","entering","transition","exiting","exited","handleShowingStart","offsetHeight","handleShowingEnd","Transition","nodeRef","in","timeout","mountOnEnter","unmountOnExit","onEnter","onEntered","onExited","fillRule","clipRule","calcCoinMovingPosition","controlPoint","endPoint","part","currentLength","point1","point2","distance","dx","dy","midpoint","angle","atan2","cos","PI","sin","getPerpendicularPointToMidpoint","GamePage","timerValue","progressContainer","scoreCounterContainer","setCoinFinishAnchor","scoreCoinWrap","backButtonContainer","fieldContainer","onMouseUp","tapeSlotsWrap","loadElement","onMouseDown","onMouseEnter","handleMouseEnter","handleIntersectionIn","handleIntersectionOut","handleMovingEnd","onClickMultiplPlay","handleClickSinglePlay","handleClickMultiplPlay","popup_startGame","StartPage","context","useAppContext","onClickStart","Main","App","appStore","basename","path","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","getElementById"],"mappings":"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","file":"static/js/main.78bc274c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"GamePage_main__17VmN\",\"progressContainer\":\"GamePage_progressContainer__3SUd1\",\"backButtonContainer\":\"GamePage_backButtonContainer__1TsCh\",\"scoreCounterContainer\":\"GamePage_scoreCounterContainer__3xbxZ\",\"scoreCoinWrap\":\"GamePage_scoreCoinWrap__38NBF\",\"fieldContainer\":\"GamePage_fieldContainer__GK9s9\",\"tapeSlotsWrap\":\"GamePage_tapeSlotsWrap__1EnLm\",\"tapeSlot\":\"GamePage_tapeSlot__3Uhmr\",\"tapeSlot_position_1\":\"GamePage_tapeSlot_position_1__2G08b\",\"tapeSlot_position_2\":\"GamePage_tapeSlot_position_2__20rZ1\",\"tapeSlot_position_3\":\"GamePage_tapeSlot_position_3__PqwEF\",\"tapeSlot_position_4\":\"GamePage_tapeSlot_position_4__1A40A\",\"tapeSlot_position_5\":\"GamePage_tapeSlot_position_5__3Kxfe\",\"timer\":\"GamePage_timer__1Mv79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupContent\":\"ContentResultGame_popupContent__2SF-Y\",\"textWrap\":\"ContentResultGame_textWrap__cxkxg\",\"container\":\"ContentResultGame_container__3F-9C\",\"container_result\":\"ContentResultGame_container_result__2ZRfG\",\"container_table\":\"ContentResultGame_container_table__3Z_kz\",\"tabs\":\"ContentResultGame_tabs__6Xckc\",\"tab\":\"ContentResultGame_tab__vYC6K\",\"tabActive\":\"ContentResultGame_tabActive__3dXRK\",\"buttonsWrap\":\"ContentResultGame_buttonsWrap__P4ipi\",\"btn\":\"ContentResultGame_btn__1TF4N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Cube_main__hJP24\",\"main_disabled\":\"Cube_main_disabled__2nnek\",\"main_hoverable\":\"Cube_main_hoverable__3pwki\",\"main_hovered\":\"Cube_main_hovered__16O4D\",\"main_selected\":\"Cube_main_selected__16Uy4\",\"scaleWrap\":\"Cube_scaleWrap__2GxKq\",\"background\":\"Cube_background__1XBLx\",\"content\":\"Cube_content__29hV2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"PopupStartGame_wrap__2eM-c\",\"overlay\":\"PopupStartGame_overlay__10sT_\",\"popup\":\"PopupStartGame_popup__MGt-c\",\"popup_startGame\":\"PopupStartGame_popup_startGame__1BnmD\",\"buttonsWrap\":\"PopupStartGame_buttonsWrap__1xTYJ\",\"btn\":\"PopupStartGame_btn__FpJjF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popupContent\":\"ContentContinueGame_popupContent__3O75R\",\"textWrap\":\"ContentContinueGame_textWrap__1fquI\",\"text\":\"ContentContinueGame_text__fPXkj\",\"buttonsWrap\":\"ContentContinueGame_buttonsWrap__oBGXJ\",\"btn\":\"ContentContinueGame_btn__2gQK2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"PopupContinueGame_wrap__nQinV\",\"overlay\":\"PopupContinueGame_overlay__1967l\",\"popup\":\"PopupContinueGame_popup__3VchC\",\"popup_continueGame\":\"PopupContinueGame_popup_continueGame__2y7eJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"PopupResultGame_wrap__1z203\",\"overlay\":\"PopupResultGame_overlay__1gYry\",\"popup\":\"PopupResultGame_popup__11-Js\",\"popup_continueGame\":\"PopupResultGame_popup_continueGame__2_bdG\",\"popup_resultGame\":\"PopupResultGame_popup_resultGame__1vmkA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"Field_field__3_I7N\",\"field_disabled\":\"Field_field_disabled__TjW7U\",\"cells\":\"Field_cells__18mqT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"TableLetterScore_table__2T9aQ\",\"letter\":\"TableLetterScore_letter__1Y9Xd\",\"letterScore\":\"TableLetterScore_letterScore__1CAWA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"Cell_cell__1-e6R\",\"cell_hovered\":\"Cell_cell_hovered__unFKJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Tape_main__3GNJ6\",\"slotsContainer\":\"Tape_slotsContainer__1Pc-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"FullSizeBlock_main__1gNfp\",\"main_absolute\":\"FullSizeBlock_main_absolute__2wbtO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ScoreCounter_main__xe56H\",\"scores\":\"ScoreCounter_scores__EcP3h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"BackButton_main__3qz2x\",\"main_disabled\":\"BackButton_main_disabled__L6IGz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Button_main__2MthA\",\"main_continue\":\"Button_main_continue__1XqcD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"titleResult\":\"TableResult_titleResult__1Xeqm\",\"words\":\"TableResult_words__bFocX\",\"scores\":\"TableResult_scores__Vo-qj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3hbzX\",\"content\":\"Main_content__Z3Lrs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Coin_main__1aWmI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"StartPage_main__3BRSA\",\"header\":\"StartPage_header__3kki8\",\"content\":\"StartPage_content__20Z1Z\",\"playButton\":\"StartPage_playButton__3zTvQ\"};","import { makeAutoObservable } from 'mobx';\nimport { FigureType } from './types';\n\nexport class TapeViewModel {\n  figures: FigureType[] = [\n    {\n      blocks: [\n        { color: '#FF7B1C', letter: 'А' },\n      ],\n      type: 1,\n    },\n    {\n      blocks: [\n        { color: '#A258FF', letter: 'Ж' },\n        { color: '#FF7B1C', letter: 'А' },\n      ],\n      type: 2,\n    },\n    {\n      blocks: [\n        { color: '#FF7B1C', letter: 'Р' },\n      ],\n      type: 1,\n    },\n    {\n      blocks: [\n        { color: '#FF7B1C', letter: 'А' },\n        { color: '#FF7B1C', letter: 'С' },\n      ],\n      type: 3,\n    },\n    {\n      blocks: [\n        { color: '#0ABA9A', letter: 'А' },\n      ],\n      type: 1,\n    },\n    {\n      blocks: [\n        { color: '#D73A8F', letter: 'Ф' },\n      ],\n      type: 1,\n    },\n  ];\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  setFigures = (figures: FigureType[]) => {\n    this.figures = figures;\n  }\n}","import { action, makeObservable, observable, when } from \"mobx\";\nimport { ConstructorPopup } from \"./types\";\n\nexport class Popup {\n  isVisible = false;\n\n  isDisableClickOutside = false;\n\n  isVisibleTransition = false;\n\n  _onClickOutside: ()=>void;\n\n  constructor({ isDisableClickOutside, onClickOutside }: ConstructorPopup = {}) {\n    makeObservable<Popup>(this, {\n      isVisible: observable,\n      isVisibleTransition: observable,\n\n      show: action,\n      hide: action,\n      handleTransitionEnd: action,\n    });\n\n    this.isDisableClickOutside =\n      isDisableClickOutside === undefined ? false : isDisableClickOutside;\n    this._onClickOutside = onClickOutside || (()=>{});\n    this.show = this.show.bind(this);\n    this.hide = this.hide.bind(this);\n    this.handleTransitionEnd = this.handleTransitionEnd.bind(this);\n    this.onClickOutside=this.onClickOutside.bind(this);\n  }\n\n  async show() {\n    this.isVisible = true;\n    this.isVisibleTransition = true;\n    await when(() => !this.isVisibleTransition);\n  }\n\n  async hide() {\n    this.isVisible = false;\n    this.isVisibleTransition = true;\n    await when(() => !this.isVisibleTransition);\n  }\n\n  handleTransitionEnd() {\n    this.isVisibleTransition = false;\n  }\n\n  onClickOutside() {\n    if (this.isDisableClickOutside) return;\n    this._onClickOutside();\n    this.isVisible = false;\n  }\n}\n","import { Popup } from \"./popup\";\nimport { ConstructorPopupResultGame } from \"./types\";\n\nexport class PopupResultGame extends Popup {\n  onClickEndGame: () => void;\n\n  constructor({\n    isDisableClickOutside,\n    onClickEndGame,\n    onClickOutside\n  }: ConstructorPopupResultGame) {\n    super({ isDisableClickOutside, onClickOutside });\n\n    this.onClickEndGame = ()=>{\n      this.hide();\n      onClickEndGame();\n    };\n  }\n}\n","import { Popup } from \"./popup\";\nimport { ConstructorPopupContinueGame } from \"./types\";\n\nexport class PopupContinueGame extends Popup {\n  onClickContinue: () => void;\n  \n  onClickBreak: () => void;\n\n  constructor({\n    isDisableClickOutside,\n    onClickBreak,\n    onClickContinue,\n    onClickOutside,\n  }: ConstructorPopupContinueGame) {\n    super({ isDisableClickOutside, onClickOutside });\n\n    this.onClickBreak = onClickBreak;\n    this.onClickContinue = ()=>{\n      this.hide();\n      onClickContinue();\n    };\n  }\n}\n","import { Popup } from \"./popup\";\nimport { ConstructorPopupStartGame } from \"./types\";\n\nexport class PopupStartGame extends Popup {\n  onClickSinglePlay: () => void;\n\n  onClickMultiplePlay: () => void;\n\n  constructor({\n    isDisableClickOutside,\n    onClickSinglePlay,\n    onClickMultiplePlay,\n    onClickOutside\n  }: ConstructorPopupStartGame) {\n    super({ isDisableClickOutside, onClickOutside });\n\n    this.onClickSinglePlay = () => {\n      this.hide();\n      onClickSinglePlay();\n    };\n\n    this.onClickMultiplePlay = () => {\n      this.hide();\n      onClickMultiplePlay();\n    };\n  }\n}\n","export const letterScoreDistributions = {\n  rus: [\n    {\n      letter: \"а\",\n      score: 1,\n    },\n    {\n      letter: \"б\",\n      score: 3,\n    },\n    {\n      letter: \"в\",\n      score: 1,\n    },\n    {\n      letter: \"г\",\n      score: 3,\n    },\n    {\n      letter: \"д\",\n      score: 2,\n    },\n    {\n      letter: \"е\",\n      score: 1,\n    },\n    {\n      letter: \"ё\",\n      score: 3,\n    },\n    {\n      letter: \"ж\",\n      score: 5,\n    },\n    {\n      letter: \"з\",\n      score: 5,\n    },\n    {\n      letter: \"и\",\n      score: 1,\n    },\n    {\n      letter: \"й\",\n      score: 4,\n    },\n    {\n      letter: \"к\",\n      score: 2,\n    },\n    {\n      letter: \"л\",\n      score: 2,\n    },\n    {\n      letter: \"м\",\n      score: 2,\n    },\n    {\n      letter: \"н\",\n      score: 1,\n    },\n    {\n      letter: \"о\",\n      score: 1,\n    },\n    {\n      letter: \"п\",\n      score: 2,\n    },\n    {\n      letter: \"р\",\n      score: 1,\n    },\n    {\n      letter: \"с\",\n      score: 1,\n    },\n    {\n      letter: \"т\",\n      score: 1,\n    },\n    {\n      letter: \"у\",\n      score: 2,\n    },\n    {\n      letter: \"ф\",\n      score: 10,\n    },\n    {\n      letter: \"х\",\n      score: 5,\n    },\n    {\n      letter: \"ц\",\n      score: 5,\n    },\n    {\n      letter: \"ч\",\n      score: 5,\n    },\n    {\n      letter: \"ш\",\n      score: 8,\n    },\n    {\n      letter: \"щ\",\n      score: 10,\n    },\n    {\n      letter: \"ъ\",\n      score: 10,\n    },\n    {\n      letter: \"ы\",\n      score: 4,\n    },\n    {\n      letter: \"ь\",\n      score: 3,\n    },\n    {\n      letter: \"э\",\n      score: 8,\n    },\n    {\n      letter: \"ю\",\n      score: 8,\n    },\n    {\n      letter: \"я\",\n      score: 3,\n    },\n  ],\n};\n\nexport const russianAlphabet = letterScoreDistributions.rus.map((item) => item.letter);\n","import { makeAutoObservable } from 'mobx';\nimport { letterScoreDistributions } from \"./constants\";\n\nexport class ProgressController {\n  private _words: string[] = [];\n\n  private _scores = 0;\n\n  constructor(){\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n\n  collectWord(word: string){\n    this._words.push(word);\n    const wordScores = this._getWordScores(word);\n    if (wordScores){\n        this._scores += wordScores;\n    }\n  }\n\n  private _getWordScores(word: string) {\n    try {\n      const chars = word.split(\"\");\n      const wordScores = chars.reduce((acc, curItem, index, array) => {\n        const charScore = letterScoreDistributions[\"rus\"].find(\n          ({ letter }) => letter === curItem\n        )?.score;\n        if (!charScore)\n          throw new Error(\n            `в слове ${word} для буквы ${curItem} не указаны очки в letterDistributions`\n          );\n        acc = acc + charScore;\n        return acc;\n      }, 0);\n      return wordScores;\n    } catch (error) {\n        console.warn(error)\n    }\n  }\n\n  get words(){\n      return this._words;\n  }\n\n  get scores(){\n      return this._scores;\n  }\n}","import { makeAutoObservable } from \"mobx\";\nimport { TapeViewModel } from \"../components/Tape/TapeViewModel\";\nimport { PopupStartGame } from \"./Popups\";\nimport { ProgressController } from \"./ProgressController\";\n\nexport class AppStore {\n  tape = new TapeViewModel();\n  progressController = new ProgressController();\n  isVisibleGamePage = false;\n  popupStartGame = new PopupStartGame({\n    isDisableClickOutside: true,\n    onClickMultiplePlay: () => {\n      console.log(\"multiple play\");\n    },\n    onClickSinglePlay: () => this.handleGameStartClick,\n  });\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  handleGameStartClick = () => {\n    this.isVisibleGamePage = true;\n    console.log(\"handleGameStartClick\");\n  };\n}","import { createContext } from 'react';\nimport { AppStore } from '.';\n\nexport const AppContext = createContext<AppStore | null>(null);\nAppContext.displayName = 'AppContext';","var _rect, _g, _path, _path2, _path3, _path4, _path5, _path6, _path7;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSprite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 103,\n    height: 103,\n    viewBox: \"0 0 103 103\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask0_0_1\",\n    style: {\n      maskType: \"alpha\"\n    },\n    maskUnits: \"userSpaceOnUse\",\n    x: 0,\n    y: 0,\n    width: 103,\n    height: 103\n  }, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 103,\n    height: 103,\n    rx: 34,\n    fill: \"#C4C4C4\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    mask: \"url(#mask0_0_1)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 103,\n    height: 103,\n    fill: \"#FFC327\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.9968 47.3813H39.0029C38.488 47.3813 38.0713 47.796 38.0713 48.3085C38.0713 55.6777 44.095 61.6734 51.4999 61.6734C58.9047 61.6734 64.9285 55.6777 64.9285 48.3085C64.9285 47.796 64.5118 47.3813 63.9968 47.3813ZM51.4999 59.8191C45.4361 59.8191 40.4477 55.1508 39.9719 49.2357H63.0279C62.5521 55.1508 57.5637 59.8191 51.4999 59.8191Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.5 16C34.6824 16 21 29.6157 21 46.3525V55.6475C21 65.9454 26.1844 75.0557 34.0871 80.5459C34.0875 80.5462 34.0882 80.5465 34.0886 80.5469C39.0297 83.9792 45.0306 86 51.5 86C61.9275 86 71.146 80.7627 76.6488 72.7953C76.653 72.7911 76.6548 72.7852 76.659 72.781C80.025 67.9013 82 62.0006 82 55.6475V46.3525C82 29.6157 68.3176 16 51.5 16ZM26.0776 68.7407C24.2083 65.1611 23.0783 61.1424 22.8948 56.8814C23.7164 59.0851 24.7902 61.1672 26.0776 63.0967V68.7407ZM33.8145 78.0365C31.5598 76.2689 29.5769 74.1747 27.9408 71.8219V65.6075C29.6472 67.6715 31.6257 69.502 33.8145 71.0583V78.0365ZM42.2656 82.6166C39.9188 81.8185 37.707 80.7294 35.6777 79.3854V72.2931C37.7277 73.5361 39.9371 74.542 42.2656 75.2799V82.6166ZM50.5684 84.1222C48.3497 84.0511 46.1936 83.7317 44.1288 83.1838V75.8044C46.2003 76.3181 48.3553 76.6158 50.5684 76.6823V84.1222ZM58.8666 83.1851C56.8033 83.7323 54.6487 84.0511 52.4316 84.1222V76.6823C54.6431 76.6158 56.7965 76.3184 58.8666 75.8054V83.1851ZM66.478 79.9246C64.6834 81.0251 62.7566 81.9293 60.7299 82.6181V75.2814C62.7452 74.6432 64.6675 73.7984 66.478 72.778V79.9246ZM75.0592 71.8219C73.2215 74.4646 70.9478 76.7831 68.3412 78.6762V71.6424C70.8694 69.9693 73.1355 67.9344 75.0592 65.6075V71.8219ZM76.9224 68.7407V63.0967C78.2098 61.1672 79.2836 59.0851 80.1052 56.8814C79.9217 61.1424 78.7917 65.1611 76.9224 68.7407ZM51.6083 74.8488C51.5711 74.8444 51.5384 74.8271 51.5 74.8271C51.4616 74.8271 51.429 74.8444 51.3918 74.8488C35.6512 74.7902 22.8633 62.0309 22.8633 46.3525C22.8633 30.6389 35.7096 17.8543 51.5 17.8543C67.2904 17.8543 80.1367 30.6389 80.1367 46.3525C80.1367 62.0309 67.3488 74.7902 51.6083 74.8488Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.5005 22.1787C38.1065 22.1787 27.209 33.023 27.209 46.3526C27.209 59.6822 38.1065 70.5274 51.5005 70.5274C64.8946 70.5274 75.7912 59.6822 75.7912 46.3526C75.7912 33.023 64.8946 22.1787 51.5005 22.1787ZM51.5005 68.673C39.1337 68.673 29.0722 58.66 29.0722 46.3526C29.0722 34.0452 39.1337 24.033 51.5005 24.033C63.8674 24.033 73.9279 34.0452 73.9279 46.3526C73.9279 58.66 63.8674 68.673 51.5005 68.673Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M60.3763 36.4072C56.6735 36.4072 53.6611 39.4051 53.6611 43.0901C53.6611 43.6026 54.0778 44.0173 54.5928 44.0173H66.1599C66.6749 44.0173 67.0915 43.6026 67.0915 43.0901C67.0915 39.4051 64.0792 36.4072 60.3763 36.4072ZM55.6145 42.163C56.0503 39.9429 58.02 38.2615 60.3763 38.2615C62.7327 38.2615 64.7024 39.9429 65.1382 42.163H55.6145Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M61.8117 39.2856H58.9404C58.4255 39.2856 58.0088 39.7004 58.0088 40.2131C58.0088 40.7257 58.4255 41.1405 58.9404 41.1405H61.8117C62.3267 41.1405 62.7434 40.7257 62.7434 40.2131C62.7434 39.7004 62.3267 39.2856 61.8117 39.2856Z\",\n    fill: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.3396 43.0901C49.3396 39.4051 46.3273 36.4072 42.6244 36.4072C38.9215 36.4072 35.9092 39.4051 35.9092 43.0901C35.9092 43.6026 36.3259 44.0173 36.8408 44.0173H48.408C48.9229 44.0173 49.3396 43.6026 49.3396 43.0901ZM37.8625 42.163C38.2983 39.9429 40.268 38.2615 42.6244 38.2615C44.9808 38.2615 46.9505 39.9429 47.3863 42.163H37.8625Z\",\n    fill: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44.0598 39.2856H41.1885C40.6735 39.2856 40.2568 39.7004 40.2568 40.2131C40.2568 40.7257 40.6735 41.1405 41.1885 41.1405H44.0598C44.5747 41.1405 44.9914 40.7257 44.9914 40.2131C44.9914 39.7004 44.5747 39.2856 44.0598 39.2856Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSprite);\nexport default __webpack_public_path__ + \"static/media/sprite.205334e7.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport classes from \"./index.module.scss\";\nimport cn from \"classnames\";\nimport { FieldProps } from \"./type\";\n\nexport const Field = function (props: FieldProps) {\n  const { isDisabled, children, ...otherProps } = props;\n\n  return (\n    <div {...otherProps} className={cn(classes.field, isDisabled && classes.field_disabled)}>\n      <div className={classes.cells}>\n        {children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport classes from './index.module.scss';\nimport { CellProps } from './types';\n\nexport const Cell = React.forwardRef<HTMLDivElement, CellProps>(function Cell(props, ref){\n    const { isHovered = false, children, ...otherProps } = props;\n\n    return (\n        <div ref={ref} {...otherProps} className={cn(classes.cell, isHovered && classes.cell_hovered)} />\n    );\n})","import React from 'react';\nimport styles from './index.module.scss';\n\nexport const Tape: React.FC = ({ children }) => {\n  return (\n    <div className={styles.main}>\n      <div className={styles.slotsContainer}>\n        {children}\n      </div>\n    </div>\n  );\n};","import React from 'react';\nimport cn from 'classnames';\nimport { FullSizeBlockProps } from './types';\nimport style from './index.module.scss';\n\nexport const FullSizeBlock = React.forwardRef<HTMLDivElement, FullSizeBlockProps>(function FullSizeBlock(\n  props,\n  ref,\n) {\n  const { className, absolute = false, ...otherProps } = props;\n\n  return (\n    <div\n      {...otherProps}\n      ref={ref}\n      className={cn(style.main, absolute && style.main_absolute, className)}\n    />\n  );\n});","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSprite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 80,\n    height: 80,\n    viewBox: \"0 0 80 80\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M62 17L17 62\",\n    stroke: \"white\",\n    strokeWidth: 6,\n    strokeLinecap: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 17L62 62\",\n    stroke: \"white\",\n    strokeWidth: 6,\n    strokeLinecap: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSprite);\nexport default __webpack_public_path__ + \"static/media/sprite.b53005ef.svg\";\nexport { ForwardRef as ReactComponent };","export const defaultWidth = 120;\n\nexport const defaultFontSize = 20;\n\nexport const defaultProps = {\n  scores: 0,\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { Nullable } from 'src/App/types';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { ReactComponent as Sprite } from './images/sprite.svg';\nimport { defaultFontSize, defaultProps, defaultWidth } from './constants';\nimport { ScoreCounterProps } from './types';\nimport styles from './index.module.scss';\n\nexport const ScoreCounter = (props: ScoreCounterProps) => {\n  const { className, scores, ...otherProps } = { ...defaultProps, ...props };\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState<Nullable<number>>(null);\n  const scaling = width ? width / defaultWidth : 1;\n  const scoresStyle = React.useMemo(() => ({\n    fontSize: `${scaling * defaultFontSize}px`,\n  }), [scaling]);\n\n  React.useEffect(() => {\n    const element = ref.current!;\n    const calcWidth = () => setWidth(element.offsetWidth);\n    calcWidth();\n    window.addEventListener('resize', calcWidth);\n    return () => window.removeEventListener('resize', calcWidth);\n  }, []);\n\n  return (\n    <FullSizeBlock {...otherProps} ref={ref} className={cn(styles.main)}>\n      <FullSizeBlock absolute>\n        <Sprite />\n      </FullSizeBlock>\n      <div style={scoresStyle} className={styles.scores}>{scores}</div>\n    </FullSizeBlock>\n  );\n};\n","var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSprite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 26,\n    height: 30,\n    viewBox: \"0 0 26 30\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 17V13C0 5.8203 5.8203 0 13 0C20.1797 0 26 5.8203 26 13V17C26 24.1797 20.1797 30 13 30C5.8203 30 0 24.1797 0 17Z\",\n    fill: \"#FFC327\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.3266 13.4492H7.67346C7.45397 13.4492 7.27637 13.6269 7.27637 13.8466C7.27637 17.0048 9.84387 19.5744 13 19.5744C16.1562 19.5744 18.7237 17.0048 18.7237 13.8466C18.7237 13.6269 18.5461 13.4492 18.3266 13.4492ZM13 18.7797C10.4155 18.7797 8.28925 16.779 8.08644 14.2439H17.9136C17.7108 16.779 15.5846 18.7797 13 18.7797Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13 0C5.83185 0 0 5.83532 0 13.0082V16.9918C0 21.4052 2.20973 25.3096 5.57812 27.6625C5.57829 27.6627 5.57858 27.6628 5.57875 27.663C7.68479 29.1339 10.2426 30 13 30C17.4445 30 21.3737 27.7554 23.7191 24.3409C23.7209 24.3391 23.7217 24.3365 23.7235 24.3347C25.1582 22.2434 26 19.7145 26 16.9918V13.0082C26 5.83532 20.1681 0 13 0ZM2.16421 22.6032C1.36749 21.0691 0.885815 19.3467 0.807604 17.5206C1.15782 18.4651 1.61548 19.3574 2.16421 20.1843V22.6032ZM5.46191 26.5871C4.50091 25.8295 3.65572 24.932 2.95839 23.9237V21.2604C3.68567 22.1449 4.529 22.9294 5.46191 23.5964V26.5871ZM9.06401 28.55C8.06373 28.2079 7.12103 27.7412 6.25608 27.1652V24.1256C7.12983 24.6583 8.07153 25.0894 9.06401 25.4057V28.55ZM12.6029 29.1952C11.6572 29.1647 10.7382 29.0279 9.85819 28.7931V25.6304C10.7411 25.8506 11.6596 25.9782 12.6029 26.0067V29.1952ZM16.1399 28.7936C15.2604 29.0281 14.3421 29.1648 13.3971 29.1952V26.0067C14.3397 25.9782 15.2575 25.8507 16.1399 25.6309V28.7936ZM19.3841 27.3962C18.6192 27.8679 17.7979 28.2554 16.934 28.5506V25.4063C17.793 25.1328 18.6124 24.7707 19.3841 24.3334V27.3962ZM23.0416 23.9237C22.2583 25.0562 21.2892 26.0499 20.1782 26.8612V23.8467C21.2558 23.1297 22.2217 22.2576 23.0416 21.2604V23.9237ZM23.8358 22.6032V20.1843C24.3845 19.3574 24.8422 18.4651 25.1924 17.5206C25.1142 19.3467 24.6325 21.0691 23.8358 22.6032ZM13.0461 25.2209C13.0303 25.219 13.0164 25.2116 13 25.2116C12.9836 25.2116 12.9697 25.219 12.9539 25.2209C6.24479 25.1958 0.794177 19.7275 0.794177 13.0082C0.794177 6.2738 6.26966 0.794702 13 0.794702C19.7303 0.794702 25.2058 6.2738 25.2058 13.0082C25.2058 19.7275 19.7552 25.1958 13.0461 25.2209Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.0003 2.64795C7.29134 2.64795 2.64648 7.29548 2.64648 13.0082C2.64648 18.7209 7.29134 23.3688 13.0003 23.3688C18.7092 23.3688 23.3536 18.7209 23.3536 13.0082C23.3536 7.29548 18.7092 2.64795 13.0003 2.64795ZM13.0003 22.5741C7.72914 22.5741 3.44066 18.2828 3.44066 13.0082C3.44066 7.73358 7.72914 3.44265 13.0003 3.44265C18.2714 3.44265 22.5595 7.73358 22.5595 13.0082C22.5595 18.2828 18.2714 22.5741 13.0003 22.5741Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.7831 8.74609C15.2048 8.74609 13.9209 10.0309 13.9209 11.6102C13.9209 11.8298 14.0985 12.0076 14.318 12.0076H19.2482C19.4677 12.0076 19.6453 11.8298 19.6453 11.6102C19.6453 10.0309 18.3614 8.74609 16.7831 8.74609ZM14.7535 11.2129C14.9392 10.2614 15.7788 9.5408 16.7831 9.5408C17.7875 9.5408 18.627 10.2614 18.8128 11.2129H14.7535Z\",\n    fill: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17.3944 9.97949H16.1705C15.951 9.97949 15.7734 10.1573 15.7734 10.377C15.7734 10.5967 15.951 10.7744 16.1705 10.7744H17.3944C17.6139 10.7744 17.7915 10.5967 17.7915 10.377C17.7915 10.1573 17.6139 9.97949 17.3944 9.97949Z\",\n    fill: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M12.0789 11.6102C12.0789 10.0309 10.795 8.74609 9.21671 8.74609C7.63844 8.74609 6.35449 10.0309 6.35449 11.6102C6.35449 11.8298 6.5321 12.0076 6.75158 12.0076H11.6818C11.9013 12.0076 12.0789 11.8298 12.0789 11.6102ZM7.18706 11.2129C7.37281 10.2614 8.21236 9.5408 9.21671 9.5408C10.2211 9.5408 11.0606 10.2614 11.2464 11.2129H7.18706Z\",\n    fill: \"black\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.82894 9.97949H8.6051C8.38561 9.97949 8.20801 10.1573 8.20801 10.377C8.20801 10.5967 8.38561 10.7744 8.6051 10.7744H9.82894C10.0484 10.7744 10.226 10.5967 10.226 10.377C10.226 10.1573 10.0484 9.97949 9.82894 9.97949Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSprite);\nexport default __webpack_public_path__ + \"static/media/sprite.c2f4836e.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport cn from 'classnames';\nimport { Nullable } from 'src/App/types';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { ReactComponent as Sprite } from './images/sprite.svg';\nimport { defaultBorderWidth, defaultWidth } from './constants';\nimport { BackButtonProps } from './types';\nimport styles from './index.module.scss';\n\nexport const BackButton = ({ className, disabled, style: styleProp, onClick, ...otherProps }: BackButtonProps) => {\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState<Nullable<number>>(null);\n  const scaling = width ? width / defaultWidth : 1;\n  const style = React.useMemo(() => ({\n    ...styleProp,\n    borderWidth: `${scaling * defaultBorderWidth}px`,\n  }), [scaling, styleProp]);\n\n  React.useEffect(() => {\n    const element = ref.current!;\n    const calcWidth = () => setWidth(element.offsetWidth);\n    calcWidth();\n    window.addEventListener('resize', calcWidth);\n    return () => window.removeEventListener('resize', calcWidth);\n  }, []);\n\n  return (\n    <FullSizeBlock\n      {...otherProps}\n      ref={ref}\n      style={style}\n      className={cn(styles.main, disabled && styles.main_disabled, className)}\n      onClick={onClick}\n    >\n      <Sprite />\n    </FullSizeBlock>\n  );\n};\n","export const defaultBorderWidth = 7;\n\nexport const defaultWidth = 80;\n\nexport const defaultProps = {\n  disabled: false,\n};\n","import cn from \"classnames\";\nimport { ButtonProps } from \"./types\";\nimport classes from \"./index.module.scss\";\n\n\nconst Button = (props: ButtonProps) => {\n  const { children, className, onClick, type = \"default\" } = props;\n\n  return (\n    <button\n      type=\"button\"\n      tabIndex={-1}\n      className={cn(classes.main,classes[`main_${type}`], className)}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport { Button };\n","import { ContentContinueGameProps } from \"./types\";\nimport classes from \"./index.module.scss\";\nimport { Button } from \"../../Button\";\n\nconst txt = `Хочешь закончить игру\\r\\nили продолжить?`;\n\nexport const ContentContinueGame = (props: ContentContinueGameProps) => {\n  const { text, onClickBreak, onClickContinue } = props;\n  return (\n    <div className={classes.popupContent}>\n      <div className={classes.textWrap}>\n        <div className={classes.text}>{text ? text : txt}</div>\n      </div>\n      <div className={classes.buttonsWrap}>\n        <Button\n          type={\"continue\"}\n          className={classes.btn}\n          onClick={onClickContinue}\n        >\n          Вернуться\n        </Button>\n        <Button type={\"break\"} className={classes.btn} onClick={onClickBreak}>\n          Закончить игру\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import classes from \"./index.module.scss\";\nimport { PopupContinueGameProps } from \"./types\";\nimport cn from \"classnames\";\nimport { ContentContinueGame } from \"./ContentContinueGame\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCallback } from \"react\";\n\n\nexport const PopupContinueGame = (props: PopupContinueGameProps) => {\n  const { text, onClickOutside, onClickBreak, onClickContinue } = props;\n  const navigate = useNavigate();\n\n  const onClick = useCallback(()=>{\n    onClickBreak();\n    navigate('/');\n  },[onClickBreak, navigate])\n  \n  return (\n    <div className={classes.wrap}>\n      <div className={classes.overlay} onClick={onClickOutside}></div>\n      <div className={cn(classes.popup, classes.popup_continueGame)}>\n          <ContentContinueGame\n            text={text}\n            onClickBreak={onClick}\n            onClickContinue={onClickContinue}\n          />\n      </div>\n    </div>\n  );\n};\n","\nimport { letterScoreDistributions } from \"src/App/store/ProgressController/constants\";\nimport classes from \"./index.module.scss\";\n\nconst getScores = () => {\n  const uniqScores: number[] = [];\n  letterScoreDistributions[\"rus\"].forEach((curItem) => {\n    if (!uniqScores.includes(curItem.score)) {\n      uniqScores.push(curItem.score);\n    }\n  });\n  const lettersArrays = uniqScores\n    .sort((a, b) => {\n      return a - b;\n    })\n    .map((score) => {\n      let letters:string[]= [];\n      letterScoreDistributions[\"rus\"].forEach((curItem) => {\n        if (curItem.score === score) {\n          letters.push(curItem.letter);\n        }\n      });\n      return letters\n    });\n\n  return { uniqScores, lettersArrays };\n};\n\nexport const TableLetterScore = () => {\n  const { uniqScores, lettersArrays } = getScores();\n  console.log(uniqScores, lettersArrays);\n  return (\n    <div className={classes.table}>\n\n      {uniqScores.map((score, idx) => {\n        return (\n          <p key={`score_${score}`}>\n            <span className={classes.letterScore}>\n              {score}\n              {\" — \"}\n            </span>\n            <span className={classes.letter}>{lettersArrays[idx].join(', ')}</span>\n          </p>\n        );\n      })}\n    </div>\n  );\n};\n","import { TableResultGameProps } from \"../types\";\nimport classes from \"./index.module.scss\";\nimport cn from \"classnames\";\n\nexport const TableResult = (props: TableResultGameProps) => {\n  const { scores, words } = props;\n  return (\n    <>\n      <div className={cn(classes.scores)}>{`Твой счет: ${scores}`}</div>\n      <div className={classes.words}>\n        {words.map((word, idx) => {\n          return <p key={`word_${word}_${idx}`}>{word}</p>;\n        })}\n      </div>\n    </>\n  );\n};\n","import cn from \"classnames\";\nimport { memo, useState } from \"react\";\nimport classes from \"./index.module.scss\";\nimport { Button } from \"../../Button\";\nimport { ContentResultGameProps } from \"./types\";\nimport { TableLetterScore } from \"./TableLetterScore\";\nimport { TableResult } from \"./TableResult\";\n\nexport const ContentResultGame = memo((props: ContentResultGameProps) => {\n  const { onClickBreak, onClickContinue, words, scores } = props;\n  const [isVisibleResult, setVisibleResult] = useState(true);\n\n  return (\n    <div className={classes.popupContent}>\n      <div className={classes.textWrap}>\n        <div\n          className={cn(\n            classes.container,\n            classes[`container_${isVisibleResult ? \"result\" : \"table\"}`]\n          )}\n        >\n          <div className={classes.tabs}>\n            <div\n              className={cn(classes.tab, isVisibleResult && classes.tabActive)}\n              onClick={() => {\n                setVisibleResult(true);\n              }}\n            >\n              Собранные слова\n            </div>\n            <div\n              className={cn(classes.tab, !isVisibleResult && classes.tabActive)}\n              onClick={() => {\n                setVisibleResult(false);\n              }}\n            >\n              Стоимость букв\n            </div>\n          </div>\n          {!isVisibleResult && <TableLetterScore />}\n          {isVisibleResult && <TableResult words={words} scores={scores} />}\n        </div>\n      </div>\n      <div className={classes.buttonsWrap}>\n        <Button type={\"continue\"} className={classes.btn} onClick={onClickContinue}>Вернуться</Button>\n        <Button className={classes.btn} onClick={onClickBreak}>Закончить игру</Button>\n      </div>\n    </div>\n  );\n});\n","import classes from \"./index.module.scss\";\nimport { PopupResultGameProps } from \"./types\";\nimport cn from \"classnames\";\nimport { ContentResultGame } from \"./ContentResultGame\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCallback } from \"react\";\n\nexport const PopupResultGame = (props: PopupResultGameProps) => {\n  const {words, scores, onClickOutside, onClickEndGame } = props;\n  const navigate = useNavigate();\n\n  const onClick = useCallback(()=>{\n    onClickEndGame();\n    navigate('/');\n  },[onClickEndGame, navigate])\n\n  return (\n    <div className={classes.wrap}>\n      <div className={classes.overlay} onClick={onClickOutside}></div>\n      <div className={cn(classes.popup, classes.popup_resultGame)}>\n          <ContentResultGame\n            scores={scores}\n            words={words}\n            onClickBreak={onClick}\n            onClickContinue={onClickOutside}\n          />\n        \n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nexport const useCombinedRefs = <T>(...refs: React.ForwardedRef<T>[]) => {\n  const targetRef = React.useRef<T>();\n\n  React.useEffect(() => {\n    refs.forEach((ref) => {\n      if (!ref) return;\n\n      if (typeof ref === 'function') {\n        ref(targetRef.current || null);\n      } else {\n        const currentRef = ref;\n        currentRef.current = targetRef.current || null;\n      }\n    });\n  }, [refs]);\n\n  return targetRef as React.MutableRefObject<T>;\n};\n","export const defaultWidth = 50;\n\nexport const defaultFontSize = 28;\n\nexport const colors = {\n  '#FF7B1C': '#FF7B1C',\n  '#545AEF': '#545AEF',\n  '#0ABA9A': '#0ABA9A',\n  '#FFDC27': '#FFDC27',\n  '#A258FF': '#A258FF',\n  '#18C2E8': '#18C2E8',\n  '#D73A8F': '#D73A8F',\n};\n\nexport const defaultProps = {\n  color: colors['#0ABA9A'],\n  disabled: false,\n  hovered: false,\n  selected: false,\n  hoverable: false,\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { Nullable } from 'src/App/types';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { defaultWidth, defaultFontSize, defaultProps } from './constants';\nimport { CubeProps } from './types';\nimport styles from './index.module.scss';\n\nexport const Cube = React.forwardRef<HTMLDivElement, CubeProps>(function Cube(props, ref) {\n  const {\n    color,\n    children,\n    className,\n    disabled,\n    selected,\n    hovered,\n    hoverable,\n    style: styleProp,\n    ...otherProps\n  } = {\n    ...defaultProps,\n    ...props,\n  };\n\n  const combinedRef = useCombinedRefs(ref);\n  const [width, setWidth] = React.useState<Nullable<number>>(null);\n  const scaling = width ? width / defaultWidth : 1;\n  const style: React.CSSProperties = React.useMemo(() => ({\n    ...styleProp,\n    fontSize: `${scaling * defaultFontSize}px`,\n  }), [scaling, styleProp]);\n\n  React.useEffect(() => {\n    const element = combinedRef.current!;\n    const calcWidth = () => setWidth(element.offsetWidth);\n    calcWidth();\n    window.addEventListener('resize', calcWidth);\n    return () => window.removeEventListener('resize', calcWidth);\n  }, [combinedRef]);\n\n  return (\n    <FullSizeBlock\n      {...otherProps}\n      ref={combinedRef}\n      style={style}\n      className={cn(\n        styles.main,\n        selected && styles.main_selected,\n        hoverable && styles.main_hoverable,\n        hovered && styles.main_hovered,\n        disabled && styles.main_disabled,\n        className,\n      )}\n    >\n      <FullSizeBlock className={styles.scaleWrap}>\n        <FullSizeBlock\n          className={styles.background}\n          style={{\n            backgroundColor: color,\n            boxShadow: `${scaling * 2}px ${scaling * 2}px ${scaling * 2}px rgba(34, 0, 135, 0.25)`,\n          }}\n          absolute\n        />\n        <FullSizeBlock\n          className={styles.content}\n          absolute\n        >\n          {children}\n        </FullSizeBlock>\n      </FullSizeBlock>\n    </FullSizeBlock>\n  );\n});\n","import React from 'react';\nimport { DivProps } from './types';\n\nexport const Div = React.forwardRef<HTMLDivElement, DivProps>(function Div(props, ref) {\n  return <div ref={ref} {...props} />;\n});\n","import React from 'react';\nimport { DraggerStore } from './store/DraggerStore';\n\nexport const DraggerStoreContext = React.createContext<DraggerStore | null>(null);\n\nexport const useDraggerStoreContext = () => {\n  const draggerStore = React.useContext(DraggerStoreContext);\n\n  if (!draggerStore) {\n    throw new Error('DraggerStoreContext value was not provided');\n  }\n\n  return draggerStore;\n};\n","import { makeAutoObservable, runInAction } from 'mobx';\nimport { DragItem } from '../DragItem';\n\nexport class Collection<T extends DragItem = DragItem> {\n  items: T[] = [];\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n\n  findById(id: string | number) {\n    const item = this.items.find((_item) => _item.id === id);\n    return item;\n  }\n\n  findByElement(element: HTMLElement) {\n    const item = this.items.find((_item) => _item.element === element);\n    return item;\n  }\n\n  add(item: T) {\n    runInAction(() => {\n      this.items = this.items.concat(item);\n    });\n\n    return item;\n  }\n}\n","export const getOffset = (relativeNode: HTMLElement, targetNode: HTMLElement) => {\n  const relativeNodeRect = relativeNode.getBoundingClientRect();\n  const targetNodeRect = targetNode.getBoundingClientRect();\n\n  return {\n    left: targetNodeRect.left - relativeNodeRect.left,\n    top: targetNodeRect.top - relativeNodeRect.top,\n  };\n};\n","import { Nullable } from 'src/App/types';\nimport { IntersectionData, IntersectionDataItem } from './types';\n\nexport class IntersectionCalculator {\n  data: Nullable<IntersectionData> = null;\n\n  static getIntersectionArea(element1: HTMLElement, element2: HTMLElement) {\n    let height = 0;\n    let width = 0;\n    const rect1 = element1.getBoundingClientRect();\n    const rect2 = element2.getBoundingClientRect();\n\n    const unionWidth =\n      Math.max(rect1.x + rect1.width, rect2.x + rect2.width) - Math.min(rect1.x, rect2.x);\n    const widthOfTwo = rect1.width + rect2.width;\n\n    const unionHeight =\n      Math.max(rect1.y + rect1.height, rect2.y + rect2.height) - Math.min(rect1.y, rect2.y);\n    const heightOfTwo = rect1.height + rect2.height;\n\n    if (unionWidth <= widthOfTwo) {\n      width = widthOfTwo - unionWidth;\n    }\n\n    if (unionHeight <= heightOfTwo) {\n      height = heightOfTwo - unionHeight;\n    }\n\n    return width * height;\n  }\n\n  static getIntersectionData(targetElement: HTMLElement, elements: HTMLElement[]) {\n    return elements.map((element, i) => {\n      const intersectionArea = this.getIntersectionArea(targetElement, element);\n\n      return { index: i, element, area: intersectionArea };\n    });\n  }\n\n  calculateIntersectedElements(targetElement: HTMLElement, elements: HTMLElement[]) {\n    const data = IntersectionCalculator.getIntersectionData(targetElement, elements).filter(\n      ({ area }) => area !== 0,\n    );\n\n    let prev: Nullable<IntersectionDataItem> = null;\n    let current: Nullable<IntersectionDataItem> = null;\n\n    if (this.data !== null && this.data.length !== 0) {\n      prev = this.data.reduce((acc, currValue) => {\n        if (acc.area > currValue.area) return acc;\n        return currValue;\n      });\n    }\n\n    this.data = data;\n\n    if (this.data !== null && this.data.length !== 0) {\n      current = this.data.reduce((acc, currValue) => {\n        if (acc.area > currValue.area) return acc;\n        return currValue;\n      });\n    }\n\n    return { prev, current };\n  }\n\n  clearIntersection() {\n    this.data = null;\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { getOffset } from 'src/App/shared/getOffset';\nimport { Collection } from '../Collection';\nimport { Plate } from '../Plate';\nimport { Slot } from '../Slot';\nimport { IntersectionCalculator } from './IntersectionCalculator';\nimport { DragHandlerParams, Options } from './types';\n\nexport class DragOperator {\n  private intersectionCalculators: IntersectionCalculator[] = [];\n\n  plates: Collection<Plate>;\n\n  slots: Collection<Slot>;\n\n  get platesInDrag() {\n    const plate = this.plates.items.filter((item) => item.inDrag);\n    return plate;\n  }\n\n  get inDrag() {\n    return !!this.platesInDrag;\n  }\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.plates = options.plates;\n    this.slots = options.slots;\n  }\n\n  private assertDragStarted() {\n    if (!this.inDrag) {\n      throw new Error(`${this.constructor.name}: drag was not started`);\n    }\n  }\n\n  startDrag({ event, data }: DragHandlerParams) {\n    const currentPlate = this.plates.findByElement(data.element)!;\n\n    if (currentPlate.disabled) return;\n    \n    const currentSlot = this.slots.findById(currentPlate.slotId)!;\n    const offset = getOffset(currentSlot.element!, currentPlate.element!);\n\n    const draggingPlates = currentPlate.group ? this.plates.items.filter((plate) => plate.group === currentPlate.group) : [currentPlate];\n\n    draggingPlates.forEach((draggingPlate) => {\n      this.intersectionCalculators.push(new IntersectionCalculator());\n      const translate = { x: offset.left, y: offset.top };\n      if (draggingPlate.centered) {\n        const plateCoordinates = data.element.getBoundingClientRect();\n        translate.x = data.point.x - plateCoordinates.x - plateCoordinates.width / 2;\n        translate.y = data.point.y - plateCoordinates.y - plateCoordinates.height / 2;\n      }\n      draggingPlate.startDrag();\n      draggingPlate.setTranslate(translate);\n      draggingPlate.callbacks?.onStartDrag?.(event, data);\n    });\n  }\n\n  moveDrag({ event, data }: DragHandlerParams) {\n    this.assertDragStarted();\n\n    this.platesInDrag.forEach((plateInDrag, i) => {\n      plateInDrag.setTranslate({\n        x: plateInDrag.translate.x + data.deltaPoint.x,\n        y: plateInDrag.translate.y + data.deltaPoint.y,\n      });\n  \n      plateInDrag.callbacks?.onMoveDrag?.(event, data);\n  \n      const { prev, current } = this.intersectionCalculators[i].calculateIntersectedElements(\n        plateInDrag.intersectionElement!,\n        this.slots.items.map((slot) => slot.intersectionElement!),\n      );\n  \n      const intersectedSlot = current ? this.slots.items[current.index] : null;\n      const prevIntersectedSlot = prev ? this.slots.items[prev.index] : null;\n  \n      if (!intersectedSlot && prevIntersectedSlot) {\n        const intersectionData = {\n          plateId: plateInDrag.id,\n          slotId: prevIntersectedSlot.id,\n        };\n  \n        plateInDrag.callbacks?.onIntersectionOut?.(intersectionData);\n        prevIntersectedSlot.callbacks?.onIntersectionOut?.(intersectionData);\n      } else if (intersectedSlot && !prevIntersectedSlot) {\n        const intersectionData = {\n          plateId: plateInDrag.id,\n          slotId: intersectedSlot.id,\n        };\n  \n        plateInDrag.callbacks?.onIntersectionIn?.(intersectionData);\n        intersectedSlot.callbacks?.onIntersectionIn?.(intersectionData);\n      } else if (\n        intersectedSlot &&\n        prevIntersectedSlot &&\n        intersectedSlot.id !== prevIntersectedSlot.id\n      ) {\n        plateInDrag.callbacks?.onIntersectionOut?.({\n          plateId: plateInDrag.id,\n          slotId: prevIntersectedSlot.id,\n        });\n        prevIntersectedSlot.callbacks?.onIntersectionOut?.({\n          plateId: plateInDrag.id,\n          slotId: prevIntersectedSlot.id,\n        });\n  \n        plateInDrag.callbacks?.onIntersectionIn?.({\n          plateId: plateInDrag.id,\n          slotId: intersectedSlot.id,\n        });\n        intersectedSlot.callbacks?.onIntersectionIn?.({\n          plateId: plateInDrag.id,\n          slotId: intersectedSlot.id,\n        });\n      }\n    });\n  }\n\n  finishDrag({ event, data }: DragHandlerParams) {\n    this.assertDragStarted();\n    this.intersectionCalculators = [];\n    this.platesInDrag.forEach((plateInDrag) => {\n      plateInDrag.finishDrag();\n      plateInDrag.callbacks?.onFinishDrag?.(event, data);\n    });\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { Collection } from '../Collection';\nimport { DragOperator } from '../DragOperator';\nimport { Plate } from '../Plate';\nimport { Slot } from '../Slot';\n\nexport class DraggerStore {\n  plates = new Collection<Plate>();\n\n  slots = new Collection<Slot>();\n\n  operator = new DragOperator({\n    plates: this.plates,\n    slots: this.slots,\n  });\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n}\n","import React from 'react';\nimport { useLocalObservable } from 'mobx-react';\nimport { DraggerStoreContext } from './context';\nimport { DraggerStore } from './store/DraggerStore';\n\nexport const Dragger: React.FC = (props) => {\n  const { children } = props;\n  const dragger = useLocalObservable(() => new DraggerStore());\n\n  return <DraggerStoreContext.Provider value={dragger}>{children}</DraggerStoreContext.Provider>;\n};\n","import { action, makeObservable, observable } from 'mobx';\nimport { Nullable } from 'src/App/types';\nimport { Options } from './types';\n\nexport class DragItem {\n  id: string | number;\n\n  element: Nullable<HTMLElement> = null;\n\n  constructor(options: Options) {\n    makeObservable(this, {\n      element: observable,\n      setElement: action.bound,\n    });\n\n    this.id = options.id;\n  }\n\n  setElement(element: HTMLElement) {\n    this.element = element;\n  }\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\nimport { Nullable } from 'src/App/types';\nimport { DragItem } from '../DragItem';\nimport { Callbacks, Options } from './types';\n\nexport class Slot extends DragItem {\n  elementSelector: Nullable<string>;\n\n  intersectionSelector: Nullable<string>;\n\n  callbacks?: Callbacks;\n\n  get intersectionElement() {\n    if (!this.intersectionSelector) return this.element;\n\n    const intersectionElement = this.element?.querySelector(this.intersectionSelector);\n\n    if (!intersectionElement) return this.element;\n\n    return intersectionElement as HTMLElement;\n  }\n\n  get currentElement() {\n    if (!this.elementSelector) return this.element;\n\n    const element = this.element?.querySelector(this.elementSelector);\n\n    if (!element) return element;\n\n    return element as HTMLElement;\n  }\n\n  constructor(options: Options) {\n    super(options);\n\n    makeObservable(this, {\n      callbacks: observable,\n      intersectionElement: computed,\n      currentElement: computed,\n      setCallbacks: action.bound,\n    });\n\n    this.elementSelector = options.elementSelector ?? null;\n    this.intersectionSelector = options.intersectionSelector ?? null;\n    this.callbacks = options.callbacks;\n  }\n\n  setCallbacks(callbacks: Callbacks) {\n    this.callbacks = callbacks;\n  }\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport { useDraggerStoreContext } from '../../context';\nimport { Slot as SlotModel } from '../../store/Slot';\nimport { SlotProps } from './types';\n\nexport const Slot = observer(function Slot<P extends Object>(props: SlotProps<P>) {\n  const {\n    Component,\n    id,\n    intersectionSelector,\n    elementSelector,\n    onIntersectionIn,\n    onIntersectionOut,\n    ...otherProps\n  } = props;\n\n  const ref = React.useRef<HTMLElement>(null);\n  const dragger = useDraggerStoreContext();\n\n  const slot = React.useMemo(\n    () =>\n      dragger.slots.add(\n        new SlotModel({\n          id,\n          intersectionSelector,\n          elementSelector,\n          callbacks: {\n            onIntersectionIn,\n            onIntersectionOut,\n          },\n        }),\n      ),\n    [dragger.slots, elementSelector, id, intersectionSelector, onIntersectionIn, onIntersectionOut],\n  );\n\n  React.useEffect(() => {\n    slot.setElement(ref.current!);\n  }, [slot]);\n\n  React.useEffect(() => {\n    slot.setCallbacks({\n      onIntersectionIn,\n      onIntersectionOut,\n    });\n  }, [onIntersectionIn, onIntersectionOut, slot]);\n\n  return <Component {...((otherProps as any) as P)} ref={ref} />;\n});\n","import { action, computed, makeObservable, observable } from 'mobx';\nimport { Nullable, Point } from 'src/App/types';\nimport { DragItem } from '../DragItem';\nimport { Callbacks, Options } from './types';\n\nexport class Plate extends DragItem {\n  translate: Point = { x: 0, y: 0 };\n\n  slotId: string | number;\n\n  inDrag = false;\n\n  centered?: boolean;\n\n  group?: string | number;\n\n  intersectionSelector: Nullable<string>;\n\n  disabled = false;\n\n  callbacks?: Callbacks;\n\n  get intersectionElement() {\n    if (!this.intersectionSelector) return this.element;\n\n    const intersectionElement = this.element?.querySelector(this.intersectionSelector);\n\n    if (!intersectionElement) return this.element;\n\n    return intersectionElement as HTMLElement;\n  }\n\n  constructor(options: Options) {\n    super(options);\n\n    makeObservable(this, {\n      translate: observable,\n      slotId: observable,\n      inDrag: observable,\n      group: observable,\n      disabled: observable,\n      intersectionElement: computed,\n      startDrag: action.bound,\n      finishDrag: action.bound,\n      setTranslate: action.bound,\n      setSlotId: action.bound,\n    });\n\n    this.slotId = options.slotId;\n    this.disabled = options.disabled ?? false;\n    this.group = options.group;\n    this.centered = options.centered;\n    this.intersectionSelector = options.intersectionSelector ?? null;\n    this.callbacks = options.callbacks;\n  }\n\n  setCallbacks(callbacks: Callbacks) {\n    this.callbacks = callbacks;\n  }\n\n  startDrag() {\n    this.inDrag = true;\n  }\n\n  finishDrag() {\n    this.inDrag = false;\n  }\n\n  setTranslate(translate: Point) {\n    this.translate = translate;\n  }\n\n  setSlotId(slotId: string | number) {\n    this.slotId = slotId;\n  }\n\n  setDisabled(disabled: boolean) {\n    this.disabled = disabled;\n  }\n}\n","import { IReactionDisposer, IReactionOptions, IReactionPublic, reaction } from 'mobx';\nimport { Nullable } from 'src/App/types';\nimport { Options } from './types';\n\nexport class Reaction<R> {\n  private disposer: Nullable<IReactionDisposer> = null;\n\n  private expression: (reaction: IReactionPublic) => R;\n\n  private handler: (current: R, prev: R | undefined, reaction: IReactionPublic) => void;\n\n  private options?: IReactionOptions<any, any>;\n\n  constructor({ expression, handler, options }: Options<R>) {\n    this.expression = expression;\n    this.handler = handler;\n    this.options = options;\n    this.handle = this.handle.bind(this);\n  }\n\n  init() {\n    this.disposer = reaction(this.expression, this.handle, this.options);\n  }\n\n  dispose() {\n    this.disposer?.();\n    this.disposer = null;\n  }\n\n  private handle(current: R, prev: R | undefined, _reaction: IReactionPublic) {\n    try {\n      this.handler(current, prev, _reaction);\n    } catch (err) {\n      // @ts-ignore\n      window.dispatchEvent(new ErrorEvent('error', err));\n      throw err;\n    }\n  }\n}\n","import { makeAutoObservable, observable } from 'mobx';\nimport { omit } from 'lodash';\nimport { Plate as PlateModel } from '../../../../store/Plate';\nimport { DefaultPlateComponentProps, PlateProps } from '../../types';\nimport { Params } from './types';\nimport { Reaction } from 'src/App/shared/Reaction';\nimport { DraggerStore } from 'src/App/components/Dragger/store/DraggerStore';\nimport { Nullable } from 'src/App/types';\nimport { DraggableEventHandler } from 'src/App/components/Draggable/types';\n\nexport class PlateStore<P extends DefaultPlateComponentProps> {\n  private props!: PlateProps<P>;\n\n  private plateModel: PlateModel;\n\n  private reactions = {\n    slotId: new Reaction({\n      expression: () => this.props.slotId,\n      handler: (slotId) => this.model.setSlotId(slotId),\n    }),\n    callbacks: new Reaction({\n      expression: () => {\n        const { props } = this;\n        return {\n          onAfterDragMoving: props.onAfterDragMoving,\n          onAfterDragMovingEnd: props.onAfterDragMovingEnd,\n          onStartDrag: props.onStartDrag,\n          onMoveDrag: props.onMoveDrag,\n          onFinishDrag: props.onFinishDrag,\n          onIntersectionIn: props.onIntersectionIn,\n          onIntersectionOut: props.onIntersectionOut,\n        };\n      },\n      handler: (callbacks) => {\n        this.model.setCallbacks(callbacks);\n      },\n    }),\n  };\n\n  dragger: DraggerStore;\n\n  element: Nullable<HTMLElement> = null;\n\n  get model() {\n    return this.dragger.plates.findById(this.props.id)!;\n  }\n\n  get slot() {\n    return this.dragger.slots.findById(this.model.slotId);\n  }\n\n  get draggableProps() {\n    const onStartDrag: DraggableEventHandler = (event, data) => {\n      this.dragger.operator.startDrag({ event, data });\n    };\n\n    const onMoveDrag: DraggableEventHandler = (event, data) => {\n      this.dragger.operator.moveDrag({ event, data });\n    };\n\n    const onFinishDrag: DraggableEventHandler = (event, data) => {\n      this.dragger.operator.finishDrag({ event, data });\n    };\n\n    return {\n      onStartDrag,\n      onMoveDrag,\n      onFinishDrag,\n    };\n  }\n\n  get elementMoverProps() {\n    return {\n      Component: this.props.Component,\n      anchor: this.slot?.currentElement,\n      translate: this.model.translate,\n      bounded: this.props.state === 'default' ? !this.model.inDrag : this.props.state === 'bounded',\n      duration: this.props.afterDragMovingDuration ?? 500,\n      withAnimation: this.props.withMovingAfterDrag ?? true,\n      easing: this.props.afterDragMovingEasing ?? 'easeInOutQuad',\n      calculationHelper: this.props.afterDragMovingPositionCalculationHelper,\n      onMoving: this.props.onAfterDragMoving,\n      onMovingEnd: this.props.onAfterDragMovingEnd,\n      ...omit(this.props, [\n        'style',\n        'Component',\n        'id',\n        'slotId',\n        'withMovingAfterDrag',\n        'afterDragMovingDuration',\n        'afterDragMovingEasing',\n        'afterDragMovingPositionCalculationHelper',\n        'onAfterDragMoving',\n        'onAfterDragMovingEnd',\n        'onStartDrag',\n        'onMoveDrag',\n        'onFinishDrag',\n        'onIntersectionIn',\n        'onIntersectionOut',\n      ]),\n    };\n  }\n\n  constructor(params: Params<P>) {\n    makeAutoObservable<PlateStore<P>, 'props'>(\n      this,\n      { props: observable.shallow },\n      { autoBind: true },\n    );\n\n    this.initReactions();\n\n    this.element = params.element;\n    this.dragger = params.dragger;\n\n    this.setProps(params.props);\n\n    this.plateModel = this.dragger.plates.add(\n      new PlateModel({\n        id: this.props.id,\n        slotId: this.props.slotId,\n        centered: this.props.centered,\n        group: this.props.group,\n        disabled: this.props.disabled,\n        intersectionSelector: this.props.intersectionSelector,\n        callbacks: {\n          onAfterDragMoving: this.props.onAfterDragMoving,\n          onAfterDragMovingEnd: this.props.onAfterDragMovingEnd,\n          onStartDrag: this.props.onStartDrag,\n          onMoveDrag: this.props.onMoveDrag,\n          onFinishDrag: this.props.onFinishDrag,\n          onIntersectionIn: this.props.onIntersectionIn,\n          onIntersectionOut: this.props.onIntersectionOut,\n        },\n      }),\n    );\n  }\n\n  private initReactions() {\n    Object.values(this.reactions).forEach((reaction) => reaction.init());\n  }\n\n  setProps(props: PlateProps<P>) {\n    this.props = props;\n    this.props.state = this.props.state ?? 'default';\n    this.props.disabled = this.props.disabled ?? false;\n    this.plateModel?.setDisabled(this.props.disabled);\n  }\n\n  setElement(element: HTMLElement) {\n    this.element = element;\n    this.model.setElement(element);\n  }\n\n  clear() {\n    Object.values(this.reactions).forEach((reaction) => reaction.dispose());\n  }\n}\n","import React from 'react';\nimport { PlateStore } from './store/PlateStore';\n\nexport const PlateStoreContext = React.createContext<PlateStore<any> | null>(null);\n\nexport const usePlateStoreContext = <P extends Object>() => {\n  const plateStore = React.useContext(PlateStoreContext);\n\n  if (!plateStore) {\n    throw new Error('PlateStoreContext values was not provided');\n  }\n\n  return plateStore as PlateStore<P>;\n};\n","import russianWordsBase from 'russian-words';\n\nexport const russianWords = russianWordsBase.map((w) => w.trim()).sort().filter((w) => w !== 'ж');\n\nexport const animeEasings = {\n  easeInQuad: 'easeInQuad',\n  easeInCubic: 'easeInCubic',\n  easeInQuart: 'easeInQuart',\n  easeInQuint: 'easeInQuint',\n  easeInSine: 'easeInSine',\n  easeInExpo: 'easeInExpo',\n  easeInCirc: 'easeInCirc',\n  easeInBack: 'easeInBack',\n  easeOutQuad: 'easeOutQuad',\n  easeOutCubic: 'easeOutCubic',\n  easeOutQuart: 'easeOutQuart',\n  easeOutQuint: 'easeOutQuint',\n  easeOutSine: 'easeOutSine',\n  easeOutExpo: 'easeOutExpo',\n  easeOutCirc: 'easeOutCirc',\n  easeOutBack: 'easeOutBack',\n  easeInBounce: 'easeInBounce',\n  easeInOutQuad: 'easeInOutQuad',\n  easeInOutCubic: 'easeInOutCubic',\n  easeInOutQuart: 'easeInOutQuart',\n  easeInOutQuint: 'easeInOutQuint',\n  easeInOutSine: 'easeInOutSine',\n  easeInOutExpo: 'easeInOutExpo',\n  easeInOutCirc: 'easeInOutCirc',\n  easeInOutBack: 'easeInOutBack',\n  easeInOutBounce: 'easeInOutBounce',\n  easeOutBounce: 'easeOutBounce',\n  easeOutInQuad: 'easeOutInQuad',\n  easeOutInCubic: 'easeOutInCubic',\n  easeOutInQuart: 'easeOutInQuart',\n  easeOutInQuint: 'easeOutInQuint',\n  easeOutInSine: 'easeOutInSine',\n  easeOutInExpo: 'easeOutInExpo',\n  easeOutInCirc: 'easeOutInCirc',\n  easeOutInBack: 'easeOutInBack',\n  easeOutInBounce: 'easeOutInBounce',\n  linear: 'linear',\n};\n","import { makeAutoObservable } from 'mobx';\nimport React from 'react';\nimport { Point } from 'src/App/types';\nimport { Options } from './types';\n\nexport class ElementMoverStore {\n  translate!: Point;\n\n  anchor!: HTMLElement;\n\n  withAnimation = false;\n\n  firstRender = true;\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this.setAnchor(options.anchor);\n    this.setTranslate(options.translate);\n    this.setWithAnimation(options.withAnimation);\n  }\n\n  get calculatedTransformStyle(): React.CSSProperties {\n    return { transform: `translate(${this.translate.x}px, ${this.translate.y}px)` };\n  }\n\n  passFirstRender() {\n    this.firstRender = false;\n  }\n\n  setTranslate(value: Point) {\n    this.translate = value;\n  }\n\n  setAnchor(newAnchor: HTMLElement) {\n    this.withAnimation = true;\n    this.anchor = newAnchor;\n  }\n\n  setWithAnimation(withAnimation: boolean) {\n    this.withAnimation = withAnimation;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { entries } from 'lodash';\nimport { ReparentableProps } from './types';\n\nexport const Reparentable = (props: ReparentableProps) => {\n  const { className, parent, containerStyle, children } = props;\n  const portalContainer = React.useMemo(() => {\n    const element = document.createElement('div');\n    element.style.width = '100%';\n    element.style.height = '100%';\n    return element;\n  }, []);\n\n  React.useLayoutEffect(() => {\n    const pairs = entries(containerStyle);\n    pairs.forEach(([name, value]) => {\n      // @ts-ignore\n      portalContainer.style[name] = value;\n    });\n  }, [containerStyle, portalContainer.style]);\n\n  React.useLayoutEffect(() => {\n    portalContainer.className = className ?? '';\n  }, [className, portalContainer]);\n\n  React.useLayoutEffect(() => {\n    parent.appendChild(portalContainer);\n  }, [parent, portalContainer]);\n\n  React.useLayoutEffect(() => () => portalContainer.remove(), [portalContainer]);\n\n  return ReactDOM.createPortal(children, portalContainer);\n};\n","import React from 'react';\nimport { observer, useLocalObservable } from 'mobx-react';\nimport anime, { AnimeInstance } from 'animejs';\nimport { animeEasings } from 'src/App/constants';\nimport { Point } from 'src/App/types';\nimport { ElementMoverStore } from './store/ElementMoverStore';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { getOffset } from 'src/App/shared/getOffset';\nimport { Reparentable } from '../Reparentable';\nimport { CalculationHelper, DefaultComponentProps, ElementMoverProps } from './types';\n\nconst calculatePoint: CalculationHelper = (data) => data.currentTranslate;\n\nconst defaultPoint: Point = { x: 0, y: 0 };\n\nexport const ElementMover = observer(\n  React.forwardRef(function ElementMover<P extends DefaultComponentProps, R extends HTMLElement>(\n    props: ElementMoverProps<P>,\n    ref: React.Ref<R>,\n  ) {\n    const {\n      anchor: anchorProp,\n      duration = 500,\n      Component,\n      style,\n      easing = animeEasings.easeInOutQuad,\n      bounded = true,\n      translate = defaultPoint,\n      withAnimation = true,\n      calculationHelper = calculatePoint,\n      reparentableContainerStyle,\n      onMoving,\n      onMovingEnd,\n      ...otherProps\n    } = props;\n\n    const refCallbacks = React.useRef({ onMoving, onMovingEnd });\n\n    React.useEffect(() => {\n      refCallbacks.current = { onMoving, onMovingEnd };\n    }, [onMoving, onMovingEnd]);\n\n    const store = useLocalObservable(\n      () => new ElementMoverStore({ anchor: anchorProp, translate, withAnimation }),\n    );\n\n    const innerRef = useCombinedRefs(ref);\n    const animeRef = React.useRef<AnimeInstance | null>(null);\n\n    const calculatedStyle: React.CSSProperties = React.useMemo(\n      () => ({\n        ...style,\n        ...store.calculatedTransformStyle,\n      }),\n      [store.calculatedTransformStyle, style],\n    );\n\n    React.useEffect(() => {\n      if (store.firstRender || !innerRef.current || !bounded) {\n        return;\n      }\n\n      const offset = getOffset(anchorProp, innerRef.current);\n      store.setAnchor(anchorProp);\n      store.setTranslate({ x: offset.left, y: offset.top });\n      // Не нужна реакция на innerRef\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [anchorProp, store, bounded]);\n\n    React.useEffect(() => store.setWithAnimation(withAnimation), [store, withAnimation]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        store.setTranslate(translate);\n      }\n    }, [bounded, translate, store]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        animeRef.current?.pause();\n      }\n    }, [bounded]);\n\n    React.useEffect(() => store.setWithAnimation(withAnimation), [store, withAnimation]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        store.setTranslate(translate);\n      }\n    }, [bounded, translate, store]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        animeRef.current?.pause();\n      }\n    }, [bounded]);\n\n    React.useEffect(() => {\n      if (!bounded) return;\n\n      const startTranslate = { ...store.translate };\n      const currentTranslate = { ...store.translate };\n      const finishTranslate = { x: 0, y: 0 };\n\n      if (animeRef.current) {\n        animeRef.current.pause();\n      }\n\n      if (store.withAnimation && !store.firstRender) {\n        animeRef.current = anime({\n          targets: currentTranslate,\n          ...finishTranslate,\n          duration,\n          easing,\n          update: () => {\n            store.setTranslate(\n              calculationHelper({\n                startTranslate,\n                currentTranslate,\n                finishTranslate,\n              }),\n            );\n            refCallbacks.current.onMoving?.(currentTranslate);\n          },\n          complete: () => {\n            refCallbacks.current.onMovingEnd?.(finishTranslate);\n          },\n        });\n      } else {\n        store.setTranslate(finishTranslate);\n      }\n\n      // Нужна обработка изменения только anchor и bounded\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [store.anchor, bounded]);\n\n    React.useEffect(() => () => animeRef.current?.pause(), []);\n\n    React.useEffect(() => store.passFirstRender(), [store]);\n\n    return (\n      <Reparentable parent={store.anchor} containerStyle={reparentableContainerStyle}>\n        <Component {...(otherProps as P)} ref={innerRef} style={calculatedStyle} />\n      </Reparentable>\n    );\n  }),\n) as <P extends DefaultComponentProps>(\n  props: ElementMoverProps<P>,\n  ref: React.Ref<HTMLElement>,\n) => React.ReactElement;\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { usePlateStoreContext } from '../../context';\nimport { ElementMover } from 'src/App/components/ElementMover';\n\nexport const PlateMover = observer(\n  React.forwardRef(function PlateMover<P extends Object>(props: P, ref: React.Ref<HTMLElement>) {\n    const plateStore = usePlateStoreContext();\n    const {\n      Component,\n      anchor,\n      translate,\n      bounded,\n      duration,\n      withAnimation,\n      easing,\n      calculationHelper,\n      onMoving,\n      onMovingEnd,\n      componentProps,\n    } = plateStore.elementMoverProps;\n\n    return (\n      <ElementMover\n        {...componentProps}\n        ref={ref}\n        Component={Component}\n        // @ts-ignore\n        anchor={anchor}\n        translate={translate}\n        bounded={bounded}\n        duration={duration}\n        withAnimation={withAnimation}\n        easing={easing}\n        calculationHelper={calculationHelper}\n        onMoving={onMoving}\n        onMovingEnd={onMovingEnd}\n      />\n    );\n  }),\n);\n","export const minOffset = { x: 10, y: 10 };\n","import React from 'react';\nimport { DraggableEvent } from 'react-draggable';\nimport { Point } from 'src/App/types';\n\nexport const isMouseEvent = (\n  event: DraggableEvent,\n): event is React.MouseEvent<HTMLElement | SVGElement> | MouseEvent =>\n  ['mousedown', 'mousemove', 'mouseup'].includes(event.type);\n\nexport const getPointByDraggableEvent = (event: DraggableEvent): Point => {\n  if (isMouseEvent(event)) {\n    const mouseEvent = event;\n    return { x: mouseEvent.pageX, y: mouseEvent.pageY };\n  }\n\n  const touchEvent = event;\n  return { x: touchEvent.changedTouches[0].pageX, y: touchEvent.changedTouches[0].pageY };\n};\n","import { makeAutoObservable } from 'mobx';\nimport { DraggableEvent } from 'react-draggable';\nimport { Nullable } from 'src/App/types';\nimport { minOffset } from '../../constants';\nimport { getPointByDraggableEvent } from '../../helpers';\nimport { DraggableData, DragType } from '../../types';\nimport { Options, Callbacks, EventType, EventListener } from './types';\n\nexport class EventManager {\n  private callbacks: Callbacks = {};\n\n  private element: HTMLElement;\n\n  private elementCaptured = false;\n\n  private startEvent: Nullable<DraggableEvent> = null;\n\n  private prevMoveEvent: Nullable<DraggableEvent> = null;\n\n  private moveEvent: Nullable<DraggableEvent> = null;\n\n  type: Nullable<DragType> = null;\n\n  private get draggableData(): Nullable<DraggableData> {\n    if (!this.startEvent) return null;\n\n    const startPoint = getPointByDraggableEvent(this.startEvent);\n    const prevMovePoint = this.prevMoveEvent\n      ? getPointByDraggableEvent(this.prevMoveEvent)\n      : startPoint;\n    const movePoint = this.moveEvent ? getPointByDraggableEvent(this.moveEvent) : startPoint;\n\n    return {\n      type: this.type,\n      element: this.element,\n      point: movePoint,\n      deltaPoint: {\n        x: movePoint.x - prevMovePoint.x,\n        y: movePoint.y - prevMovePoint.y,\n      },\n      offsetPoint: {\n        x: movePoint.x - startPoint.x,\n        y: movePoint.y - startPoint.y,\n      },\n    };\n  }\n\n  private get deviceIsTouch() {\n    return document.body.classList.contains('touch');\n  }\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.element = options.element;\n    this.callbacks = options;\n\n    this.initListeners();\n  }\n\n  private initListeners() {\n    EventManager.addListener('mousedown', this.handleMouseDown);\n    EventManager.addListener('mousemove', this.handleMouseMove);\n    EventManager.addListener('mouseup', this.handleMouseUp);\n    EventManager.addListener('touchstart', this.handleTouchStart);\n    EventManager.addListener('touchmove', this.handleTouchMove);\n    EventManager.addListener('touchend', this.handleTouchEnd);\n  }\n\n  private static addListener(eventType: EventType, listener: EventListener) {\n    document.addEventListener(eventType, listener);\n  }\n\n  private static removeListener(eventType: EventType, listener: EventListener) {\n    document.removeEventListener(eventType, listener);\n  }\n\n  private isOffsetSmall() {\n    if (!this.startEvent || !this.moveEvent) {\n      return true;\n    }\n\n    const mouseDownPoint = getPointByDraggableEvent(this.startEvent);\n    const mouseMovePoint = getPointByDraggableEvent(this.moveEvent);\n    const diffX = Math.abs(mouseDownPoint.x - mouseMovePoint.x);\n    const diffY = Math.abs(mouseDownPoint.y - mouseMovePoint.y);\n    const result = diffX < minOffset.x && diffY < minOffset.y;\n    return result;\n  }\n\n  private setMoveEvent(event: Nullable<DraggableEvent>) {\n    this.prevMoveEvent = this.moveEvent;\n    this.moveEvent = event;\n  }\n\n  private clearSavedEvents() {\n    this.startEvent = null;\n    this.prevMoveEvent = null;\n    this.moveEvent = null;\n  }\n\n  private handleMouseDown(event: DraggableEvent) {\n    if (this.deviceIsTouch) return;\n\n    if (!(event.target instanceof Node && this.element.contains(event.target))) {\n      return;\n    }\n\n    if (this.type !== null) {\n      this.type = null;\n      this.elementCaptured = false;\n      this.callbacks.onFinishDrag?.(event, this.draggableData!);\n      this.clearSavedEvents();\n      return;\n    }\n\n    if (this.type === null) {\n      this.type = 'drag-and-drop';\n      this.startEvent = event;\n      this.elementCaptured = true;\n      this.callbacks.onStartDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleMouseMove(event: DraggableEvent) {\n    if (this.deviceIsTouch) return;\n\n    if (this.elementCaptured) {\n      this.setMoveEvent(event);\n      this.callbacks.onMoveDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleMouseUp(event: DraggableEvent) {\n    if (this.deviceIsTouch) return;\n\n    if (!this.elementCaptured) {\n      return;\n    }\n\n    if (this.isOffsetSmall()) {\n      this.type = 'click-and-click';\n    } else {\n      this.type = null;\n      this.elementCaptured = false;\n      this.callbacks.onFinishDrag?.(event, this.draggableData!);\n      this.clearSavedEvents();\n    }\n  }\n\n  private handleTouchStart(event: DraggableEvent) {\n    if (event.target instanceof Node && this.element.contains(event.target)) {\n      this.startEvent = event;\n      this.type = 'drag-and-drop';\n      this.elementCaptured = true;\n      this.callbacks.onStartDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleTouchMove(event: DraggableEvent) {\n    if (this.elementCaptured) {\n      this.setMoveEvent(event);\n      this.callbacks.onMoveDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleTouchEnd(event: DraggableEvent) {\n    if (this.elementCaptured) {\n      this.elementCaptured = false;\n      this.callbacks.onFinishDrag?.(event, this.draggableData!);\n      this.type = null;\n      this.clearSavedEvents();\n    }\n  }\n\n  updateElement(element: HTMLElement) {\n    this.element = element;\n  }\n\n  clear() {\n    EventManager.removeListener('mousedown', this.handleMouseDown);\n    EventManager.removeListener('mousemove', this.handleMouseMove);\n    EventManager.removeListener('mouseup', this.handleMouseUp);\n    EventManager.removeListener('touchstart', this.handleTouchStart);\n    EventManager.removeListener('touchmove', this.handleTouchMove);\n    EventManager.removeListener('touchend', this.handleTouchEnd);\n  }\n}\n","import { omit } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { DraggableEvent } from 'react-draggable';\nimport { Nullable } from 'src/App/types';\nimport { DraggableData, DraggableProps } from '../../types';\nimport { EventManager } from '../EventManager';\nimport { Params } from './types';\n\nexport class DraggableStore<P> {\n  private props!: DraggableProps<P>;\n\n  private element: Nullable<HTMLElement> = null;\n\n  private eventManager: Nullable<EventManager> = null;\n\n  get draggableProps() {\n    return {\n      ...omit(this.props, ['Component', 'onStartDrag', 'onMoveDrag', 'onFinishDrag']),\n    };\n  }\n\n  constructor(params: Params<P>) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.setProps(params.props);\n  }\n\n  private handleStartDrag(event: DraggableEvent, data: DraggableData) {\n    this.props.onStartDrag?.(event, data);\n  }\n\n  private handleMoveDrag(event: DraggableEvent, data: DraggableData) {\n    this.props.onMoveDrag?.(event, data);\n  }\n\n  private handleFinishDrag(event: DraggableEvent, data: DraggableData) {\n    this.props.onFinishDrag?.(event, data);\n  }\n\n  setElement(element: HTMLElement) {\n    this.element = element;\n\n    if (this.eventManager) {\n      this.eventManager.updateElement(element);\n    } else {\n      this.eventManager = new EventManager({\n        element,\n        onStartDrag: this.handleStartDrag,\n        onMoveDrag: this.handleMoveDrag,\n        onFinishDrag: this.handleFinishDrag,\n      });\n    }\n  }\n\n  setProps(props: DraggableProps<P>) {\n    this.props = props;\n  }\n\n  clear() {\n    this.eventManager?.clear();\n  }\n}\n","import React from 'react';\nimport { observer, useLocalObservable } from 'mobx-react';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { DraggableStore } from './store/DraggableStore';\nimport { DraggableProps } from './types';\n\nexport const Draggable = observer(\n  React.forwardRef(function Draggable<P extends Object>(\n    props: DraggableProps<P>,\n    ref: React.Ref<HTMLElement>,\n  ) {\n    const innerRef = useCombinedRefs(ref);\n    const draggableStore = useLocalObservable(() => new DraggableStore({ props, element: null }));\n    const { Component } = props;\n\n    const setRef = React.useCallback(\n      (element: HTMLElement | null) => {\n        if (element) {\n          innerRef.current = element;\n          draggableStore.setElement(innerRef.current);\n        }\n      },\n      [draggableStore, innerRef],\n    );\n\n    React.useEffect(() => draggableStore.setProps(props), [draggableStore, props]);\n\n    React.useEffect(() => () => draggableStore.clear(), [draggableStore]);\n\n    return (\n      <Component\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...((draggableStore.draggableProps as any) as P)}\n        ref={setRef}\n      />\n    );\n  }),\n);\n","import React from 'react';\nimport { observer, useLocalObservable } from 'mobx-react';\nimport { useDraggerStoreContext } from '../../context';\nimport { DefaultPlateComponentProps, PlateProps } from './types';\nimport { PlateStore } from './store/PlateStore';\nimport { PlateStoreContext } from './context';\nimport { PlateMover } from './binders/PlateMover';\nimport { Draggable } from 'src/App/components/Draggable';\nimport { omit } from 'lodash';\n\nexport const Plate = observer(function Plate<P extends DefaultPlateComponentProps>(\n  props: PlateProps<P>,\n) {\n  const ref = React.useRef<HTMLElement | null>(null);\n  const dragger = useDraggerStoreContext();\n  const plateStore = useLocalObservable(\n    () => new PlateStore<P>({ props, dragger, element: null }),\n  );\n\n  const { onStartDrag, onMoveDrag, onFinishDrag } = plateStore.draggableProps;\n  const { Component, anchor, componentProps } = plateStore.elementMoverProps;\n  const plateModel = plateStore.model;\n\n  const setRef = React.useCallback(\n    (elem: HTMLElement | null) => {\n      if (elem !== null) {\n        plateStore.setElement(elem);\n        ref.current = elem;\n      }\n    },\n    [plateStore],\n  );\n\n  React.useEffect(() => plateStore.setElement(ref.current!), [plateModel, plateStore]);\n\n  React.useEffect(() => plateStore.setProps(props), [plateStore, props]);\n\n  return (\n    <PlateStoreContext.Provider value={plateStore}>\n      {anchor ? (\n        <Draggable\n          ref={setRef}\n          Component={PlateMover}\n          onStartDrag={onStartDrag}\n          onMoveDrag={onMoveDrag}\n          onFinishDrag={onFinishDrag}\n        />\n      ) : (\n        <Component {...((omit(componentProps, 'disabled', 'bounded', 'withAnimation', 'calculationHelper', 'onMoving', 'onMovingEnd', 'componentProps') as any) as P)} ref={ref} />\n      )}\n    </PlateStoreContext.Provider>\n  );\n});\n","import EventEmitterBase from 'events';\nimport { EventTypeMap } from './types';\n\nexport class EventEmitter<T extends EventTypeMap> {\n  private events: EventEmitterBase;\n\n  constructor() {\n    this.events = new EventEmitterBase();\n  }\n\n  on<E extends keyof T>(eventType: E, handler: T[E]) {\n    this.events.on(eventType as string | symbol, handler);\n  }\n\n  once<E extends keyof T>(eventType: E, handler: T[E]) {\n    this.events.once(eventType as string | symbol, handler);\n  }\n\n  off<E extends keyof T>(eventType: E, handler: T[E]) {\n    this.events.off(eventType as string | symbol, handler);\n  }\n\n  removeAllListeners<E extends keyof T>(eventType?: E) {\n    this.events.removeAllListeners(eventType as string | symbol | undefined);\n  }\n\n  emit<E extends keyof T>(eventType: E, ...args: Parameters<T[E]>) {\n    this.events.emit(eventType as string | symbol, ...args);\n  }\n\n  setMaxListeners(numberOfListeners: number) {\n    this.events.setMaxListeners(numberOfListeners);\n  }\n}\n","import { colors } from 'src/App/components/Cube/constants';\nimport { EventType } from './types';\n\nexport const eventNames: { [eventName in EventType]: eventName } = {\n  'mousedown': 'mousedown',\n  'mouseenter': 'mouseenter',\n  'mouseup': 'mouseup',\n  'intersectionIn': 'intersectionIn',\n  'intersectionOut': 'intersectionOut',\n  'startDrag': 'startDrag',\n  'finishDrag': 'finishDrag',\n};\n\nexport const defaultColor = colors['#0ABA9A'];\n","import { makeAutoObservable } from 'mobx';\nimport EventEmitter from 'events';\nimport Q from 'q';\nimport { EventType, EventTypeMap, Options } from './types';\nimport { Nullable } from 'src/App/types';\nimport { ShowingEndHandler } from 'src/App/components/Fade/types';\n\nexport class Fade {\n  duration: number;\n\n  shown: boolean;\n\n  shownAnimating = false;\n\n  onShowingEnd!: Nullable<ShowingEndHandler>;\n\n  private deferred: Nullable<Q.Deferred<void>> = null;\n\n  private events: EventEmitter;\n\n  constructor(options?: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.events = new EventEmitter();\n    this.shown = options?.shown ?? true;\n    this.duration = options?.duration ?? 500;\n    this.setShowingEndHandler(options?.onShowingEnd ?? null);\n  }\n\n  on<T extends EventType>(eventType: T, handler: EventTypeMap[T]) {\n    this.events.on(eventType, handler);\n  }\n\n  once<T extends EventType>(eventType: T, handler: EventTypeMap[T]) {\n    this.events.on(eventType, handler);\n  }\n\n  off<T extends EventType>(eventType: T, handler: EventTypeMap[T]) {\n    this.events.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends EventType>(eventType?: T) {\n    this.events.removeAllListeners(eventType);\n  }\n\n  setShowingEndHandler(showingEndHandler: Nullable<ShowingEndHandler>) {\n    this.onShowingEnd = showingEndHandler;\n  }\n\n  startShownAnimating() {\n    this.shownAnimating = true;\n  }\n\n  finishShownAnimating() {\n    this.shownAnimating = false;\n    this.deferred?.resolve();\n    this.deferred = null;\n    this.onShowingEnd?.(this.shown);\n    this.events.emit('showing-end', this.shown);\n  }\n\n  startShowing() {\n    if (this.shown) {\n      this.onShowingEnd?.(this.shown);\n      return;\n    }\n\n    this.shown = true;\n    this.startShownAnimating();\n    this.deferred = Q.defer();\n\n    if (this.duration === 0) this.finishShownAnimating();\n  }\n\n  startHiding() {\n    if (!this.shown) {\n      this.onShowingEnd?.(this.shown);\n      return;\n    }\n\n    this.shown = false;\n    this.startShownAnimating();\n    this.deferred = Q.defer();\n\n    if (this.duration === 0) this.finishShownAnimating();\n  }\n\n  setShown(value: boolean) {\n    if (value) {\n      this.startShowing();\n    } else {\n      this.startHiding();\n    }\n  }\n\n  async show() {\n    if (this.shown) return;\n\n    this.startShowing();\n\n    await this.deferred?.promise;\n  }\n\n  async hide() {\n    if (!this.shown) return;\n\n    this.startHiding();\n\n    await this.deferred?.promise;\n  }\n\n  setDuration(value: number) {\n    this.duration = value;\n  }\n\n  showInstantly() {\n    const prevDuration = this.duration;\n    this.setDuration(0);\n    this.show();\n    Promise.resolve().then(() => this.setDuration(prevDuration));\n  }\n\n  hideInstantly() {\n    const prevDuration = this.duration;\n    this.setDuration(0);\n    this.hide();\n    Promise.resolve().then(() => this.setDuration(prevDuration));\n  }\n\n  async waitShowing() {\n    await this.deferred?.promise;\n  }\n}","import { makeAutoObservable } from 'mobx';\nimport { uniqueId } from 'lodash';\nimport { DraggableEvent } from 'react-draggable';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Nullable } from 'src/App/types';\nimport { IntersectionParams } from 'src/App/components/Dragger/components/Plate/types';\nimport { defaultColor, eventNames } from './constants';\nimport { EventTypeMap, Options } from './types';\nimport { DraggableData } from 'src/App/components/Draggable/types';\nimport { Fade } from 'src/App/shared/Fade';\n\nexport class Cube {\n  fade = new Fade();\n  \n  private eventEmitter = new EventEmitter<EventTypeMap>();\n\n  private _uid = uniqueId();\n  \n  private _letter: string;\n\n  private _color: string;\n\n  private _hovered = false;\n\n  private _selected = false;\n\n  private _disabled = false;\n\n  private _dragListening = false;\n\n  private _element: Nullable<HTMLElement> = null;\n  \n  private _slotId: string | number;\n\n  private _intersectedSlotId: Nullable<string | number> = null;\n\n  private _group: string | number;\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this._letter = options.letter;\n    this._color = options.color ?? defaultColor;\n    this._slotId = options.slotId;\n    this._group = options.group ?? uniqueId();\n\n  }\n\n  get uid() {\n    return this._uid;\n  }\n\n  get group() {\n    return this._group;\n  }\n  \n  get letter() {\n    return this._letter;\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  get hovered() {\n    return this._hovered;\n  }\n\n  get slotId() {\n    return this._slotId;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  get intersectedSlotId() {\n    return this._intersectedSlotId;\n  }\n\n  get dragListening() {\n    return this._dragListening;\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n  \n  loadElement(element: HTMLElement) {\n    this._element = element;\n  }\n\n  setHovered(hovered: boolean) {\n    this._hovered = hovered;\n  }\n\n  setSlotId(slotId: string | number) {\n    this._slotId = slotId;\n  }\n\n  setSelected(selected: boolean) {\n    this._selected = selected;\n  }\n\n  setDisabled(disabled: boolean) {\n    this._disabled = disabled;\n  }\n\n  setGroup(group: string | number) {\n    this._group = group;\n  }\n\n  setIntersectedSlotId(intersectedSlotId: Nullable<string | number>) {\n    this._intersectedSlotId = intersectedSlotId;\n  }\n\n  setDragListening(dragListening: boolean) {\n    this._dragListening = dragListening;\n  }\n\n  handleMouseDown() {\n    this.eventEmitter.emit(eventNames.mousedown);\n  }\n\n  handleMouseEnter() {\n    this.eventEmitter.emit(eventNames.mouseenter);\n  }\n\n  handleMouseUp() {\n    this.eventEmitter.emit(eventNames.mouseup);\n  }\n  \n  handleIntersectionIn(data: IntersectionParams) {\n    this.eventEmitter.emit(eventNames.intersectionIn, data);\n  }\n\n  handleIntersectionOut(data: IntersectionParams) {\n    this.eventEmitter.emit(eventNames.intersectionOut, data);\n  }\n\n  handleStartDrag(event: DraggableEvent, data: DraggableData) {\n    this.eventEmitter.emit(eventNames.startDrag, event, data);\n  }\n\n  handleFinishDrag(event: DraggableEvent, data: DraggableData) {\n    this.eventEmitter.emit(eventNames.finishDrag, event, data);\n  }\n}\n","import { uniqueId } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { Nullable, Point } from 'src/App/types';\n\nexport class Cell {\n  private _uid = uniqueId();\n  \n  private _point: Point;\n  \n  private _hovered = false;\n\n  private _element: Nullable<HTMLElement> = null;\n\n  private _cubeId: Nullable<string | number> = null;\n\n  constructor(options: { point: Point }) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this._point = options.point;\n  }\n\n  get uid() {\n    return this._uid;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  get hovered() {\n    return this._hovered;\n  }\n\n  get point() {\n    return this._point;\n  }\n\n  get cubeId() {\n    return this._cubeId;\n  }\n\n  loadElement(element: HTMLElement) {\n    this._element = element;\n  }\n\n  setHovered(hovered: boolean) {\n    this._hovered = hovered\n  }\n\n  setCubeId(cubeId: Nullable<string | number>) {\n    this._cubeId = cubeId;\n  }\n}\n","import { EventType } from './types';\n\nexport const defaultCellsCount = 100;\n\nexport const eventNames: Record<EventType, EventType> = {\n  'mouseup': 'mouseup',\n};\n","import { range } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Cell } from '../Cell';\nimport { defaultCellsCount, eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class Field {\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n  \n  private _cells = range(defaultCellsCount).map((i) => {\n    const fieldSideLength = Math.sqrt(defaultCellsCount);\n\n    return new Cell({\n      point: { x: i % fieldSideLength, y: Math.floor(i / fieldSideLength) },\n    });\n  })\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n\n  get cells() {\n    return this._cells;\n  }\n\n  getCountFilledCells() {\n    const count = this._cells.filter(cell => cell.cubeId);\n    return count.length\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  handleMouseUp() {\n    this.eventEmitter.emit(eventNames.mouseup);\n  }\n}\n","import { EventType } from './types';\n\nexport const eventNames: Record<EventType, EventType> = {\n  'selectedCubesUpdated': 'selectedCubesUpdated',\n  'selectionEnd': 'selectionEnd',\n};\n","import { compact, last } from 'lodash';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Nullable } from 'src/App/types';\nimport { Cell } from '../Cell';\nimport { Cube } from '../Cube';\nimport { eventNames as cubeEventNames } from '../Cube/constants';\nimport { Field } from '../Field';\nimport { eventNames as fieldEventNames } from '../Field/constants';\nimport { eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class SelectorHelper {\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n\n  private field: Nullable<Field> = null;\n  \n  private cubes: Cube[] = [];\n\n  private _selectedCubes: Cube[] = [];\n\n  get selectedCubes() {\n    return this._selectedCubes;\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  startListening(options: {\n    cubes: Cube[];\n    field: Field;\n  }) {\n    this.stopListening();\n    this.cubes = options.cubes;\n    this.field = options.field;\n    this.startCubeMouseDownListeners();\n  }\n\n  stopListening() {\n    this.stopCubeMouseDownListeners();\n    this.stopCubeMouseEnterListeners();\n    this.stopFieldMouseUpListener();\n  }\n\n  private startCubeMouseDownListeners() {\n    this.cubes.forEach((cube) => {\n      cube.on(cubeEventNames.mousedown, () => {\n        this.setSelectedCubes([cube]);\n        this.stopCubeMouseDownListeners();\n        this.startCubeMouseEnterListeners();\n        this.startFieldMouseUpListener();\n      });\n    });\n  }\n\n  private stopCubeMouseDownListeners() {\n    this.cubes.forEach((cube) => cube.removeAllListeners(cubeEventNames.mousedown));\n  }\n\n  private startFieldMouseUpListener() {\n    if (this.field) {\n      this.cubes.forEach((cube) => {\n        cube.on(cubeEventNames.mouseup, () => {\n          this.stopCubeMouseEnterListeners();\n          this.stopFieldMouseUpListener();\n          this.startCubeMouseDownListeners();\n          this.eventEmitter.emit(eventNames.selectionEnd, { selectedCubes: this.selectedCubes });\n        });\n      });\n      \n      this.field.on(fieldEventNames.mouseup, () => {\n        this.stopCubeMouseEnterListeners();\n        this.stopFieldMouseUpListener();\n        this.startCubeMouseDownListeners();\n        this.eventEmitter.emit(eventNames.selectionEnd, { selectedCubes: this.selectedCubes });\n      });\n    }\n  }\n\n  private stopFieldMouseUpListener() {\n    if (this.field) {\n      this.cubes.forEach((cube) => cube.removeAllListeners(cubeEventNames.mouseup));\n      this.field.removeAllListeners(fieldEventNames.mouseup);\n    }\n  }\n\n  private startCubeMouseEnterListeners() {\n    this.cubes.forEach((cube) => {\n      cube.on(cubeEventNames.mouseenter, () => {\n        const currentCell = this.field!.cells.find((cell) => cell.uid === cube.slotId)!;\n        const prevCube = this.selectedCubes.slice(-2)[0];\n        const lastCube = last(this.selectedCubes)!;\n        const prevCell = this.field!.cells.find((_cell) => _cell.uid === prevCube?.slotId)\n        const lastCell = this.field!.cells.find((_cell) => _cell.uid === lastCube.slotId)!;\n        const neighborCells = this.getNeighborCells(lastCell);\n        const nextNeighborCell = neighborCells.find((cell) => cell === currentCell);\n        const selectedCells = compact(this.selectedCubes.map((cube) => this.field!.cells.find((cell) => cell.cubeId === cube.uid)));\n\n        if (!nextNeighborCell) return;\n\n        if (nextNeighborCell === prevCell) {\n          this.setSelectedCubes(this.selectedCubes.filter((cube) => cube !== lastCube));\n        } else if (!selectedCells.includes(nextNeighborCell)) {\n          this.setSelectedCubes([...this.selectedCubes, cube]);\n        } else if (selectedCells.includes(nextNeighborCell)) {\n          const nextNeighborCellIndex = selectedCells.indexOf(nextNeighborCell);\n          this.setSelectedCubes(this.selectedCubes.slice(0, nextNeighborCellIndex + 1));\n        }\n      });\n    });\n  }\n\n  private stopCubeMouseEnterListeners() {\n    this.cubes.forEach((cube) => {\n      cube.removeAllListeners(cubeEventNames.mouseenter);\n    });\n  }\n\n  private getNeighborCells(cell: Cell) {\n    return this.field!.cells.filter((_cell) =>\n      (_cell.point.x === cell.point.x - 1 && _cell.point.y === cell.point.y) ||\n      (_cell.point.x === cell.point.x && _cell.point.y === cell.point.y - 1) ||\n      (_cell.point.x === cell.point.x + 1 && _cell.point.y === cell.point.y) ||\n      (_cell.point.x === cell.point.x && _cell.point.y === cell.point.y + 1)\n    );\n  }\n\n  private setSelectedCubes(cubes: Cube[]) {\n    this._selectedCubes = cubes;\n    this.eventEmitter.emit(eventNames.selectedCubesUpdated, {\n      selectedCubes: this.selectedCubes,\n    });\n  }\n}\n","import { EventType } from './types';\n\nexport const eventNames: Record<EventType, EventType> = {\n  'tick': 'tick',\n};\n","import { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Nullable } from 'src/App/types';\nimport { eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class Timer {\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n\n  private intervalId: Nullable<number> = null;\n\n  private value = 0;\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  start(ms: number) {\n    if (this.intervalId !== null) return;\n\n    this.intervalId = window.setInterval(() => {\n      this.value += ms;\n      this.eventEmitter.emit(eventNames.tick, { value: this.value });\n    }, ms);\n  }\n\n  stop() {\n    this.value = 0;\n    this.pause();\n  }\n\n  pause() {\n    if (this.intervalId) {\n      window.clearInterval(this.intervalId);\n      this.intervalId = null;\n    }\n  }\n}\n","import { EventType } from './types';\n\nexport const eventNames: Record<EventType, EventType> = {\n  'movingEnd': 'movingEnd',\n};\n","import { uniqueId } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class Coin {\n  anchor: HTMLElement;\n\n  uid = uniqueId();\n\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n  \n  constructor(options: { anchor: HTMLElement }) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this.anchor = options.anchor;\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  setAnchor(anchor: HTMLElement) {\n    this.anchor = anchor;\n  }\n\n  handleMovingEnd() {\n    this.eventEmitter.emit(eventNames.movingEnd);\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { chunk, compact, difference, flatten, range, sample, uniq, uniqueId } from 'lodash';\nimport { Cube } from 'src/App/store/Cube';\nimport { Field } from 'src/App/store/Field';\nimport { letterScoreDistributions } from 'src/App/store/ProgressController/constants';\nimport { eventNames as cubeEventNames } from 'src/App/store/Cube/constants';\nimport { SelectorHelper } from 'src/App/store/SelectorHelper';\nimport { eventNames as selectorHelperEventNames } from 'src/App/store/SelectorHelper/constants';\nimport { ProgressController } from 'src/App/store/ProgressController';\nimport { russianWords } from 'src/App/constants';\nimport { colors } from 'src/App/components/Cube/constants';\nimport { PopupContinueGame, PopupResultGame } from 'src/App/store/Popups';\nimport { Timer } from 'src/App/store/Timer';\nimport { eventNames as timerEventNames } from 'src/App/store/Timer/constants';\nimport { Coin } from 'src/App/store/Coin';\nimport { eventNames as coinEventNames } from 'src/App/store/Coin/constants';\nimport { Nullable } from 'src/App/types';\n\nexport class GamePageStore {\n  progressController = new ProgressController();\n\n  popupContinueGame = new PopupContinueGame({\n    onClickBreak: ()=>console.log('break'),\n    onClickContinue: ()=>{\n      console.log('continue');\n      this.inactivityTimer.start(1000);\n    },\n    onClickOutside:()=>{\n      console.log('continue');\n      this.inactivityTimer.start(1000);\n    },\n  });\n\n  popupResultGame = new PopupResultGame({\n    onClickEndGame: ()=>console.log('break'),\n  });\n\n  needShowPopupContinueGame = false;\n\n  time = 0;\n\n  coins: Coin[] = [];\n\n  coinFinishAnchor: Nullable<HTMLElement> = null;\n\n  private _tapeSlots = range(20).map(() => ({\n    uid: uniqueId(),\n  }));\n\n  private _cubes: Cube[] = flatten([\n    this.generateFigureCubes(0),\n    this.generateFigureCubes(1),\n    this.generateFigureCubes(2),\n    this.generateFigureCubes(3),\n  ]);\n\n  private _field = new Field();\n\n  private selectorHelper = new SelectorHelper();\n\n  private timer = new Timer();\n\n  private inactivityTimer = new Timer();\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this._cubes.forEach((cube) => this.startDragListeners(cube));\n    this.selectorHelper.on(\n      selectorHelperEventNames.selectedCubesUpdated,\n      ({ selectedCubes }) => {\n        this._cubes.forEach((cube) => cube.setSelected(false));\n        selectedCubes.forEach((cube) => cube.setSelected(true));\n        this.timer.pause();\n        this.inactivityTimer.stop();\n      },\n    );\n    this.selectorHelper.on(selectorHelperEventNames.selectionEnd, async ({ selectedCubes }) => {\n      const word = selectedCubes.map((cube) => cube.letter).join('').toLowerCase();\n      const found = russianWords.find((w) => w === word);\n      this.timer.start(1000);\n      this.inactivityTimer.start(1000);\n\n      if (found) {\n        await this.launchCoin(selectedCubes[0].element!.parentElement!, this.coinFinishAnchor!);\n        this.progressController.collectWord(word);\n        Promise.all(selectedCubes.map((cube) => cube.fade.hide())).then(() => {\n          const selectedCells = compact(selectedCubes.map((cube) => this.field.cells.find((cell) => cell.uid === cube.slotId)));\n          selectedCells.forEach((cell) => cell.setCubeId(null));\n          this.setCubes(difference(this._cubes, selectedCubes));\n        });\n      } else {\n        selectedCubes.forEach((cube) => cube.setSelected(false));\n      }\n    });\n    this.timer.on(timerEventNames.tick, ({ value }) => {\n      this.setTime(value);\n\n      if (value === 15000) {\n        this.timer.stop();\n        this.setTime(0);\n\n        const draggableCubes = this._cubes.filter((cube) => cube.dragListening);\n        Promise.all(draggableCubes.map(async (cube) => {\n          cube.setDragListening(false);\n          await cube.fade.hide();\n        })).then(() => {\n          const newCubes = [\n            ...this.generateFigureCubes(0),\n            ...this.generateFigureCubes(1),\n            ...this.generateFigureCubes(2),\n            ...this.generateFigureCubes(3),\n          ];\n          newCubes.forEach((cube) => cube.fade.hideInstantly());\n          this.setCubes(difference(this._cubes, draggableCubes));\n          this.setCubes([...this._cubes, ...newCubes]);\n\n          Promise.all(newCubes.map((cube) => {\n            return cube.fade.show().then(() => {\n              cube.setDragListening(true);\n              this.startDragListeners(cube);\n            });\n          })).then(() => {\n            this.timer.start(1000);\n          });\n        });\n      }\n    });\n    this.timer.start(1000);\n\n    this.inactivityTimer.on(timerEventNames.tick, ({ value }) => {\n      if (value === 30000) {\n        this.inactivityTimer.stop();\n        if(this.needShowPopupContinueGame){\n          this.popupContinueGame.show().then(()=>{\n            this.needShowPopupContinueGame = false;\n          })\n        }\n      }\n    });\n    this.inactivityTimer.start(1000);\n  }\n\n  get tapeSlots() {\n    return this._tapeSlots;\n  }\n\n  get field() {\n    return this._field;\n  }\n\n  get cubes() {\n    return this._cubes;\n  }\n\n  setCoinFinishAnchor(element: Nullable<HTMLElement>) {\n    this.coinFinishAnchor = element;\n  }\n\n  private getTapeSlotChunkIndexByTapeSlotUid(tapeSlotUid: string | number ) {\n    return chunk(this.tapeSlots, 5).findIndex((chunk) => chunk.find((tapeSlot) => tapeSlot.uid === tapeSlotUid));\n  }\n\n  private getRandomLetterData() {\n    const random = Math.random() * 10;\n\n    for (let i = 0, length = letterScoreDistributions.rus.length; i < length; i++) {\n      if (random < letterScoreDistributions.rus[i].score) {\n        return letterScoreDistributions.rus[i];\n      }\n    }\n\n    return letterScoreDistributions.rus[0];\n  }\n\n  private generateFigureCubes(targetTapeSlotChunkIndex: number) {\n    const type = sample([1, 2, 3]);\n    const length = type === 1 ? 1 : 2;\n    const lettersData = range(length).map(() => sample(letterScoreDistributions.rus)!);\n    const targetTapeSlotChunk = chunk(this.tapeSlots, 5)[targetTapeSlotChunkIndex];\n    const figureGroup = uniqueId();\n\n    let targetTapeSlots = [targetTapeSlotChunk[0]];\n    if (type === 2) targetTapeSlots = [targetTapeSlotChunk[1], targetTapeSlotChunk[2]];\n    if (type === 3) targetTapeSlots = [targetTapeSlotChunk[3], targetTapeSlotChunk[4]];\n\n    const cubes = lettersData.map((letterData, i) => {\n      let color = colors['#FF7B1C'];\n\n      if (letterData.score === 2) color = colors['#545AEF'];\n      if (letterData.score === 3) color = colors['#0ABA9A'];\n      if (letterData.score === 4) color = colors['#FFDC27'];\n      if (letterData.score === 5) color = colors['#A258FF'];\n      if (letterData.score === 8) color = colors['#18C2E8'];\n      if (letterData.score === 10) color = colors['#D73A8F'];\n      \n      return new Cube({\n        letter: letterData.letter.toUpperCase(),\n        slotId:\n        targetTapeSlots[i].uid,\n        group: figureGroup,\n        color,\n      });\n    });\n\n    return cubes;\n  }\n\n  private startDragListeners(cube: Cube) {\n    const groupCubes = this._cubes.filter((_cube) => _cube.group === cube.group);\n    cube.setDragListening(true);\n\n    cube.on(cubeEventNames.startDrag, () => {\n      this.timer.pause();\n      this.inactivityTimer.stop();\n    });\n    \n    cube.on(cubeEventNames.intersectionIn, (data) => {\n      cube.setIntersectedSlotId(data.slotId);\n      const intersectedEmptyCells = uniq(compact(groupCubes.map((cube) => this.field.cells.find((cell) => cell.uid === cube.intersectedSlotId && cell.cubeId === null))));\n\n      if (intersectedEmptyCells.length === groupCubes.length) {\n        intersectedEmptyCells.forEach((cell) => cell.setHovered(true));\n      } else {\n        intersectedEmptyCells.forEach((cell) => cell.setHovered(false));\n      }\n    });\n\n    cube.on(cubeEventNames.intersectionOut, () => {\n      groupCubes.forEach((cube) => {\n        const intersectedCell = this.field.cells.find((cell) => cell.uid === cube.intersectedSlotId);\n        intersectedCell?.setHovered(false);\n      });\n      cube.setIntersectedSlotId(null);\n    });\n\n    cube.on(cubeEventNames.finishDrag, () => {\n      const intersectedCells = uniq(compact(groupCubes.map((cube) => {\n        const cell = this.field.cells.find((cell) => cell.uid === cube.intersectedSlotId);\n        return cell;\n      })));\n      const allIntersectedCellsAreEmpty = intersectedCells.every((cell) => cell.cubeId === null);\n\n      if (intersectedCells.length === groupCubes.length && allIntersectedCellsAreEmpty) {\n        const tapeSlotChunkIndex = this.getTapeSlotChunkIndexByTapeSlotUid(cube.slotId);\n\n        groupCubes.forEach((cube, i) => {\n          intersectedCells[i]?.setCubeId(cube.uid);\n          intersectedCells[i]?.setHovered(false);\n          cube.setSlotId(cube.intersectedSlotId!);\n          cube.setIntersectedSlotId(null);\n          this.stopDragListeners(cube);\n        });\n\n        if(!this.needShowPopupContinueGame && this.field.getCountFilledCells()>=75){\n          this.needShowPopupContinueGame = true;\n        }\n\n        this.selectorHelper.startListening({\n          cubes: this._cubes.filter((cube) => !cube.dragListening),\n          field: this._field,\n        });\n\n        const newCubes = this.generateFigureCubes(tapeSlotChunkIndex);\n        newCubes.forEach((cube) => cube.fade.hideInstantly());\n        this._cubes = [...this._cubes, ...newCubes];\n        newCubes.forEach((newCube) => this.startDragListeners(newCube));\n        Promise.resolve().then(() => newCubes.forEach((cube) => cube.fade.show()));\n      } else {\n        groupCubes.forEach((cube, i) => {\n          cube.setIntersectedSlotId(null);\n        });\n      }\n\n      this.timer.start(1000);\n      this.inactivityTimer.start(1000);\n    });\n  }\n\n  private stopDragListeners(cube: Cube) {\n    cube.setDragListening(false);\n    cube.removeAllListeners(cubeEventNames.intersectionIn);\n    cube.removeAllListeners(cubeEventNames.intersectionOut);\n    cube.removeAllListeners(cubeEventNames.finishDrag);\n  }\n\n  private setCubes(cubes: Cube[]) {\n    this._cubes = cubes;\n  }\n\n  private setTime(time: number) {\n    this.time = time;\n  }\n\n  private setCoins(coins: Coin[]) {\n    this.coins = coins;\n  }\n\n  private async launchCoin(startAnchor: HTMLElement, finishAnchor: HTMLElement) {\n    const coin = new Coin({ anchor: startAnchor });\n    this.coins.push(coin);\n    await Promise.resolve();\n    coin.setAnchor(finishAnchor);\n    await new Promise<void>((resolve) => coin.once(coinEventNames.movingEnd, resolve));\n    this.setCoins(this.coins.filter((c) => c !== coin));\n  }\n}\n","import React from 'react';\nimport { Transition } from 'react-transition-group';\nimport { reflowElement } from 'src/App/shared/helpers/reflowElement';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { FadeProps } from './types';\n\nexport const Fade = React.forwardRef(function Fade(\n  props: FadeProps,\n  forwardedRef: React.Ref<HTMLDivElement>,\n) {\n  const {\n    className,\n    style,\n    shown = true,\n    duration = 500,\n    delay = 0,\n    easing = 'ease-in',\n    withUnmount = true,\n    children,\n    onShowingEnd,\n    ...otherProps\n  } = props;\n\n  const ref = useCombinedRefs(forwardedRef);\n\n  const styleMap = React.useMemo(\n    () => ({\n      entered: {\n        opacity: 1,\n      },\n      entering: {\n        transition: `opacity ${duration}ms ${delay}ms ${easing}`,\n        opacity: 1,\n      },\n      exiting: {\n        transition: `opacity ${duration}ms ${delay}ms ${easing}`,\n        opacity: 0,\n      },\n      exited: {\n        opacity: 0,\n      },\n    }),\n    [delay, duration, easing],\n  );\n\n  const handleShowingStart = React.useCallback(() => {\n    ref.current && reflowElement(ref.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleShowingEnd = React.useCallback(() => {\n    onShowingEnd?.(shown);\n  }, [onShowingEnd, shown]);\n\n  return (\n    <Transition\n      nodeRef={ref}\n      in={shown}\n      timeout={duration + delay}\n      mountOnEnter={withUnmount}\n      unmountOnExit={withUnmount}\n      onEnter={handleShowingStart}\n      onEntered={handleShowingEnd}\n      onExited={handleShowingEnd}\n    >\n      {(state) => (\n        <FullSizeBlock\n          {...otherProps}\n          ref={ref}\n          style={state !== 'unmounted' ? { ...style, ...styleMap[state] } : { ...style }}\n          className={className}\n        >\n          {children}\n        </FullSizeBlock>\n      )}\n    </Transition>\n  );\n});","/* eslint-disable @typescript-eslint/no-unused-expressions */\nexport const reflowElement = (node: HTMLElement) => {\n  node.offsetHeight;\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { ReactComponent as Sprite } from './images/sprite.svg';\nimport { CoinProps } from './types';\nimport styles from './index.module.scss';\n\nexport const Coin = React.forwardRef<HTMLDivElement, CoinProps>(function Coin(props, ref) {\n  const { className, ...otherProps } = props;\n  \n  return (\n    <div {...otherProps} ref={ref} className={cn(styles.main, className)}>\n      <Sprite />\n    </div>\n  );\n});\n","import { CalculationHelper } from '../../ElementMover/types';\nimport { getQuadraticBezierXYatT } from './getQuadraticBezierXYatT';\nimport { getPerpendicularPointToMidpoint } from './getPerpendicularPointToMidpoint';\n\nexport const calcCoinMovingPosition: CalculationHelper = ({\n  startTranslate,\n  finishTranslate,\n  currentTranslate,\n}) => {\n  const length = Math.sqrt(\n    (startTranslate.x - finishTranslate.x) ** 2 + (startTranslate.y - finishTranslate.y) ** 2,\n  );\n\n  const currentLength = Math.sqrt(\n    (startTranslate.x - currentTranslate.x) ** 2 + (startTranslate.y - currentTranslate.y) ** 2,\n  );\n\n  return getQuadraticBezierXYatT(\n    startTranslate,\n    getPerpendicularPointToMidpoint(startTranslate, finishTranslate, length / 2),\n    finishTranslate,\n    currentLength / length,\n  );\n};\n","import { Point } from 'src/App/types';\n\n/**\n * Функция для получения координат части (part – от 0 до 1) кривой Безье,\n * построенной по трём точкам (startPoint, controlPoint, endPoint).\n * Удобно использовать для перемещения чего-либо по кривой линии,\n * когда известны начальные, конечные и текущие координаты.\n */\nexport const getQuadraticBezierXYatT = (\n  startPoint: Point,\n  controlPoint: Point,\n  endPoint: Point,\n  part: number,\n) => {\n  const x =\n    (1 - part) ** 2 * startPoint.x +\n    2 * (1 - part) * part * controlPoint.x +\n    part ** 2 * endPoint.x;\n\n  const y =\n    (1 - part) ** 2 * startPoint.y +\n    2 * (1 - part) * part * controlPoint.y +\n    part ** 2 * endPoint.y;\n\n  return { x, y };\n};\n","import { Point } from 'src/App/types';\n\n/**\n * Функция для получения координаты точки перпендикулярной линии\n * к линии point1, point2.\n */\nexport const getPerpendicularPointToMidpoint = (point1: Point, point2: Point, distance: number) => {\n  const dx = point2.x - point1.x;\n  const dy = point2.y - point1.y;\n  const midpoint = { x: point1.x + dx * 0.5, y: point1.y + dy * 0.5 };\n  const angle = Math.atan2(dy, dx);\n  const perpendicularPoint = {\n    x: midpoint.x + distance * Math.cos(angle - Math.PI / 2),\n    y: midpoint.y + distance * Math.sin(angle - Math.PI / 2),\n  };\n  return perpendicularPoint;\n};\n","import React from \"react\";\nimport { observer, useLocalObservable } from \"mobx-react\";\nimport { chunk } from \"lodash\";\nimport cn from \"classnames\";\nimport { Field } from \"../Field\";\nimport { Cell } from \"../Cell\";\nimport { Tape } from \"../Tape\";\nimport styles from \"./index.module.scss\";\nimport { ScoreCounter } from \"../ScoreCounter\";\nimport { BackButton } from \"../BackButton\";\nimport { PopupContinueGame } from \"../PopupContinueGame\";\nimport { PopupResultGame } from \"../PopupResultGame\";\nimport { Cube } from '../Cube';\nimport { Div } from '../Div';\nimport { Dragger } from '../Dragger';\nimport { Slot as DraggerSlot } from '../Dragger/components/Slot';\nimport { Plate as DraggerPlate } from '../Dragger/components/Plate';\nimport { GamePageStore } from './store/GamePageStore';\nimport { Fade } from '../Fade';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { Coin } from '../Coin';\nimport { ElementMover } from '../ElementMover';\nimport { calcCoinMovingPosition } from './helpers/calcCoinMovingPosition';\n\nexport const GamePage = observer(function GamePage() {\n  const store = useLocalObservable(() => new GamePageStore());\n  const tapeSlots = React.useMemo(() => chunk(store.tapeSlots, 5), [store.tapeSlots]);\n  const timerValue = (15000 - store.time) / 1000;\n  const { popupContinueGame, popupResultGame, progressController } = store\n\n  return (\n    <>\n       <Dragger>\n      <div className={styles.main}>\n        <div className={styles.progressContainer}>\n          <div className={styles.scoreCounterContainer}>\n            <ScoreCounter scores={store.progressController.scores}/>\n            <div ref={store.setCoinFinishAnchor} className={styles.scoreCoinWrap} />\n          </div>\n        </div>\n        <div className={styles.backButtonContainer}>\n          <BackButton onClick={popupResultGame.show}/>\n          </div>\n        <div className={styles.fieldContainer}>\n          <Field onMouseUp={store.field.handleMouseUp}>\n            {store.field.cells.map((cell) => {\n              return (\n                <DraggerSlot\n                  key={cell.uid}\n                  id={cell.uid}\n                  Component={Cell}\n                  isHovered={cell.hovered}\n                />\n              );\n            })}\n          </Field>\n        </div>\n        <Tape>\n          {tapeSlots.map((tapeSlots, i) => (\n            <div key={i} className={styles.tapeSlotsWrap}>\n              {tapeSlots.map((tapeSlot, i) => (\n                <DraggerSlot\n                  key={tapeSlot.uid}\n                  id={tapeSlot.uid}\n                  Component={Div}\n                  className={cn(styles.tapeSlot, styles[`tapeSlot_position_${i + 1}`])}\n                />\n              ))}\n            </div>\n          ))}\n          <Fade\n            shown={timerValue < 6}\n            duration={200}\n            className={styles.timer}\n          >\n            {timerValue < 6 ? timerValue : 0}\n          </Fade>\n          {store.cubes.map((cube) => (\n            <DraggerPlate\n              key={cube.uid}\n              id={cube.uid}\n              disabled={!cube.dragListening}\n              slotId={cube.slotId}\n              group={cube.group}\n              Component={FullSizeBlock}\n              afterDragMovingDuration={200}\n              componentProps={{\n                className: styles.cube,\n                children: (\n                  <Fade\n                    ref={(element) => element && cube.loadElement(element)}\n                    duration={200}\n                    shown={cube.fade.shown}\n                    onShowingEnd={cube.fade.finishShownAnimating}\n                  >\n                    <Cube\n                      color={cube.color}\n                      selected={cube.selected}\n                      children={cube.letter}\n                      onMouseDown={cube.handleMouseDown}\n                      onMouseEnter={cube.handleMouseEnter}\n                      onMouseUp={cube.handleMouseUp}\n                    />\n                  </Fade>\n                ),\n              }}\n              onIntersectionIn={cube.handleIntersectionIn}\n              onIntersectionOut={cube.handleIntersectionOut}\n              onStartDrag={cube.handleStartDrag}\n              onFinishDrag={cube.handleFinishDrag}\n            />\n          ))}\n        </Tape>\n      </div>\n      {store.coins.map((coin) => (\n        <ElementMover\n          key={coin.uid}\n          anchor={coin.anchor}\n          Component={Div}\n          className={styles.scoreCoinWrap}\n          calculationHelper={calcCoinMovingPosition}\n          onMovingEnd={coin.handleMovingEnd}\n        >\n          <Coin />\n        </ElementMover>\n      ))}\n    </Dragger>\n      <Fade\n        shown={popupContinueGame.isVisible}\n        onShowingEnd={popupContinueGame.handleTransitionEnd}\n      >\n        <PopupContinueGame\n          onClickOutside={popupContinueGame.onClickOutside}\n          onClickBreak={popupContinueGame.onClickBreak}\n          onClickContinue={popupContinueGame.onClickContinue}\n        />\n      </Fade>\n      <Fade\n        shown={popupResultGame.isVisible}\n        onShowingEnd={popupResultGame.handleTransitionEnd}\n      >\n        <PopupResultGame\n          words={progressController.words}\n          scores={progressController.scores}\n          onClickOutside={popupResultGame.onClickOutside}\n          onClickEndGame={popupResultGame.onClickEndGame}\n        />\n      </Fade>\n    </>\n  );\n});\n","import classes from \"./index.module.scss\";\nimport { PopupStartGameProps } from \"./types\";\nimport cn from \"classnames\";\nimport { Button } from \"../Button\";\nimport { useCallback } from \"react\";\nimport { useNavigate } from \"react-router\";\n\nexport const PopupStartGame = (props: PopupStartGameProps) => {\n  const { onClickOutside, onClickSinglePlay, onClickMultiplPlay } = props;\n  const navigate= useNavigate();\n\n  const handleClickSinglePlay = useCallback(()=>{\n    onClickSinglePlay();\n    navigate('/game');\n  },[navigate, onClickSinglePlay])\n\n\n  const handleClickMultiplPlay = useCallback(()=>{\n    onClickMultiplPlay();\n\n  },[onClickMultiplPlay])\n\n  return (\n    <div className={classes.wrap}>\n      <div className={classes.overlay} onClick={onClickOutside}></div>\n      <div className={cn(classes.popup, classes.popup_startGame)}>\n        <div className={classes.buttonsWrap}>\n          <Button className={classes.btn} onClick={handleClickSinglePlay}>\n            Играть одному\n          </Button>\n          <Button className={classes.btn} onClick={handleClickMultiplPlay}>\n            Играть с соперником\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import { observer } from \"mobx-react\";\nimport { useAppContext } from \"../../shared/useAppContext\";\nimport styles from \"./index.module.scss\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useCallback } from \"react\";\nimport { PopupStartGame } from \"src/App/components/PopupStartGame\";\n\nexport const StartPage = observer(function StartPage() {\n  const { handleGameStartClick, popupStartGame } = useAppContext();\n  const navigate = useNavigate();\n\n  const onClickStart = useCallback(() => {\n    handleGameStartClick();\n    navigate(\"game\");\n  }, [handleGameStartClick, navigate]);\n\n  return (\n    <div className={styles.main}>\n      <PopupStartGame\n        onClickSinglePlay={onClickStart}\n        onClickMultiplPlay={popupStartGame.onClickMultiplePlay}\n        onClickOutside={popupStartGame.onClickOutside}\n      />\n    </div>\n  );\n});","import { useContext } from 'react';\nimport { AppStore } from '../store';\nimport { AppContext } from '../store/context';\n\nexport const useAppContext = (): AppStore => {\n  const context = useContext(AppContext);\n  if (context === null) {\n    throw new Error('Hook must be called inside AppStore.Provider');\n  }\n  return context;\n};","import { MainProps } from './types';\nimport styles from './index.module.scss';\n\nexport function Main(props: MainProps) {\n  const { children } = props;\n\n  return (\n    <div className={styles.main}>\n      <div className={styles.content}>{children}</div>\n    </div>\n  );\n};","import { observer, useLocalObservable } from \"mobx-react\";\nimport { AppStore } from \"./store\";\nimport { AppContext } from \"./store/context\";\nimport { GamePage } from \"./components/GamePage\";\nimport { StartPage } from \"./components/StartPage\";\nimport \"./index.scss\";\nimport \"./shared/styles/index.scss\";\nimport { Route, Routes, BrowserRouter, Navigate } from \"react-router-dom\";\nimport { Main } from \"./components/Main\";\n\nconst { Provider } = AppContext;\n\nexport const App = observer(function App() {\n  const appStore = useLocalObservable(() => new AppStore());\n  return (\n    <Provider value={appStore}>\n      <BrowserRouter basename={\"/tetris-words\"}>\n        <Main>\n          <Routes>\n            <Route path=\"/\" element={<StartPage />} />\n            {appStore.isVisibleGamePage && (\n              <Route path=\"/game\" element={<GamePage />} />\n            )}\n            <Route path=\"/game\" element={<Navigate to=\"/\" />} />\n          </Routes>\n        </Main>\n      </BrowserRouter>\n    </Provider>\n  );\n});\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}