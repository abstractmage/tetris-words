{"version":3,"sources":["App/components/GamePage/index.module.scss","App/components/Cube/index.module.scss","App/components/StartPage/index.module.scss","App/components/Field/index.module.scss","App/components/Cell/index.module.scss","App/components/Tape/index.module.scss","App/components/FullSizeBlock/index.module.scss","App/components/ScoreCounter/index.module.scss","App/components/BackButton/index.module.scss","App/components/Main/index.module.scss","App/components/Tape/TapeViewModel.ts","App/store/ProgressController/constants.ts","App/store/ProgressController/index.ts","App/store/index.ts","App/store/context.ts","App/components/ScoreCounter/images/sprite.svg","App/components/Field/index.tsx","App/components/Cell/index.tsx","App/components/Tape/index.tsx","App/components/FullSizeBlock/index.tsx","App/components/BackButton/images/sprite.svg","App/components/ScoreCounter/constants.ts","App/components/ScoreCounter/index.tsx","App/components/BackButton/index.tsx","App/components/BackButton/constants.ts","App/shared/useCombinedRefs.ts","App/components/Cube/constants.ts","App/components/Cube/index.tsx","App/components/Div/index.tsx","App/components/Dragger/context.ts","App/components/Dragger/store/Collection/index.ts","App/shared/getOffset/index.ts","App/components/Dragger/store/DragOperator/IntersectionCalculator/index.ts","App/components/Dragger/store/DragOperator/index.ts","App/components/Dragger/store/DraggerStore/index.ts","App/components/Dragger/index.tsx","App/components/Dragger/store/DragItem/index.ts","App/components/Dragger/store/Slot/index.ts","App/components/Dragger/components/Slot/index.tsx","App/components/Dragger/store/Plate/index.ts","App/shared/Reaction/index.ts","App/components/Dragger/components/Plate/store/PlateStore/index.ts","App/components/Dragger/components/Plate/context.ts","App/constants.ts","App/components/ElementMover/store/ElementMoverStore/index.ts","App/components/Reparentable/index.tsx","App/components/ElementMover/index.tsx","App/components/Dragger/components/Plate/binders/PlateMover/index.tsx","App/components/Draggable/constants.ts","App/components/Draggable/helpers.ts","App/components/Draggable/store/EventManager/index.ts","App/components/Draggable/store/DraggableStore/index.ts","App/components/Draggable/index.tsx","App/components/Dragger/components/Plate/index.tsx","App/shared/EventEmitter/index.tsx","App/store/Cube/constants.ts","App/shared/Fade/index.ts","App/store/Cube/index.ts","App/store/Cell/index.ts","App/store/Field/constants.ts","App/store/Field/index.ts","App/store/SelectorHelper/constants.ts","App/store/SelectorHelper/index.ts","App/store/Timer/constants.ts","App/store/Timer/index.ts","App/components/GamePage/store/GamePageStore/index.ts","App/components/Fade/index.tsx","App/shared/helpers/reflowElement.ts","App/components/GamePage/index.tsx","App/components/StartPage/index.tsx","App/shared/useAppContext.ts","App/components/Main/index.tsx","App/index.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","TapeViewModel","figures","blocks","color","letter","type","setFigures","makeAutoObservable","this","letterScoreDistributions","rus","score","ProgressController","map","item","_words","_scores","autoBind","word","push","wordScores","_getWordScores","split","reduce","acc","curItem","index","array","charScore","find","Error","error","console","warn","AppStore","tape","progressController","isVisibleGamePage","handleGameStartClick","log","AppContext","createContext","displayName","_rect","_g","_path","_path2","_path3","_path4","_path5","_path6","_path7","Field","props","isDisabled","children","otherProps","className","cn","classes","field","field_disabled","cells","Cell","React","forwardRef","ref","isHovered","cell","cell_hovered","Tape","styles","main","slotsContainer","FullSizeBlock","absolute","style","main_absolute","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSprite","_ref","svgRef","title","titleId","width","height","viewBox","fill","xmlns","id","maskType","maskUnits","x","y","rx","mask","d","ForwardRef","defaultProps","scores","ScoreCounter","useRef","useState","setWidth","scaling","scoresStyle","useMemo","fontSize","useEffect","element","current","calcWidth","offsetWidth","window","addEventListener","removeEventListener","stroke","strokeWidth","strokeLinecap","BackButton","disabled","styleProp","borderWidth","main_disabled","useCombinedRefs","refs","targetRef","forEach","colors","hovered","selected","hoverable","Cube","combinedRef","main_selected","main_hoverable","main_hovered","scaleWrap","background","backgroundColor","boxShadow","content","Div","DraggerStoreContext","useDraggerStoreContext","draggerStore","useContext","Collection","items","_item","runInAction","concat","getOffset","relativeNode","targetNode","relativeNodeRect","getBoundingClientRect","targetNodeRect","left","top","IntersectionCalculator","data","targetElement","elements","getIntersectionData","filter","area","prev","currValue","element1","element2","rect1","rect2","unionWidth","Math","max","min","widthOfTwo","unionHeight","heightOfTwo","getIntersectionArea","DragOperator","options","intersectionCalculators","plates","slots","inDrag","platesInDrag","constructor","name","event","currentPlate","findByElement","currentSlot","findById","slotId","offset","group","plate","draggingPlate","translate","centered","plateCoordinates","point","startDrag","setTranslate","callbacks","onStartDrag","assertDragStarted","plateInDrag","deltaPoint","onMoveDrag","calculateIntersectedElements","intersectionElement","slot","intersectedSlot","prevIntersectedSlot","intersectionData","plateId","onIntersectionOut","onIntersectionIn","finishDrag","onFinishDrag","DraggerStore","operator","Dragger","dragger","useLocalObservable","Provider","value","DragItem","makeObservable","observable","setElement","action","bound","Slot","elementSelector","intersectionSelector","computed","currentElement","setCallbacks","querySelector","observer","Component","add","SlotModel","Plate","setSlotId","Reaction","expression","handler","disposer","handle","bind","reaction","_reaction","err","dispatchEvent","ErrorEvent","PlateStore","params","plateModel","reactions","model","onAfterDragMoving","onAfterDragMovingEnd","shallow","initReactions","setProps","PlateModel","moveDrag","anchor","bounded","state","duration","afterDragMovingDuration","withAnimation","withMovingAfterDrag","easing","afterDragMovingEasing","calculationHelper","afterDragMovingPositionCalculationHelper","onMoving","onMovingEnd","omit","values","init","setDisabled","dispose","PlateStoreContext","russianWords","russianWordsBase","w","trim","sort","animeEasings","ElementMoverStore","firstRender","setAnchor","setWithAnimation","transform","newAnchor","Reparentable","parent","containerStyle","portalContainer","document","createElement","useLayoutEffect","entries","appendChild","remove","ReactDOM","createPortal","calculatePoint","currentTranslate","defaultPoint","ElementMover","anchorProp","reparentableContainerStyle","refCallbacks","store","innerRef","animeRef","calculatedStyle","calculatedTransformStyle","pause","startTranslate","finishTranslate","anime","targets","update","complete","passFirstRender","PlateMover","plateStore","usePlateStoreContext","elementMoverProps","componentProps","minOffset","getPointByDraggableEvent","includes","isMouseEvent","mouseEvent","pageX","pageY","touchEvent","changedTouches","EventManager","elementCaptured","startEvent","prevMoveEvent","moveEvent","initListeners","startPoint","prevMovePoint","movePoint","offsetPoint","body","classList","contains","addListener","handleMouseDown","handleMouseMove","handleMouseUp","handleTouchStart","handleTouchMove","handleTouchEnd","mouseDownPoint","mouseMovePoint","diffX","abs","diffY","deviceIsTouch","Node","draggableData","clearSavedEvents","setMoveEvent","isOffsetSmall","removeListener","eventType","listener","DraggableStore","eventManager","updateElement","handleStartDrag","handleMoveDrag","handleFinishDrag","clear","Draggable","draggableStore","setRef","useCallback","draggableProps","elem","EventEmitter","events","EventEmitterBase","on","once","off","removeAllListeners","args","emit","numberOfListeners","setMaxListeners","eventNames","defaultColor","Fade","shown","shownAnimating","onShowingEnd","deferred","setShowingEndHandler","showingEndHandler","resolve","startShownAnimating","Q","defer","finishShownAnimating","startShowing","startHiding","a","promise","prevDuration","setDuration","show","Promise","then","hide","fade","eventEmitter","_uid","uniqueId","_letter","_color","_hovered","_selected","_disabled","_dragListening","_element","_slotId","_intersectedSlotId","_group","intersectedSlotId","dragListening","_point","_cubeId","cubeId","_cells","range","fieldSideLength","sqrt","floor","SelectorHelper","cubes","_selectedCubes","stopListening","startCubeMouseDownListeners","stopCubeMouseDownListeners","stopCubeMouseEnterListeners","stopFieldMouseUpListener","cube","cubeEventNames","setSelectedCubes","startCubeMouseEnterListeners","startFieldMouseUpListener","selectedCubes","fieldEventNames","currentCell","uid","prevCube","slice","lastCube","last","prevCell","_cell","lastCell","nextNeighborCell","getNeighborCells","selectedCells","compact","nextNeighborCellIndex","Timer","intervalId","ms","stop","setInterval","clearInterval","GamePageStore","time","_tapeSlots","_cubes","flatten","generateFigureCubes","_field","selectorHelper","timer","startDragListeners","selectorHelperEventNames","setSelected","setTime","join","toLowerCase","found","start","collectWord","all","setCubeId","setCubes","difference","timerEventNames","draggableCubes","setDragListening","newCubes","hideInstantly","tapeSlotUid","chunk","tapeSlots","findIndex","tapeSlot","targetTapeSlotChunkIndex","sample","lettersData","targetTapeSlotChunk","figureGroup","targetTapeSlots","letterData","toUpperCase","groupCubes","_cube","setIntersectedSlotId","intersectedEmptyCells","uniq","setHovered","intersectedCell","intersectedCells","allIntersectedCellsAreEmpty","every","tapeSlotChunkIndex","getTapeSlotChunkIndexByTapeSlotUid","stopDragListeners","startListening","newCube","forwardedRef","delay","withUnmount","styleMap","entered","opacity","entering","transition","exiting","exited","handleShowingStart","offsetHeight","handleShowingEnd","Transition","nodeRef","in","timeout","mountOnEnter","unmountOnExit","onEnter","onEntered","onExited","GamePage","timerValue","progressContainer","scoreCounterContainer","backButtonContainer","fieldContainer","onMouseUp","tapeSlotsWrap","onMouseDown","onMouseEnter","handleMouseEnter","handleIntersectionIn","handleIntersectionOut","StartPage","context","useAppContext","navigate","useNavigate","onClickStart","header","playButton","onClick","Main","App","appStore","basename","path","to","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","render","getElementById"],"mappings":"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","file":"static/js/main.8d1e3db7.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"GamePage_main__17VmN\",\"progressContainer\":\"GamePage_progressContainer__3SUd1\",\"backButtonContainer\":\"GamePage_backButtonContainer__1TsCh\",\"scoreCounterContainer\":\"GamePage_scoreCounterContainer__3xbxZ\",\"fieldContainer\":\"GamePage_fieldContainer__GK9s9\",\"tapeSlotsWrap\":\"GamePage_tapeSlotsWrap__1EnLm\",\"tapeSlot\":\"GamePage_tapeSlot__3Uhmr\",\"tapeSlot_position_1\":\"GamePage_tapeSlot_position_1__2G08b\",\"tapeSlot_position_2\":\"GamePage_tapeSlot_position_2__20rZ1\",\"tapeSlot_position_3\":\"GamePage_tapeSlot_position_3__PqwEF\",\"tapeSlot_position_4\":\"GamePage_tapeSlot_position_4__1A40A\",\"tapeSlot_position_5\":\"GamePage_tapeSlot_position_5__3Kxfe\",\"timer\":\"GamePage_timer__1Mv79\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Cube_main__hJP24\",\"main_disabled\":\"Cube_main_disabled__2nnek\",\"main_hoverable\":\"Cube_main_hoverable__3pwki\",\"main_hovered\":\"Cube_main_hovered__16O4D\",\"main_selected\":\"Cube_main_selected__16Uy4\",\"scaleWrap\":\"Cube_scaleWrap__2GxKq\",\"background\":\"Cube_background__1XBLx\",\"content\":\"Cube_content__29hV2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"StartPage_main__3BRSA\",\"header\":\"StartPage_header__3kki8\",\"content\":\"StartPage_content__20Z1Z\",\"playButton\":\"StartPage_playButton__3zTvQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"field\":\"Field_field__3_I7N\",\"field_disabled\":\"Field_field_disabled__TjW7U\",\"cells\":\"Field_cells__18mqT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"Cell_cell__1-e6R\",\"cell_hovered\":\"Cell_cell_hovered__unFKJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Tape_main__3GNJ6\",\"slotsContainer\":\"Tape_slotsContainer__1Pc-P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"FullSizeBlock_main__1gNfp\",\"main_absolute\":\"FullSizeBlock_main_absolute__2wbtO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"ScoreCounter_main__xe56H\",\"scores\":\"ScoreCounter_scores__EcP3h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"BackButton_main__3qz2x\",\"main_disabled\":\"BackButton_main_disabled__L6IGz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Main_main__3hbzX\",\"content\":\"Main_content__Z3Lrs\"};","import { makeAutoObservable } from 'mobx';\nimport { FigureType } from './types';\n\nexport class TapeViewModel {\n  figures: FigureType[] = [\n    {\n      blocks: [\n        { color: '#FF7B1C', letter: 'А' },\n      ],\n      type: 1,\n    },\n    {\n      blocks: [\n        { color: '#A258FF', letter: 'Ж' },\n        { color: '#FF7B1C', letter: 'А' },\n      ],\n      type: 2,\n    },\n    {\n      blocks: [\n        { color: '#FF7B1C', letter: 'Р' },\n      ],\n      type: 1,\n    },\n    {\n      blocks: [\n        { color: '#FF7B1C', letter: 'А' },\n        { color: '#FF7B1C', letter: 'С' },\n      ],\n      type: 3,\n    },\n    {\n      blocks: [\n        { color: '#0ABA9A', letter: 'А' },\n      ],\n      type: 1,\n    },\n    {\n      blocks: [\n        { color: '#D73A8F', letter: 'Ф' },\n      ],\n      type: 1,\n    },\n  ];\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  setFigures = (figures: FigureType[]) => {\n    this.figures = figures;\n  }\n}","export const letterScoreDistributions = {\n  rus: [\n    {\n      letter: \"а\",\n      score: 1,\n    },\n    {\n      letter: \"б\",\n      score: 3,\n    },\n    {\n      letter: \"в\",\n      score: 1,\n    },\n    {\n      letter: \"г\",\n      score: 3,\n    },\n    {\n      letter: \"д\",\n      score: 2,\n    },\n    {\n      letter: \"е\",\n      score: 1,\n    },\n    {\n      letter: \"ё\",\n      score: 3,\n    },\n    {\n      letter: \"ж\",\n      score: 5,\n    },\n    {\n      letter: \"з\",\n      score: 5,\n    },\n    {\n      letter: \"и\",\n      score: 1,\n    },\n    {\n      letter: \"й\",\n      score: 4,\n    },\n    {\n      letter: \"к\",\n      score: 2,\n    },\n    {\n      letter: \"л\",\n      score: 2,\n    },\n    {\n      letter: \"м\",\n      score: 2,\n    },\n    {\n      letter: \"н\",\n      score: 1,\n    },\n    {\n      letter: \"о\",\n      score: 1,\n    },\n    {\n      letter: \"п\",\n      score: 2,\n    },\n    {\n      letter: \"р\",\n      score: 1,\n    },\n    {\n      letter: \"с\",\n      score: 1,\n    },\n    {\n      letter: \"т\",\n      score: 1,\n    },\n    {\n      letter: \"у\",\n      score: 2,\n    },\n    {\n      letter: \"ф\",\n      score: 10,\n    },\n    {\n      letter: \"х\",\n      score: 5,\n    },\n    {\n      letter: \"ц\",\n      score: 5,\n    },\n    {\n      letter: \"ч\",\n      score: 5,\n    },\n    {\n      letter: \"ш\",\n      score: 8,\n    },\n    {\n      letter: \"щ\",\n      score: 10,\n    },\n    {\n      letter: \"ъ\",\n      score: 10,\n    },\n    {\n      letter: \"ы\",\n      score: 4,\n    },\n    {\n      letter: \"ь\",\n      score: 3,\n    },\n    {\n      letter: \"э\",\n      score: 8,\n    },\n    {\n      letter: \"ю\",\n      score: 8,\n    },\n    {\n      letter: \"я\",\n      score: 3,\n    },\n  ],\n};\n\nexport const russianAlphabet = letterScoreDistributions.rus.map((item) => item.letter);\n","import { makeAutoObservable } from 'mobx';\nimport { letterScoreDistributions } from \"./constants\";\n\nexport class ProgressController {\n  private _words: string[] = [];\n\n  private _scores = 0;\n\n  constructor(){\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n\n  collectWord(word: string){\n    this._words.push(word);\n    const wordScores = this._getWordScores(word);\n    if (wordScores){\n        this._scores += wordScores;\n    }\n  }\n\n  private _getWordScores(word: string) {\n    try {\n      const chars = word.split(\"\");\n      const wordScores = chars.reduce((acc, curItem, index, array) => {\n        const charScore = letterScoreDistributions[\"rus\"].find(\n          ({ letter }) => letter === curItem\n        )?.score;\n        if (!charScore)\n          throw new Error(\n            `в слове ${word} для буквы ${curItem} не указаны очки в letterDistributions`\n          );\n        acc = acc + charScore;\n        return acc;\n      }, 0);\n      return wordScores;\n    } catch (error) {\n        console.warn(error)\n    }\n  }\n\n  get words(){\n      return this._words;\n  }\n\n  get scores(){\n      return this._scores;\n  }\n}","import { makeAutoObservable } from 'mobx';\nimport { TapeViewModel } from '../components/Tape/TapeViewModel';\nimport { ProgressController } from './ProgressController';\n\nexport class AppStore {\n  tape = new TapeViewModel();\n  progressController = new ProgressController();\n  isVisibleGamePage = false;\n\n  constructor() {\n    makeAutoObservable(this);\n  }\n\n  handleGameStartClick = () => {\n    this.isVisibleGamePage = true;\n    console.log('handleGameStartClick');\n  };\n}","import { createContext } from 'react';\nimport { AppStore } from '.';\n\nexport const AppContext = createContext<AppStore | null>(null);\nAppContext.displayName = 'AppContext';","var _rect, _g, _path, _path2, _path3, _path4, _path5, _path6, _path7;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSprite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 103,\n    height: 103,\n    viewBox: \"0 0 103 103\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask0_0_1\",\n    style: {\n      maskType: \"alpha\"\n    },\n    maskUnits: \"userSpaceOnUse\",\n    x: 0,\n    y: 0,\n    width: 103,\n    height: 103\n  }, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    width: 103,\n    height: 103,\n    rx: 34,\n    fill: \"#C4C4C4\"\n  }))), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    mask: \"url(#mask0_0_1)\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 103,\n    height: 103,\n    fill: \"#FFC327\"\n  }))), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.9968 47.3813H39.0029C38.488 47.3813 38.0713 47.796 38.0713 48.3085C38.0713 55.6777 44.095 61.6734 51.4999 61.6734C58.9047 61.6734 64.9285 55.6777 64.9285 48.3085C64.9285 47.796 64.5118 47.3813 63.9968 47.3813ZM51.4999 59.8191C45.4361 59.8191 40.4477 55.1508 39.9719 49.2357H63.0279C62.5521 55.1508 57.5637 59.8191 51.4999 59.8191Z\",\n    fill: \"black\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.5 16C34.6824 16 21 29.6157 21 46.3525V55.6475C21 65.9454 26.1844 75.0557 34.0871 80.5459C34.0875 80.5462 34.0882 80.5465 34.0886 80.5469C39.0297 83.9792 45.0306 86 51.5 86C61.9275 86 71.146 80.7627 76.6488 72.7953C76.653 72.7911 76.6548 72.7852 76.659 72.781C80.025 67.9013 82 62.0006 82 55.6475V46.3525C82 29.6157 68.3176 16 51.5 16ZM26.0776 68.7407C24.2083 65.1611 23.0783 61.1424 22.8948 56.8814C23.7164 59.0851 24.7902 61.1672 26.0776 63.0967V68.7407ZM33.8145 78.0365C31.5598 76.2689 29.5769 74.1747 27.9408 71.8219V65.6075C29.6472 67.6715 31.6257 69.502 33.8145 71.0583V78.0365ZM42.2656 82.6166C39.9188 81.8185 37.707 80.7294 35.6777 79.3854V72.2931C37.7277 73.5361 39.9371 74.542 42.2656 75.2799V82.6166ZM50.5684 84.1222C48.3497 84.0511 46.1936 83.7317 44.1288 83.1838V75.8044C46.2003 76.3181 48.3553 76.6158 50.5684 76.6823V84.1222ZM58.8666 83.1851C56.8033 83.7323 54.6487 84.0511 52.4316 84.1222V76.6823C54.6431 76.6158 56.7965 76.3184 58.8666 75.8054V83.1851ZM66.478 79.9246C64.6834 81.0251 62.7566 81.9293 60.7299 82.6181V75.2814C62.7452 74.6432 64.6675 73.7984 66.478 72.778V79.9246ZM75.0592 71.8219C73.2215 74.4646 70.9478 76.7831 68.3412 78.6762V71.6424C70.8694 69.9693 73.1355 67.9344 75.0592 65.6075V71.8219ZM76.9224 68.7407V63.0967C78.2098 61.1672 79.2836 59.0851 80.1052 56.8814C79.9217 61.1424 78.7917 65.1611 76.9224 68.7407ZM51.6083 74.8488C51.5711 74.8444 51.5384 74.8271 51.5 74.8271C51.4616 74.8271 51.429 74.8444 51.3918 74.8488C35.6512 74.7902 22.8633 62.0309 22.8633 46.3525C22.8633 30.6389 35.7096 17.8543 51.5 17.8543C67.2904 17.8543 80.1367 30.6389 80.1367 46.3525C80.1367 62.0309 67.3488 74.7902 51.6083 74.8488Z\",\n    fill: \"black\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.5005 22.1787C38.1065 22.1787 27.209 33.023 27.209 46.3526C27.209 59.6822 38.1065 70.5274 51.5005 70.5274C64.8946 70.5274 75.7912 59.6822 75.7912 46.3526C75.7912 33.023 64.8946 22.1787 51.5005 22.1787ZM51.5005 68.673C39.1337 68.673 29.0722 58.66 29.0722 46.3526C29.0722 34.0452 39.1337 24.033 51.5005 24.033C63.8674 24.033 73.9279 34.0452 73.9279 46.3526C73.9279 58.66 63.8674 68.673 51.5005 68.673Z\",\n    fill: \"black\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M60.3763 36.4072C56.6735 36.4072 53.6611 39.4051 53.6611 43.0901C53.6611 43.6026 54.0778 44.0173 54.5928 44.0173H66.1599C66.6749 44.0173 67.0915 43.6026 67.0915 43.0901C67.0915 39.4051 64.0792 36.4072 60.3763 36.4072ZM55.6145 42.163C56.0503 39.9429 58.02 38.2615 60.3763 38.2615C62.7327 38.2615 64.7024 39.9429 65.1382 42.163H55.6145Z\",\n    fill: \"black\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M61.8117 39.2856H58.9404C58.4255 39.2856 58.0088 39.7004 58.0088 40.2131C58.0088 40.7257 58.4255 41.1405 58.9404 41.1405H61.8117C62.3267 41.1405 62.7434 40.7257 62.7434 40.2131C62.7434 39.7004 62.3267 39.2856 61.8117 39.2856Z\",\n    fill: \"black\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.3396 43.0901C49.3396 39.4051 46.3273 36.4072 42.6244 36.4072C38.9215 36.4072 35.9092 39.4051 35.9092 43.0901C35.9092 43.6026 36.3259 44.0173 36.8408 44.0173H48.408C48.9229 44.0173 49.3396 43.6026 49.3396 43.0901ZM37.8625 42.163C38.2983 39.9429 40.268 38.2615 42.6244 38.2615C44.9808 38.2615 46.9505 39.9429 47.3863 42.163H37.8625Z\",\n    fill: \"black\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M44.0598 39.2856H41.1885C40.6735 39.2856 40.2568 39.7004 40.2568 40.2131C40.2568 40.7257 40.6735 41.1405 41.1885 41.1405H44.0598C44.5747 41.1405 44.9914 40.7257 44.9914 40.2131C44.9914 39.7004 44.5747 39.2856 44.0598 39.2856Z\",\n    fill: \"black\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSprite);\nexport default __webpack_public_path__ + \"static/media/sprite.205334e7.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport classes from \"./index.module.scss\";\nimport cn from \"classnames\";\nimport { FieldProps } from \"./type\";\n\nexport const Field = function (props: FieldProps) {\n  const { isDisabled, children, ...otherProps } = props;\n\n  return (\n    <div {...otherProps} className={cn(classes.field, isDisabled && classes.field_disabled)}>\n      <div className={classes.cells}>\n        {children}\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport classes from './index.module.scss';\nimport { CellProps } from './types';\n\nexport const Cell = React.forwardRef<HTMLDivElement, CellProps>(function Cell(props, ref){\n    const { isHovered = false, children, ...otherProps } = props;\n\n    return (\n        <div ref={ref} {...otherProps} className={cn(classes.cell, isHovered && classes.cell_hovered)} />\n    );\n})","import React from 'react';\nimport styles from './index.module.scss';\n\nexport const Tape: React.FC = ({ children }) => {\n  return (\n    <div className={styles.main}>\n      <div className={styles.slotsContainer}>\n        {children}\n      </div>\n    </div>\n  );\n};","import React from 'react';\nimport cn from 'classnames';\nimport { FullSizeBlockProps } from './types';\nimport style from './index.module.scss';\n\nexport const FullSizeBlock = React.forwardRef<HTMLDivElement, FullSizeBlockProps>(function FullSizeBlock(\n  props,\n  ref,\n) {\n  const { className, absolute = false, ...otherProps } = props;\n\n  return (\n    <div\n      {...otherProps}\n      ref={ref}\n      className={cn(style.main, absolute && style.main_absolute, className)}\n    />\n  );\n});","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSprite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 80,\n    height: 80,\n    viewBox: \"0 0 80 80\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M62 17L17 62\",\n    stroke: \"white\",\n    strokeWidth: 6,\n    strokeLinecap: \"round\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M17 17L62 62\",\n    stroke: \"white\",\n    strokeWidth: 6,\n    strokeLinecap: \"round\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSprite);\nexport default __webpack_public_path__ + \"static/media/sprite.b53005ef.svg\";\nexport { ForwardRef as ReactComponent };","export const defaultWidth = 120;\n\nexport const defaultFontSize = 20;\n\nexport const defaultProps = {\n  scores: 0,\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { Nullable } from 'src/App/types';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { ReactComponent as Sprite } from './images/sprite.svg';\nimport { defaultFontSize, defaultProps, defaultWidth } from './constants';\nimport { ScoreCounterProps } from './types';\nimport styles from './index.module.scss';\n\nexport const ScoreCounter = (props: ScoreCounterProps) => {\n  const { className, scores, ...otherProps } = { ...defaultProps, ...props };\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState<Nullable<number>>(null);\n  const scaling = width ? width / defaultWidth : 1;\n  const scoresStyle = React.useMemo(() => ({\n    fontSize: `${scaling * defaultFontSize}px`,\n  }), [scaling]);\n\n  React.useEffect(() => {\n    const element = ref.current!;\n    const calcWidth = () => setWidth(element.offsetWidth);\n    calcWidth();\n    window.addEventListener('resize', calcWidth);\n    return () => window.removeEventListener('resize', calcWidth);\n  }, []);\n\n  return (\n    <FullSizeBlock {...otherProps} ref={ref} className={cn(styles.main)}>\n      <FullSizeBlock absolute>\n        <Sprite />\n      </FullSizeBlock>\n      <div style={scoresStyle} className={styles.scores}>{scores}</div>\n    </FullSizeBlock>\n  );\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { Nullable } from 'src/App/types';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { ReactComponent as Sprite } from './images/sprite.svg';\nimport { defaultBorderWidth, defaultWidth } from './constants';\nimport { BackButtonProps } from './types';\nimport styles from './index.module.scss';\n\nexport const BackButton = ({ className, disabled, style: styleProp, ...otherProps }: BackButtonProps) => {\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [width, setWidth] = React.useState<Nullable<number>>(null);\n  const scaling = width ? width / defaultWidth : 1;\n  const style = React.useMemo(() => ({\n    ...styleProp,\n    borderWidth: `${scaling * defaultBorderWidth}px`,\n  }), [scaling, styleProp]);\n\n  React.useEffect(() => {\n    const element = ref.current!;\n    const calcWidth = () => setWidth(element.offsetWidth);\n    calcWidth();\n    window.addEventListener('resize', calcWidth);\n    return () => window.removeEventListener('resize', calcWidth);\n  }, []);\n\n  return (\n    <FullSizeBlock\n      {...otherProps}\n      ref={ref}\n      style={style}\n      className={cn(styles.main, disabled && styles.main_disabled, className)}\n    >\n      <Sprite />\n    </FullSizeBlock>\n  );\n};\n","export const defaultBorderWidth = 7;\n\nexport const defaultWidth = 80;\n\nexport const defaultProps = {\n  disabled: false,\n};\n","import React from 'react';\n\nexport const useCombinedRefs = <T>(...refs: React.ForwardedRef<T>[]) => {\n  const targetRef = React.useRef<T>();\n\n  React.useEffect(() => {\n    refs.forEach((ref) => {\n      if (!ref) return;\n\n      if (typeof ref === 'function') {\n        ref(targetRef.current || null);\n      } else {\n        const currentRef = ref;\n        currentRef.current = targetRef.current || null;\n      }\n    });\n  }, [refs]);\n\n  return targetRef as React.MutableRefObject<T>;\n};\n","export const defaultWidth = 50;\n\nexport const defaultFontSize = 28;\n\nexport const colors = {\n  '#FF7B1C': '#FF7B1C',\n  '#545AEF': '#545AEF',\n  '#0ABA9A': '#0ABA9A',\n  '#FFDC27': '#FFDC27',\n  '#A258FF': '#A258FF',\n  '#18C2E8': '#18C2E8',\n  '#D73A8F': '#D73A8F',\n};\n\nexport const defaultProps = {\n  color: colors['#0ABA9A'],\n  disabled: false,\n  hovered: false,\n  selected: false,\n  hoverable: false,\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { Nullable } from 'src/App/types';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { defaultWidth, defaultFontSize, defaultProps } from './constants';\nimport { CubeProps } from './types';\nimport styles from './index.module.scss';\n\nexport const Cube = React.forwardRef<HTMLDivElement, CubeProps>(function Cube(props, ref) {\n  const {\n    color,\n    children,\n    className,\n    disabled,\n    selected,\n    hovered,\n    hoverable,\n    style: styleProp,\n    ...otherProps\n  } = {\n    ...defaultProps,\n    ...props,\n  };\n\n  const combinedRef = useCombinedRefs(ref);\n  const [width, setWidth] = React.useState<Nullable<number>>(null);\n  const scaling = width ? width / defaultWidth : 1;\n  const style: React.CSSProperties = React.useMemo(() => ({\n    ...styleProp,\n    fontSize: `${scaling * defaultFontSize}px`,\n  }), [scaling, styleProp]);\n\n  React.useEffect(() => {\n    const element = combinedRef.current!;\n    const calcWidth = () => setWidth(element.offsetWidth);\n    calcWidth();\n    window.addEventListener('resize', calcWidth);\n    return () => window.removeEventListener('resize', calcWidth);\n  }, [combinedRef]);\n\n  return (\n    <FullSizeBlock\n      {...otherProps}\n      ref={combinedRef}\n      style={style}\n      className={cn(\n        styles.main,\n        selected && styles.main_selected,\n        hoverable && styles.main_hoverable,\n        hovered && styles.main_hovered,\n        disabled && styles.main_disabled,\n        className,\n      )}\n    >\n      <FullSizeBlock className={styles.scaleWrap}>\n        <FullSizeBlock\n          className={styles.background}\n          style={{\n            backgroundColor: color,\n            boxShadow: `${scaling * 2}px ${scaling * 2}px ${scaling * 2}px rgba(34, 0, 135, 0.25)`,\n          }}\n          absolute\n        />\n        <FullSizeBlock\n          className={styles.content}\n          absolute\n        >\n          {children}\n        </FullSizeBlock>\n      </FullSizeBlock>\n    </FullSizeBlock>\n  );\n});\n","import React from 'react';\nimport { DivProps } from './types';\n\nexport const Div = React.forwardRef<HTMLDivElement, DivProps>(function Div(props, ref) {\n  return <div ref={ref} {...props} />;\n});\n","import React from 'react';\nimport { DraggerStore } from './store/DraggerStore';\n\nexport const DraggerStoreContext = React.createContext<DraggerStore | null>(null);\n\nexport const useDraggerStoreContext = () => {\n  const draggerStore = React.useContext(DraggerStoreContext);\n\n  if (!draggerStore) {\n    throw new Error('DraggerStoreContext value was not provided');\n  }\n\n  return draggerStore;\n};\n","import { makeAutoObservable, runInAction } from 'mobx';\nimport { DragItem } from '../DragItem';\n\nexport class Collection<T extends DragItem = DragItem> {\n  items: T[] = [];\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n\n  findById(id: string | number) {\n    const item = this.items.find((_item) => _item.id === id);\n    return item;\n  }\n\n  findByElement(element: HTMLElement) {\n    const item = this.items.find((_item) => _item.element === element);\n    return item;\n  }\n\n  add(item: T) {\n    runInAction(() => {\n      this.items = this.items.concat(item);\n    });\n\n    return item;\n  }\n}\n","export const getOffset = (relativeNode: HTMLElement, targetNode: HTMLElement) => {\n  const relativeNodeRect = relativeNode.getBoundingClientRect();\n  const targetNodeRect = targetNode.getBoundingClientRect();\n\n  return {\n    left: targetNodeRect.left - relativeNodeRect.left,\n    top: targetNodeRect.top - relativeNodeRect.top,\n  };\n};\n","import { Nullable } from 'src/App/types';\nimport { IntersectionData, IntersectionDataItem } from './types';\n\nexport class IntersectionCalculator {\n  data: Nullable<IntersectionData> = null;\n\n  static getIntersectionArea(element1: HTMLElement, element2: HTMLElement) {\n    let height = 0;\n    let width = 0;\n    const rect1 = element1.getBoundingClientRect();\n    const rect2 = element2.getBoundingClientRect();\n\n    const unionWidth =\n      Math.max(rect1.x + rect1.width, rect2.x + rect2.width) - Math.min(rect1.x, rect2.x);\n    const widthOfTwo = rect1.width + rect2.width;\n\n    const unionHeight =\n      Math.max(rect1.y + rect1.height, rect2.y + rect2.height) - Math.min(rect1.y, rect2.y);\n    const heightOfTwo = rect1.height + rect2.height;\n\n    if (unionWidth <= widthOfTwo) {\n      width = widthOfTwo - unionWidth;\n    }\n\n    if (unionHeight <= heightOfTwo) {\n      height = heightOfTwo - unionHeight;\n    }\n\n    return width * height;\n  }\n\n  static getIntersectionData(targetElement: HTMLElement, elements: HTMLElement[]) {\n    return elements.map((element, i) => {\n      const intersectionArea = this.getIntersectionArea(targetElement, element);\n\n      return { index: i, element, area: intersectionArea };\n    });\n  }\n\n  calculateIntersectedElements(targetElement: HTMLElement, elements: HTMLElement[]) {\n    const data = IntersectionCalculator.getIntersectionData(targetElement, elements).filter(\n      ({ area }) => area !== 0,\n    );\n\n    let prev: Nullable<IntersectionDataItem> = null;\n    let current: Nullable<IntersectionDataItem> = null;\n\n    if (this.data !== null && this.data.length !== 0) {\n      prev = this.data.reduce((acc, currValue) => {\n        if (acc.area > currValue.area) return acc;\n        return currValue;\n      });\n    }\n\n    this.data = data;\n\n    if (this.data !== null && this.data.length !== 0) {\n      current = this.data.reduce((acc, currValue) => {\n        if (acc.area > currValue.area) return acc;\n        return currValue;\n      });\n    }\n\n    return { prev, current };\n  }\n\n  clearIntersection() {\n    this.data = null;\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { getOffset } from 'src/App/shared/getOffset';\nimport { Collection } from '../Collection';\nimport { Plate } from '../Plate';\nimport { Slot } from '../Slot';\nimport { IntersectionCalculator } from './IntersectionCalculator';\nimport { DragHandlerParams, Options } from './types';\n\nexport class DragOperator {\n  private intersectionCalculators: IntersectionCalculator[] = [];\n\n  plates: Collection<Plate>;\n\n  slots: Collection<Slot>;\n\n  get platesInDrag() {\n    const plate = this.plates.items.filter((item) => item.inDrag);\n    return plate;\n  }\n\n  get inDrag() {\n    return !!this.platesInDrag;\n  }\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.plates = options.plates;\n    this.slots = options.slots;\n  }\n\n  private assertDragStarted() {\n    if (!this.inDrag) {\n      throw new Error(`${this.constructor.name}: drag was not started`);\n    }\n  }\n\n  startDrag({ event, data }: DragHandlerParams) {\n    const currentPlate = this.plates.findByElement(data.element)!;\n\n    if (currentPlate.disabled) return;\n    \n    const currentSlot = this.slots.findById(currentPlate.slotId)!;\n    const offset = getOffset(currentSlot.element!, currentPlate.element!);\n\n    const draggingPlates = currentPlate.group ? this.plates.items.filter((plate) => plate.group === currentPlate.group) : [currentPlate];\n\n    draggingPlates.forEach((draggingPlate) => {\n      this.intersectionCalculators.push(new IntersectionCalculator());\n      const translate = { x: offset.left, y: offset.top };\n      if (draggingPlate.centered) {\n        const plateCoordinates = data.element.getBoundingClientRect();\n        translate.x = data.point.x - plateCoordinates.x - plateCoordinates.width / 2;\n        translate.y = data.point.y - plateCoordinates.y - plateCoordinates.height / 2;\n      }\n      draggingPlate.startDrag();\n      draggingPlate.setTranslate(translate);\n      draggingPlate.callbacks?.onStartDrag?.(event, data);\n    });\n  }\n\n  moveDrag({ event, data }: DragHandlerParams) {\n    this.assertDragStarted();\n\n    this.platesInDrag.forEach((plateInDrag, i) => {\n      plateInDrag.setTranslate({\n        x: plateInDrag.translate.x + data.deltaPoint.x,\n        y: plateInDrag.translate.y + data.deltaPoint.y,\n      });\n  \n      plateInDrag.callbacks?.onMoveDrag?.(event, data);\n  \n      const { prev, current } = this.intersectionCalculators[i].calculateIntersectedElements(\n        plateInDrag.intersectionElement!,\n        this.slots.items.map((slot) => slot.intersectionElement!),\n      );\n  \n      const intersectedSlot = current ? this.slots.items[current.index] : null;\n      const prevIntersectedSlot = prev ? this.slots.items[prev.index] : null;\n  \n      if (!intersectedSlot && prevIntersectedSlot) {\n        const intersectionData = {\n          plateId: plateInDrag.id,\n          slotId: prevIntersectedSlot.id,\n        };\n  \n        plateInDrag.callbacks?.onIntersectionOut?.(intersectionData);\n        prevIntersectedSlot.callbacks?.onIntersectionOut?.(intersectionData);\n      } else if (intersectedSlot && !prevIntersectedSlot) {\n        const intersectionData = {\n          plateId: plateInDrag.id,\n          slotId: intersectedSlot.id,\n        };\n  \n        plateInDrag.callbacks?.onIntersectionIn?.(intersectionData);\n        intersectedSlot.callbacks?.onIntersectionIn?.(intersectionData);\n      } else if (\n        intersectedSlot &&\n        prevIntersectedSlot &&\n        intersectedSlot.id !== prevIntersectedSlot.id\n      ) {\n        plateInDrag.callbacks?.onIntersectionOut?.({\n          plateId: plateInDrag.id,\n          slotId: prevIntersectedSlot.id,\n        });\n        prevIntersectedSlot.callbacks?.onIntersectionOut?.({\n          plateId: plateInDrag.id,\n          slotId: prevIntersectedSlot.id,\n        });\n  \n        plateInDrag.callbacks?.onIntersectionIn?.({\n          plateId: plateInDrag.id,\n          slotId: intersectedSlot.id,\n        });\n        intersectedSlot.callbacks?.onIntersectionIn?.({\n          plateId: plateInDrag.id,\n          slotId: intersectedSlot.id,\n        });\n      }\n    });\n  }\n\n  finishDrag({ event, data }: DragHandlerParams) {\n    this.assertDragStarted();\n    this.intersectionCalculators = [];\n    this.platesInDrag.forEach((plateInDrag) => {\n      plateInDrag.finishDrag();\n      plateInDrag.callbacks?.onFinishDrag?.(event, data);\n    });\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { Collection } from '../Collection';\nimport { DragOperator } from '../DragOperator';\nimport { Plate } from '../Plate';\nimport { Slot } from '../Slot';\n\nexport class DraggerStore {\n  plates = new Collection<Plate>();\n\n  slots = new Collection<Slot>();\n\n  operator = new DragOperator({\n    plates: this.plates,\n    slots: this.slots,\n  });\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n}\n","import React from 'react';\nimport { useLocalObservable } from 'mobx-react';\nimport { DraggerStoreContext } from './context';\nimport { DraggerStore } from './store/DraggerStore';\n\nexport const Dragger: React.FC = (props) => {\n  const { children } = props;\n  const dragger = useLocalObservable(() => new DraggerStore());\n\n  return <DraggerStoreContext.Provider value={dragger}>{children}</DraggerStoreContext.Provider>;\n};\n","import { action, makeObservable, observable } from 'mobx';\nimport { Nullable } from 'src/App/types';\nimport { Options } from './types';\n\nexport class DragItem {\n  id: string | number;\n\n  element: Nullable<HTMLElement> = null;\n\n  constructor(options: Options) {\n    makeObservable(this, {\n      element: observable,\n      setElement: action.bound,\n    });\n\n    this.id = options.id;\n  }\n\n  setElement(element: HTMLElement) {\n    this.element = element;\n  }\n}\n","import { action, computed, makeObservable, observable } from 'mobx';\nimport { Nullable } from 'src/App/types';\nimport { DragItem } from '../DragItem';\nimport { Callbacks, Options } from './types';\n\nexport class Slot extends DragItem {\n  elementSelector: Nullable<string>;\n\n  intersectionSelector: Nullable<string>;\n\n  callbacks?: Callbacks;\n\n  get intersectionElement() {\n    if (!this.intersectionSelector) return this.element;\n\n    const intersectionElement = this.element?.querySelector(this.intersectionSelector);\n\n    if (!intersectionElement) return this.element;\n\n    return intersectionElement as HTMLElement;\n  }\n\n  get currentElement() {\n    if (!this.elementSelector) return this.element;\n\n    const element = this.element?.querySelector(this.elementSelector);\n\n    if (!element) return element;\n\n    return element as HTMLElement;\n  }\n\n  constructor(options: Options) {\n    super(options);\n\n    makeObservable(this, {\n      callbacks: observable,\n      intersectionElement: computed,\n      currentElement: computed,\n      setCallbacks: action.bound,\n    });\n\n    this.elementSelector = options.elementSelector ?? null;\n    this.intersectionSelector = options.intersectionSelector ?? null;\n    this.callbacks = options.callbacks;\n  }\n\n  setCallbacks(callbacks: Callbacks) {\n    this.callbacks = callbacks;\n  }\n}\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport { observer } from 'mobx-react';\nimport { useDraggerStoreContext } from '../../context';\nimport { Slot as SlotModel } from '../../store/Slot';\nimport { SlotProps } from './types';\n\nexport const Slot = observer(function Slot<P extends Object>(props: SlotProps<P>) {\n  const {\n    Component,\n    id,\n    intersectionSelector,\n    elementSelector,\n    onIntersectionIn,\n    onIntersectionOut,\n    ...otherProps\n  } = props;\n\n  const ref = React.useRef<HTMLElement>(null);\n  const dragger = useDraggerStoreContext();\n\n  const slot = React.useMemo(\n    () =>\n      dragger.slots.add(\n        new SlotModel({\n          id,\n          intersectionSelector,\n          elementSelector,\n          callbacks: {\n            onIntersectionIn,\n            onIntersectionOut,\n          },\n        }),\n      ),\n    [dragger.slots, elementSelector, id, intersectionSelector, onIntersectionIn, onIntersectionOut],\n  );\n\n  React.useEffect(() => {\n    slot.setElement(ref.current!);\n  }, [slot]);\n\n  React.useEffect(() => {\n    slot.setCallbacks({\n      onIntersectionIn,\n      onIntersectionOut,\n    });\n  }, [onIntersectionIn, onIntersectionOut, slot]);\n\n  return <Component {...((otherProps as any) as P)} ref={ref} />;\n});\n","import { action, computed, makeObservable, observable } from 'mobx';\nimport { Nullable, Point } from 'src/App/types';\nimport { DragItem } from '../DragItem';\nimport { Callbacks, Options } from './types';\n\nexport class Plate extends DragItem {\n  translate: Point = { x: 0, y: 0 };\n\n  slotId: string | number;\n\n  inDrag = false;\n\n  centered?: boolean;\n\n  group?: string | number;\n\n  intersectionSelector: Nullable<string>;\n\n  disabled = false;\n\n  callbacks?: Callbacks;\n\n  get intersectionElement() {\n    if (!this.intersectionSelector) return this.element;\n\n    const intersectionElement = this.element?.querySelector(this.intersectionSelector);\n\n    if (!intersectionElement) return this.element;\n\n    return intersectionElement as HTMLElement;\n  }\n\n  constructor(options: Options) {\n    super(options);\n\n    makeObservable(this, {\n      translate: observable,\n      slotId: observable,\n      inDrag: observable,\n      group: observable,\n      disabled: observable,\n      intersectionElement: computed,\n      startDrag: action.bound,\n      finishDrag: action.bound,\n      setTranslate: action.bound,\n      setSlotId: action.bound,\n    });\n\n    this.slotId = options.slotId;\n    this.disabled = options.disabled ?? false;\n    this.group = options.group;\n    this.centered = options.centered;\n    this.intersectionSelector = options.intersectionSelector ?? null;\n    this.callbacks = options.callbacks;\n  }\n\n  setCallbacks(callbacks: Callbacks) {\n    this.callbacks = callbacks;\n  }\n\n  startDrag() {\n    this.inDrag = true;\n  }\n\n  finishDrag() {\n    this.inDrag = false;\n  }\n\n  setTranslate(translate: Point) {\n    this.translate = translate;\n  }\n\n  setSlotId(slotId: string | number) {\n    this.slotId = slotId;\n  }\n\n  setDisabled(disabled: boolean) {\n    this.disabled = disabled;\n  }\n}\n","import { IReactionDisposer, IReactionOptions, IReactionPublic, reaction } from 'mobx';\nimport { Nullable } from 'src/App/types';\nimport { Options } from './types';\n\nexport class Reaction<R> {\n  private disposer: Nullable<IReactionDisposer> = null;\n\n  private expression: (reaction: IReactionPublic) => R;\n\n  private handler: (current: R, prev: R | undefined, reaction: IReactionPublic) => void;\n\n  private options?: IReactionOptions<any, any>;\n\n  constructor({ expression, handler, options }: Options<R>) {\n    this.expression = expression;\n    this.handler = handler;\n    this.options = options;\n    this.handle = this.handle.bind(this);\n  }\n\n  init() {\n    this.disposer = reaction(this.expression, this.handle, this.options);\n  }\n\n  dispose() {\n    this.disposer?.();\n    this.disposer = null;\n  }\n\n  private handle(current: R, prev: R | undefined, _reaction: IReactionPublic) {\n    try {\n      this.handler(current, prev, _reaction);\n    } catch (err) {\n      // @ts-ignore\n      window.dispatchEvent(new ErrorEvent('error', err));\n      throw err;\n    }\n  }\n}\n","import { makeAutoObservable, observable } from 'mobx';\nimport { omit } from 'lodash';\nimport { Plate as PlateModel } from '../../../../store/Plate';\nimport { DefaultPlateComponentProps, PlateProps } from '../../types';\nimport { Params } from './types';\nimport { Reaction } from 'src/App/shared/Reaction';\nimport { DraggerStore } from 'src/App/components/Dragger/store/DraggerStore';\nimport { Nullable } from 'src/App/types';\nimport { DraggableEventHandler } from 'src/App/components/Draggable/types';\n\nexport class PlateStore<P extends DefaultPlateComponentProps> {\n  private props!: PlateProps<P>;\n\n  private plateModel: PlateModel;\n\n  private reactions = {\n    slotId: new Reaction({\n      expression: () => this.props.slotId,\n      handler: (slotId) => this.model.setSlotId(slotId),\n    }),\n    callbacks: new Reaction({\n      expression: () => {\n        const { props } = this;\n        return {\n          onAfterDragMoving: props.onAfterDragMoving,\n          onAfterDragMovingEnd: props.onAfterDragMovingEnd,\n          onStartDrag: props.onStartDrag,\n          onMoveDrag: props.onMoveDrag,\n          onFinishDrag: props.onFinishDrag,\n          onIntersectionIn: props.onIntersectionIn,\n          onIntersectionOut: props.onIntersectionOut,\n        };\n      },\n      handler: (callbacks) => {\n        this.model.setCallbacks(callbacks);\n      },\n    }),\n  };\n\n  dragger: DraggerStore;\n\n  element: Nullable<HTMLElement> = null;\n\n  get model() {\n    return this.dragger.plates.findById(this.props.id)!;\n  }\n\n  get slot() {\n    return this.dragger.slots.findById(this.model.slotId);\n  }\n\n  get draggableProps() {\n    const onStartDrag: DraggableEventHandler = (event, data) => {\n      this.dragger.operator.startDrag({ event, data });\n    };\n\n    const onMoveDrag: DraggableEventHandler = (event, data) => {\n      this.dragger.operator.moveDrag({ event, data });\n    };\n\n    const onFinishDrag: DraggableEventHandler = (event, data) => {\n      this.dragger.operator.finishDrag({ event, data });\n    };\n\n    return {\n      onStartDrag,\n      onMoveDrag,\n      onFinishDrag,\n    };\n  }\n\n  get elementMoverProps() {\n    return {\n      Component: this.props.Component,\n      anchor: this.slot?.currentElement,\n      translate: this.model.translate,\n      bounded: this.props.state === 'default' ? !this.model.inDrag : this.props.state === 'bounded',\n      duration: this.props.afterDragMovingDuration ?? 500,\n      withAnimation: this.props.withMovingAfterDrag ?? true,\n      easing: this.props.afterDragMovingEasing ?? 'easeInOutQuad',\n      calculationHelper: this.props.afterDragMovingPositionCalculationHelper,\n      onMoving: this.props.onAfterDragMoving,\n      onMovingEnd: this.props.onAfterDragMovingEnd,\n      ...omit(this.props, [\n        'style',\n        'Component',\n        'id',\n        'slotId',\n        'withMovingAfterDrag',\n        'afterDragMovingDuration',\n        'afterDragMovingEasing',\n        'afterDragMovingPositionCalculationHelper',\n        'onAfterDragMoving',\n        'onAfterDragMovingEnd',\n        'onStartDrag',\n        'onMoveDrag',\n        'onFinishDrag',\n        'onIntersectionIn',\n        'onIntersectionOut',\n      ]),\n    };\n  }\n\n  constructor(params: Params<P>) {\n    makeAutoObservable<PlateStore<P>, 'props'>(\n      this,\n      { props: observable.shallow },\n      { autoBind: true },\n    );\n\n    this.initReactions();\n\n    this.element = params.element;\n    this.dragger = params.dragger;\n\n    this.setProps(params.props);\n\n    this.plateModel = this.dragger.plates.add(\n      new PlateModel({\n        id: this.props.id,\n        slotId: this.props.slotId,\n        centered: this.props.centered,\n        group: this.props.group,\n        disabled: this.props.disabled,\n        intersectionSelector: this.props.intersectionSelector,\n        callbacks: {\n          onAfterDragMoving: this.props.onAfterDragMoving,\n          onAfterDragMovingEnd: this.props.onAfterDragMovingEnd,\n          onStartDrag: this.props.onStartDrag,\n          onMoveDrag: this.props.onMoveDrag,\n          onFinishDrag: this.props.onFinishDrag,\n          onIntersectionIn: this.props.onIntersectionIn,\n          onIntersectionOut: this.props.onIntersectionOut,\n        },\n      }),\n    );\n  }\n\n  private initReactions() {\n    Object.values(this.reactions).forEach((reaction) => reaction.init());\n  }\n\n  setProps(props: PlateProps<P>) {\n    this.props = props;\n    this.props.state = this.props.state ?? 'default';\n    this.props.disabled = this.props.disabled ?? false;\n    this.plateModel?.setDisabled(this.props.disabled);\n  }\n\n  setElement(element: HTMLElement) {\n    this.element = element;\n    this.model.setElement(element);\n  }\n\n  clear() {\n    Object.values(this.reactions).forEach((reaction) => reaction.dispose());\n  }\n}\n","import React from 'react';\nimport { PlateStore } from './store/PlateStore';\n\nexport const PlateStoreContext = React.createContext<PlateStore<any> | null>(null);\n\nexport const usePlateStoreContext = <P extends Object>() => {\n  const plateStore = React.useContext(PlateStoreContext);\n\n  if (!plateStore) {\n    throw new Error('PlateStoreContext values was not provided');\n  }\n\n  return plateStore as PlateStore<P>;\n};\n","import russianWordsBase from 'russian-words';\n\nexport const russianWords = russianWordsBase.map((w) => w.trim()).sort().filter((w) => w !== 'ж');\n\nexport const animeEasings = {\n  easeInQuad: 'easeInQuad',\n  easeInCubic: 'easeInCubic',\n  easeInQuart: 'easeInQuart',\n  easeInQuint: 'easeInQuint',\n  easeInSine: 'easeInSine',\n  easeInExpo: 'easeInExpo',\n  easeInCirc: 'easeInCirc',\n  easeInBack: 'easeInBack',\n  easeOutQuad: 'easeOutQuad',\n  easeOutCubic: 'easeOutCubic',\n  easeOutQuart: 'easeOutQuart',\n  easeOutQuint: 'easeOutQuint',\n  easeOutSine: 'easeOutSine',\n  easeOutExpo: 'easeOutExpo',\n  easeOutCirc: 'easeOutCirc',\n  easeOutBack: 'easeOutBack',\n  easeInBounce: 'easeInBounce',\n  easeInOutQuad: 'easeInOutQuad',\n  easeInOutCubic: 'easeInOutCubic',\n  easeInOutQuart: 'easeInOutQuart',\n  easeInOutQuint: 'easeInOutQuint',\n  easeInOutSine: 'easeInOutSine',\n  easeInOutExpo: 'easeInOutExpo',\n  easeInOutCirc: 'easeInOutCirc',\n  easeInOutBack: 'easeInOutBack',\n  easeInOutBounce: 'easeInOutBounce',\n  easeOutBounce: 'easeOutBounce',\n  easeOutInQuad: 'easeOutInQuad',\n  easeOutInCubic: 'easeOutInCubic',\n  easeOutInQuart: 'easeOutInQuart',\n  easeOutInQuint: 'easeOutInQuint',\n  easeOutInSine: 'easeOutInSine',\n  easeOutInExpo: 'easeOutInExpo',\n  easeOutInCirc: 'easeOutInCirc',\n  easeOutInBack: 'easeOutInBack',\n  easeOutInBounce: 'easeOutInBounce',\n  linear: 'linear',\n};\n","import { makeAutoObservable } from 'mobx';\nimport React from 'react';\nimport { Point } from 'src/App/types';\nimport { Options } from './types';\n\nexport class ElementMoverStore {\n  translate!: Point;\n\n  anchor!: HTMLElement;\n\n  withAnimation = false;\n\n  firstRender = true;\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this.setAnchor(options.anchor);\n    this.setTranslate(options.translate);\n    this.setWithAnimation(options.withAnimation);\n  }\n\n  get calculatedTransformStyle(): React.CSSProperties {\n    return { transform: `translate(${this.translate.x}px, ${this.translate.y}px)` };\n  }\n\n  passFirstRender() {\n    this.firstRender = false;\n  }\n\n  setTranslate(value: Point) {\n    this.translate = value;\n  }\n\n  setAnchor(newAnchor: HTMLElement) {\n    this.withAnimation = true;\n    this.anchor = newAnchor;\n  }\n\n  setWithAnimation(withAnimation: boolean) {\n    this.withAnimation = withAnimation;\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { entries } from 'lodash';\nimport { ReparentableProps } from './types';\n\nexport const Reparentable = (props: ReparentableProps) => {\n  const { className, parent, containerStyle, children } = props;\n  const portalContainer = React.useMemo(() => {\n    const element = document.createElement('div');\n    element.style.width = '100%';\n    element.style.height = '100%';\n    return element;\n  }, []);\n\n  React.useLayoutEffect(() => {\n    const pairs = entries(containerStyle);\n    pairs.forEach(([name, value]) => {\n      // @ts-ignore\n      portalContainer.style[name] = value;\n    });\n  }, [containerStyle, portalContainer.style]);\n\n  React.useLayoutEffect(() => {\n    portalContainer.className = className ?? '';\n  }, [className, portalContainer]);\n\n  React.useLayoutEffect(() => {\n    parent.appendChild(portalContainer);\n  }, [parent, portalContainer]);\n\n  React.useLayoutEffect(() => () => portalContainer.remove(), [portalContainer]);\n\n  return ReactDOM.createPortal(children, portalContainer);\n};\n","import React from 'react';\nimport { observer, useLocalObservable } from 'mobx-react';\nimport anime, { AnimeInstance } from 'animejs';\nimport { animeEasings } from 'src/App/constants';\nimport { Point } from 'src/App/types';\nimport { ElementMoverStore } from './store/ElementMoverStore';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { getOffset } from 'src/App/shared/getOffset';\nimport { Reparentable } from '../Reparentable';\nimport { CalculationHelper, DefaultComponentProps, ElementMoverProps } from './types';\n\nconst calculatePoint: CalculationHelper = (data) => data.currentTranslate;\n\nconst defaultPoint: Point = { x: 0, y: 0 };\n\nexport const ElementMover = observer(\n  React.forwardRef(function ElementMover<P extends DefaultComponentProps, R extends HTMLElement>(\n    props: ElementMoverProps<P>,\n    ref: React.Ref<R>,\n  ) {\n    const {\n      anchor: anchorProp,\n      duration = 500,\n      Component,\n      style,\n      easing = animeEasings.easeInOutQuad,\n      bounded = true,\n      translate = defaultPoint,\n      withAnimation = true,\n      calculationHelper = calculatePoint,\n      reparentableContainerStyle,\n      onMoving,\n      onMovingEnd,\n      ...otherProps\n    } = props;\n\n    const refCallbacks = React.useRef({ onMoving, onMovingEnd });\n\n    React.useEffect(() => {\n      refCallbacks.current = { onMoving, onMovingEnd };\n    }, [onMoving, onMovingEnd]);\n\n    const store = useLocalObservable(\n      () => new ElementMoverStore({ anchor: anchorProp, translate, withAnimation }),\n    );\n\n    const innerRef = useCombinedRefs(ref);\n    const animeRef = React.useRef<AnimeInstance | null>(null);\n\n    const calculatedStyle: React.CSSProperties = React.useMemo(\n      () => ({\n        ...style,\n        ...store.calculatedTransformStyle,\n      }),\n      [store.calculatedTransformStyle, style],\n    );\n\n    React.useEffect(() => {\n      if (store.firstRender || !innerRef.current || !bounded) {\n        return;\n      }\n\n      const offset = getOffset(anchorProp, innerRef.current);\n      store.setAnchor(anchorProp);\n      store.setTranslate({ x: offset.left, y: offset.top });\n      // Не нужна реакция на innerRef\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [anchorProp, store, bounded]);\n\n    React.useEffect(() => store.setWithAnimation(withAnimation), [store, withAnimation]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        store.setTranslate(translate);\n      }\n    }, [bounded, translate, store]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        animeRef.current?.pause();\n      }\n    }, [bounded]);\n\n    React.useEffect(() => store.setWithAnimation(withAnimation), [store, withAnimation]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        store.setTranslate(translate);\n      }\n    }, [bounded, translate, store]);\n\n    React.useEffect(() => {\n      if (!bounded) {\n        animeRef.current?.pause();\n      }\n    }, [bounded]);\n\n    React.useEffect(() => {\n      if (!bounded) return;\n\n      const startTranslate = { ...store.translate };\n      const currentTranslate = { ...store.translate };\n      const finishTranslate = { x: 0, y: 0 };\n\n      if (animeRef.current) {\n        animeRef.current.pause();\n      }\n\n      if (store.withAnimation && !store.firstRender) {\n        animeRef.current = anime({\n          targets: currentTranslate,\n          ...finishTranslate,\n          duration,\n          easing,\n          update: () => {\n            store.setTranslate(\n              calculationHelper({\n                startTranslate,\n                currentTranslate,\n                finishTranslate,\n              }),\n            );\n            refCallbacks.current.onMoving?.(currentTranslate);\n          },\n          complete: () => {\n            refCallbacks.current.onMovingEnd?.(finishTranslate);\n          },\n        });\n      } else {\n        store.setTranslate(finishTranslate);\n      }\n\n      // Нужна обработка изменения только anchor и bounded\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [store.anchor, bounded]);\n\n    React.useEffect(() => () => animeRef.current?.pause(), []);\n\n    React.useEffect(() => store.passFirstRender(), [store]);\n\n    return (\n      <Reparentable parent={store.anchor} containerStyle={reparentableContainerStyle}>\n        <Component {...(otherProps as P)} ref={innerRef} style={calculatedStyle} />\n      </Reparentable>\n    );\n  }),\n) as <P extends DefaultComponentProps>(\n  props: ElementMoverProps<P>,\n  ref: React.Ref<HTMLElement>,\n) => React.ReactElement;\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport { usePlateStoreContext } from '../../context';\nimport { ElementMover } from 'src/App/components/ElementMover';\n\nexport const PlateMover = observer(\n  React.forwardRef(function PlateMover<P extends Object>(props: P, ref: React.Ref<HTMLElement>) {\n    const plateStore = usePlateStoreContext();\n    const {\n      Component,\n      anchor,\n      translate,\n      bounded,\n      duration,\n      withAnimation,\n      easing,\n      calculationHelper,\n      onMoving,\n      onMovingEnd,\n      componentProps,\n    } = plateStore.elementMoverProps;\n\n    return (\n      <ElementMover\n        {...componentProps}\n        ref={ref}\n        Component={Component}\n        // @ts-ignore\n        anchor={anchor}\n        translate={translate}\n        bounded={bounded}\n        duration={duration}\n        withAnimation={withAnimation}\n        easing={easing}\n        calculationHelper={calculationHelper}\n        onMoving={onMoving}\n        onMovingEnd={onMovingEnd}\n      />\n    );\n  }),\n);\n","export const minOffset = { x: 10, y: 10 };\n","import React from 'react';\nimport { DraggableEvent } from 'react-draggable';\nimport { Point } from 'src/App/types';\n\nexport const isMouseEvent = (\n  event: DraggableEvent,\n): event is React.MouseEvent<HTMLElement | SVGElement> | MouseEvent =>\n  ['mousedown', 'mousemove', 'mouseup'].includes(event.type);\n\nexport const getPointByDraggableEvent = (event: DraggableEvent): Point => {\n  if (isMouseEvent(event)) {\n    const mouseEvent = event;\n    return { x: mouseEvent.pageX, y: mouseEvent.pageY };\n  }\n\n  const touchEvent = event;\n  return { x: touchEvent.changedTouches[0].pageX, y: touchEvent.changedTouches[0].pageY };\n};\n","import { makeAutoObservable } from 'mobx';\nimport { DraggableEvent } from 'react-draggable';\nimport { Nullable } from 'src/App/types';\nimport { minOffset } from '../../constants';\nimport { getPointByDraggableEvent } from '../../helpers';\nimport { DraggableData, DragType } from '../../types';\nimport { Options, Callbacks, EventType, EventListener } from './types';\n\nexport class EventManager {\n  private callbacks: Callbacks = {};\n\n  private element: HTMLElement;\n\n  private elementCaptured = false;\n\n  private startEvent: Nullable<DraggableEvent> = null;\n\n  private prevMoveEvent: Nullable<DraggableEvent> = null;\n\n  private moveEvent: Nullable<DraggableEvent> = null;\n\n  type: Nullable<DragType> = null;\n\n  private get draggableData(): Nullable<DraggableData> {\n    if (!this.startEvent) return null;\n\n    const startPoint = getPointByDraggableEvent(this.startEvent);\n    const prevMovePoint = this.prevMoveEvent\n      ? getPointByDraggableEvent(this.prevMoveEvent)\n      : startPoint;\n    const movePoint = this.moveEvent ? getPointByDraggableEvent(this.moveEvent) : startPoint;\n\n    return {\n      type: this.type,\n      element: this.element,\n      point: movePoint,\n      deltaPoint: {\n        x: movePoint.x - prevMovePoint.x,\n        y: movePoint.y - prevMovePoint.y,\n      },\n      offsetPoint: {\n        x: movePoint.x - startPoint.x,\n        y: movePoint.y - startPoint.y,\n      },\n    };\n  }\n\n  private get deviceIsTouch() {\n    return document.body.classList.contains('touch');\n  }\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.element = options.element;\n    this.callbacks = options;\n\n    this.initListeners();\n  }\n\n  private initListeners() {\n    EventManager.addListener('mousedown', this.handleMouseDown);\n    EventManager.addListener('mousemove', this.handleMouseMove);\n    EventManager.addListener('mouseup', this.handleMouseUp);\n    EventManager.addListener('touchstart', this.handleTouchStart);\n    EventManager.addListener('touchmove', this.handleTouchMove);\n    EventManager.addListener('touchend', this.handleTouchEnd);\n  }\n\n  private static addListener(eventType: EventType, listener: EventListener) {\n    document.addEventListener(eventType, listener);\n  }\n\n  private static removeListener(eventType: EventType, listener: EventListener) {\n    document.removeEventListener(eventType, listener);\n  }\n\n  private isOffsetSmall() {\n    if (!this.startEvent || !this.moveEvent) {\n      return true;\n    }\n\n    const mouseDownPoint = getPointByDraggableEvent(this.startEvent);\n    const mouseMovePoint = getPointByDraggableEvent(this.moveEvent);\n    const diffX = Math.abs(mouseDownPoint.x - mouseMovePoint.x);\n    const diffY = Math.abs(mouseDownPoint.y - mouseMovePoint.y);\n    const result = diffX < minOffset.x && diffY < minOffset.y;\n    return result;\n  }\n\n  private setMoveEvent(event: Nullable<DraggableEvent>) {\n    this.prevMoveEvent = this.moveEvent;\n    this.moveEvent = event;\n  }\n\n  private clearSavedEvents() {\n    this.startEvent = null;\n    this.prevMoveEvent = null;\n    this.moveEvent = null;\n  }\n\n  private handleMouseDown(event: DraggableEvent) {\n    if (this.deviceIsTouch) return;\n\n    if (!(event.target instanceof Node && this.element.contains(event.target))) {\n      return;\n    }\n\n    if (this.type !== null) {\n      this.type = null;\n      this.elementCaptured = false;\n      this.callbacks.onFinishDrag?.(event, this.draggableData!);\n      this.clearSavedEvents();\n      return;\n    }\n\n    if (this.type === null) {\n      this.type = 'drag-and-drop';\n      this.startEvent = event;\n      this.elementCaptured = true;\n      this.callbacks.onStartDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleMouseMove(event: DraggableEvent) {\n    if (this.deviceIsTouch) return;\n\n    if (this.elementCaptured) {\n      this.setMoveEvent(event);\n      this.callbacks.onMoveDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleMouseUp(event: DraggableEvent) {\n    if (this.deviceIsTouch) return;\n\n    if (!this.elementCaptured) {\n      return;\n    }\n\n    if (this.isOffsetSmall()) {\n      this.type = 'click-and-click';\n    } else {\n      this.type = null;\n      this.elementCaptured = false;\n      this.callbacks.onFinishDrag?.(event, this.draggableData!);\n      this.clearSavedEvents();\n    }\n  }\n\n  private handleTouchStart(event: DraggableEvent) {\n    if (event.target instanceof Node && this.element.contains(event.target)) {\n      this.startEvent = event;\n      this.type = 'drag-and-drop';\n      this.elementCaptured = true;\n      this.callbacks.onStartDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleTouchMove(event: DraggableEvent) {\n    if (this.elementCaptured) {\n      this.setMoveEvent(event);\n      this.callbacks.onMoveDrag?.(event, this.draggableData!);\n    }\n  }\n\n  private handleTouchEnd(event: DraggableEvent) {\n    if (this.elementCaptured) {\n      this.elementCaptured = false;\n      this.callbacks.onFinishDrag?.(event, this.draggableData!);\n      this.type = null;\n      this.clearSavedEvents();\n    }\n  }\n\n  updateElement(element: HTMLElement) {\n    this.element = element;\n  }\n\n  clear() {\n    EventManager.removeListener('mousedown', this.handleMouseDown);\n    EventManager.removeListener('mousemove', this.handleMouseMove);\n    EventManager.removeListener('mouseup', this.handleMouseUp);\n    EventManager.removeListener('touchstart', this.handleTouchStart);\n    EventManager.removeListener('touchmove', this.handleTouchMove);\n    EventManager.removeListener('touchend', this.handleTouchEnd);\n  }\n}\n","import { omit } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { DraggableEvent } from 'react-draggable';\nimport { Nullable } from 'src/App/types';\nimport { DraggableData, DraggableProps } from '../../types';\nimport { EventManager } from '../EventManager';\nimport { Params } from './types';\n\nexport class DraggableStore<P> {\n  private props!: DraggableProps<P>;\n\n  private element: Nullable<HTMLElement> = null;\n\n  private eventManager: Nullable<EventManager> = null;\n\n  get draggableProps() {\n    return {\n      ...omit(this.props, ['Component', 'onStartDrag', 'onMoveDrag', 'onFinishDrag']),\n    };\n  }\n\n  constructor(params: Params<P>) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.setProps(params.props);\n  }\n\n  private handleStartDrag(event: DraggableEvent, data: DraggableData) {\n    this.props.onStartDrag?.(event, data);\n  }\n\n  private handleMoveDrag(event: DraggableEvent, data: DraggableData) {\n    this.props.onMoveDrag?.(event, data);\n  }\n\n  private handleFinishDrag(event: DraggableEvent, data: DraggableData) {\n    this.props.onFinishDrag?.(event, data);\n  }\n\n  setElement(element: HTMLElement) {\n    this.element = element;\n\n    if (this.eventManager) {\n      this.eventManager.updateElement(element);\n    } else {\n      this.eventManager = new EventManager({\n        element,\n        onStartDrag: this.handleStartDrag,\n        onMoveDrag: this.handleMoveDrag,\n        onFinishDrag: this.handleFinishDrag,\n      });\n    }\n  }\n\n  setProps(props: DraggableProps<P>) {\n    this.props = props;\n  }\n\n  clear() {\n    this.eventManager?.clear();\n  }\n}\n","import React from 'react';\nimport { observer, useLocalObservable } from 'mobx-react';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { DraggableStore } from './store/DraggableStore';\nimport { DraggableProps } from './types';\n\nexport const Draggable = observer(\n  React.forwardRef(function Draggable<P extends Object>(\n    props: DraggableProps<P>,\n    ref: React.Ref<HTMLElement>,\n  ) {\n    const innerRef = useCombinedRefs(ref);\n    const draggableStore = useLocalObservable(() => new DraggableStore({ props, element: null }));\n    const { Component } = props;\n\n    const setRef = React.useCallback(\n      (element: HTMLElement | null) => {\n        if (element) {\n          innerRef.current = element;\n          draggableStore.setElement(innerRef.current);\n        }\n      },\n      [draggableStore, innerRef],\n    );\n\n    React.useEffect(() => draggableStore.setProps(props), [draggableStore, props]);\n\n    React.useEffect(() => () => draggableStore.clear(), [draggableStore]);\n\n    return (\n      <Component\n        // eslint-disable-next-line react/jsx-props-no-spreading\n        {...((draggableStore.draggableProps as any) as P)}\n        ref={setRef}\n      />\n    );\n  }),\n);\n","import React from 'react';\nimport { observer, useLocalObservable } from 'mobx-react';\nimport { useDraggerStoreContext } from '../../context';\nimport { DefaultPlateComponentProps, PlateProps } from './types';\nimport { PlateStore } from './store/PlateStore';\nimport { PlateStoreContext } from './context';\nimport { PlateMover } from './binders/PlateMover';\nimport { Draggable } from 'src/App/components/Draggable';\nimport { omit } from 'lodash';\n\nexport const Plate = observer(function Plate<P extends DefaultPlateComponentProps>(\n  props: PlateProps<P>,\n) {\n  const ref = React.useRef<HTMLElement | null>(null);\n  const dragger = useDraggerStoreContext();\n  const plateStore = useLocalObservable(\n    () => new PlateStore<P>({ props, dragger, element: null }),\n  );\n\n  const { onStartDrag, onMoveDrag, onFinishDrag } = plateStore.draggableProps;\n  const { Component, anchor, componentProps } = plateStore.elementMoverProps;\n  const plateModel = plateStore.model;\n\n  const setRef = React.useCallback(\n    (elem: HTMLElement | null) => {\n      if (elem !== null) {\n        plateStore.setElement(elem);\n        ref.current = elem;\n      }\n    },\n    [plateStore],\n  );\n\n  React.useEffect(() => plateStore.setElement(ref.current!), [plateModel, plateStore]);\n\n  React.useEffect(() => plateStore.setProps(props), [plateStore, props]);\n\n  return (\n    <PlateStoreContext.Provider value={plateStore}>\n      {anchor ? (\n        <Draggable\n          ref={setRef}\n          Component={PlateMover}\n          onStartDrag={onStartDrag}\n          onMoveDrag={onMoveDrag}\n          onFinishDrag={onFinishDrag}\n        />\n      ) : (\n        <Component {...((omit(componentProps, 'disabled', 'bounded', 'withAnimation', 'calculationHelper', 'onMoving', 'onMovingEnd', 'componentProps') as any) as P)} ref={ref} />\n      )}\n    </PlateStoreContext.Provider>\n  );\n});\n","import EventEmitterBase from 'events';\nimport { EventTypeMap } from './types';\n\nexport class EventEmitter<T extends EventTypeMap> {\n  private events: EventEmitterBase;\n\n  constructor() {\n    this.events = new EventEmitterBase();\n  }\n\n  on<E extends keyof T>(eventType: E, handler: T[E]) {\n    this.events.on(eventType as string | symbol, handler);\n  }\n\n  once<E extends keyof T>(eventType: E, handler: T[E]) {\n    this.events.once(eventType as string | symbol, handler);\n  }\n\n  off<E extends keyof T>(eventType: E, handler: T[E]) {\n    this.events.off(eventType as string | symbol, handler);\n  }\n\n  removeAllListeners<E extends keyof T>(eventType?: E) {\n    this.events.removeAllListeners(eventType as string | symbol | undefined);\n  }\n\n  emit<E extends keyof T>(eventType: E, ...args: Parameters<T[E]>) {\n    this.events.emit(eventType as string | symbol, ...args);\n  }\n\n  setMaxListeners(numberOfListeners: number) {\n    this.events.setMaxListeners(numberOfListeners);\n  }\n}\n","import { colors } from 'src/App/components/Cube/constants';\nimport { EventType } from './types';\n\nexport const eventNames: { [eventName in EventType]: eventName } = {\n  'mousedown': 'mousedown',\n  'mouseenter': 'mouseenter',\n  'mouseup': 'mouseup',\n  'intersectionIn': 'intersectionIn',\n  'intersectionOut': 'intersectionOut',\n  'startDrag': 'startDrag',\n  'finishDrag': 'finishDrag',\n};\n\nexport const defaultColor = colors['#0ABA9A'];\n","import { makeAutoObservable } from 'mobx';\nimport EventEmitter from 'events';\nimport Q from 'q';\nimport { EventType, EventTypeMap, Options } from './types';\nimport { Nullable } from 'src/App/types';\nimport { ShowingEndHandler } from 'src/App/components/Fade/types';\n\nexport class Fade {\n  duration: number;\n\n  shown: boolean;\n\n  shownAnimating = false;\n\n  onShowingEnd!: Nullable<ShowingEndHandler>;\n\n  private deferred: Nullable<Q.Deferred<void>> = null;\n\n  private events: EventEmitter;\n\n  constructor(options?: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n\n    this.events = new EventEmitter();\n    this.shown = options?.shown ?? true;\n    this.duration = options?.duration ?? 500;\n    this.setShowingEndHandler(options?.onShowingEnd ?? null);\n  }\n\n  on<T extends EventType>(eventType: T, handler: EventTypeMap[T]) {\n    this.events.on(eventType, handler);\n  }\n\n  once<T extends EventType>(eventType: T, handler: EventTypeMap[T]) {\n    this.events.on(eventType, handler);\n  }\n\n  off<T extends EventType>(eventType: T, handler: EventTypeMap[T]) {\n    this.events.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends EventType>(eventType?: T) {\n    this.events.removeAllListeners(eventType);\n  }\n\n  setShowingEndHandler(showingEndHandler: Nullable<ShowingEndHandler>) {\n    this.onShowingEnd = showingEndHandler;\n  }\n\n  startShownAnimating() {\n    this.shownAnimating = true;\n  }\n\n  finishShownAnimating() {\n    this.shownAnimating = false;\n    this.deferred?.resolve();\n    this.deferred = null;\n    this.onShowingEnd?.(this.shown);\n    this.events.emit('showing-end', this.shown);\n  }\n\n  startShowing() {\n    if (this.shown) {\n      this.onShowingEnd?.(this.shown);\n      return;\n    }\n\n    this.shown = true;\n    this.startShownAnimating();\n    this.deferred = Q.defer();\n\n    if (this.duration === 0) this.finishShownAnimating();\n  }\n\n  startHiding() {\n    if (!this.shown) {\n      this.onShowingEnd?.(this.shown);\n      return;\n    }\n\n    this.shown = false;\n    this.startShownAnimating();\n    this.deferred = Q.defer();\n\n    if (this.duration === 0) this.finishShownAnimating();\n  }\n\n  setShown(value: boolean) {\n    if (value) {\n      this.startShowing();\n    } else {\n      this.startHiding();\n    }\n  }\n\n  async show() {\n    if (this.shown) return;\n\n    this.startShowing();\n\n    await this.deferred?.promise;\n  }\n\n  async hide() {\n    if (!this.shown) return;\n\n    this.startHiding();\n\n    await this.deferred?.promise;\n  }\n\n  setDuration(value: number) {\n    this.duration = value;\n  }\n\n  showInstantly() {\n    const prevDuration = this.duration;\n    this.setDuration(0);\n    this.show();\n    Promise.resolve().then(() => this.setDuration(prevDuration));\n  }\n\n  hideInstantly() {\n    const prevDuration = this.duration;\n    this.setDuration(0);\n    this.hide();\n    Promise.resolve().then(() => this.setDuration(prevDuration));\n  }\n\n  async waitShowing() {\n    await this.deferred?.promise;\n  }\n}","import { makeAutoObservable } from 'mobx';\nimport { uniqueId } from 'lodash';\nimport { DraggableEvent } from 'react-draggable';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Nullable } from 'src/App/types';\nimport { IntersectionParams } from 'src/App/components/Dragger/components/Plate/types';\nimport { defaultColor, eventNames } from './constants';\nimport { EventTypeMap, Options } from './types';\nimport { DraggableData } from 'src/App/components/Draggable/types';\nimport { Fade } from 'src/App/shared/Fade';\n\nexport class Cube {\n  fade = new Fade();\n  \n  private eventEmitter = new EventEmitter<EventTypeMap>();\n\n  private _uid = uniqueId();\n  \n  private _letter: string;\n\n  private _color: string;\n\n  private _hovered = false;\n\n  private _selected = false;\n\n  private _disabled = false;\n\n  private _dragListening = false;\n\n  private _element: Nullable<HTMLElement> = null;\n  \n  private _slotId: string | number;\n\n  private _intersectedSlotId: Nullable<string | number> = null;\n\n  private _group: string | number;\n\n  constructor(options: Options) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this._letter = options.letter;\n    this._color = options.color ?? defaultColor;\n    this._slotId = options.slotId;\n    this._group = options.group ?? uniqueId();\n\n  }\n\n  get uid() {\n    return this._uid;\n  }\n\n  get group() {\n    return this._group;\n  }\n  \n  get letter() {\n    return this._letter;\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  get hovered() {\n    return this._hovered;\n  }\n\n  get slotId() {\n    return this._slotId;\n  }\n\n  get selected() {\n    return this._selected;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  get intersectedSlotId() {\n    return this._intersectedSlotId;\n  }\n\n  get dragListening() {\n    return this._dragListening;\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n  \n  loadElement(element: HTMLElement) {\n    this._element = element;\n  }\n\n  setHovered(hovered: boolean) {\n    this._hovered = hovered;\n  }\n\n  setSlotId(slotId: string | number) {\n    this._slotId = slotId;\n  }\n\n  setSelected(selected: boolean) {\n    this._selected = selected;\n  }\n\n  setDisabled(disabled: boolean) {\n    this._disabled = disabled;\n  }\n\n  setGroup(group: string | number) {\n    this._group = group;\n  }\n\n  setIntersectedSlotId(intersectedSlotId: Nullable<string | number>) {\n    this._intersectedSlotId = intersectedSlotId;\n  }\n\n  setDragListening(dragListening: boolean) {\n    this._dragListening = dragListening;\n  }\n\n  handleMouseDown() {\n    this.eventEmitter.emit(eventNames.mousedown);\n  }\n\n  handleMouseEnter() {\n    this.eventEmitter.emit(eventNames.mouseenter);\n  }\n\n  handleMouseUp() {\n    this.eventEmitter.emit(eventNames.mouseup);\n  }\n  \n  handleIntersectionIn(data: IntersectionParams) {\n    this.eventEmitter.emit(eventNames.intersectionIn, data);\n  }\n\n  handleIntersectionOut(data: IntersectionParams) {\n    this.eventEmitter.emit(eventNames.intersectionOut, data);\n  }\n\n  handleStartDrag(event: DraggableEvent, data: DraggableData) {\n    this.eventEmitter.emit(eventNames.startDrag, event, data);\n  }\n\n  handleFinishDrag(event: DraggableEvent, data: DraggableData) {\n    this.eventEmitter.emit(eventNames.finishDrag, event, data);\n  }\n}\n","import { uniqueId } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { Nullable, Point } from 'src/App/types';\n\nexport class Cell {\n  private _uid = uniqueId();\n  \n  private _point: Point;\n  \n  private _hovered = false;\n\n  private _element: Nullable<HTMLElement> = null;\n\n  private _cubeId: Nullable<string | number> = null;\n\n  constructor(options: { point: Point }) {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this._point = options.point;\n  }\n\n  get uid() {\n    return this._uid;\n  }\n\n  get element() {\n    return this._element;\n  }\n\n  get hovered() {\n    return this._hovered;\n  }\n\n  get point() {\n    return this._point;\n  }\n\n  get cubeId() {\n    return this._cubeId;\n  }\n\n  loadElement(element: HTMLElement) {\n    this._element = element;\n  }\n\n  setHovered(hovered: boolean) {\n    this._hovered = hovered\n  }\n\n  setCubeId(cubeId: Nullable<string | number>) {\n    this._cubeId = cubeId;\n  }\n}\n","import { EventType } from './types';\n\nexport const defaultCellsCount = 100;\n\nexport const eventNames: Record<EventType, EventType> = {\n  'mouseup': 'mouseup',\n};\n","import { range } from 'lodash';\nimport { makeAutoObservable } from 'mobx';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Cell } from '../Cell';\nimport { defaultCellsCount, eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class Field {\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n  \n  private _cells = range(defaultCellsCount).map((i) => {\n    const fieldSideLength = Math.sqrt(defaultCellsCount);\n\n    return new Cell({\n      point: { x: i % fieldSideLength, y: Math.floor(i / fieldSideLength) },\n    });\n  })\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n  }\n\n  get cells() {\n    return this._cells;\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  handleMouseUp() {\n    this.eventEmitter.emit(eventNames.mouseup);\n  }\n}\n","import { EventType } from './types';\n\nexport const eventNames: Record<EventType, EventType> = {\n  'selectedCubesUpdated': 'selectedCubesUpdated',\n  'selectionEnd': 'selectionEnd',\n};\n","import { compact, last } from 'lodash';\nimport { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Nullable } from 'src/App/types';\nimport { Cell } from '../Cell';\nimport { Cube } from '../Cube';\nimport { eventNames as cubeEventNames } from '../Cube/constants';\nimport { Field } from '../Field';\nimport { eventNames as fieldEventNames } from '../Field/constants';\nimport { eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class SelectorHelper {\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n\n  private field: Nullable<Field> = null;\n  \n  private cubes: Cube[] = [];\n\n  private _selectedCubes: Cube[] = [];\n\n  get selectedCubes() {\n    return this._selectedCubes;\n  }\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  startListening(options: {\n    cubes: Cube[];\n    field: Field;\n  }) {\n    this.stopListening();\n    this.cubes = options.cubes;\n    this.field = options.field;\n    this.startCubeMouseDownListeners();\n  }\n\n  stopListening() {\n    this.stopCubeMouseDownListeners();\n    this.stopCubeMouseEnterListeners();\n    this.stopFieldMouseUpListener();\n  }\n\n  private startCubeMouseDownListeners() {\n    this.cubes.forEach((cube) => {\n      cube.on(cubeEventNames.mousedown, () => {\n        this.setSelectedCubes([cube]);\n        this.stopCubeMouseDownListeners();\n        this.startCubeMouseEnterListeners();\n        this.startFieldMouseUpListener();\n      });\n    });\n  }\n\n  private stopCubeMouseDownListeners() {\n    this.cubes.forEach((cube) => cube.removeAllListeners(cubeEventNames.mousedown));\n  }\n\n  private startFieldMouseUpListener() {\n    if (this.field) {\n      this.cubes.forEach((cube) => {\n        cube.on(cubeEventNames.mouseup, () => {\n          this.stopCubeMouseEnterListeners();\n          this.stopFieldMouseUpListener();\n          this.startCubeMouseDownListeners();\n          this.eventEmitter.emit(eventNames.selectionEnd, { selectedCubes: this.selectedCubes });\n        });\n      });\n      \n      this.field.on(fieldEventNames.mouseup, () => {\n        this.stopCubeMouseEnterListeners();\n        this.stopFieldMouseUpListener();\n        this.startCubeMouseDownListeners();\n        this.eventEmitter.emit(eventNames.selectionEnd, { selectedCubes: this.selectedCubes });\n      });\n    }\n  }\n\n  private stopFieldMouseUpListener() {\n    if (this.field) {\n      this.cubes.forEach((cube) => cube.removeAllListeners(cubeEventNames.mouseup));\n      this.field.removeAllListeners(fieldEventNames.mouseup);\n    }\n  }\n\n  private startCubeMouseEnterListeners() {\n    this.cubes.forEach((cube) => {\n      cube.on(cubeEventNames.mouseenter, () => {\n        const currentCell = this.field!.cells.find((cell) => cell.uid === cube.slotId)!;\n        const prevCube = this.selectedCubes.slice(-2)[0];\n        const lastCube = last(this.selectedCubes)!;\n        const prevCell = this.field!.cells.find((_cell) => _cell.uid === prevCube?.slotId)\n        const lastCell = this.field!.cells.find((_cell) => _cell.uid === lastCube.slotId)!;\n        const neighborCells = this.getNeighborCells(lastCell);\n        const nextNeighborCell = neighborCells.find((cell) => cell === currentCell);\n        const selectedCells = compact(this.selectedCubes.map((cube) => this.field!.cells.find((cell) => cell.cubeId === cube.uid)));\n\n        if (!nextNeighborCell) return;\n\n        if (nextNeighborCell === prevCell) {\n          this.setSelectedCubes(this.selectedCubes.filter((cube) => cube !== lastCube));\n        } else if (!selectedCells.includes(nextNeighborCell)) {\n          this.setSelectedCubes([...this.selectedCubes, cube]);\n        } else if (selectedCells.includes(nextNeighborCell)) {\n          const nextNeighborCellIndex = selectedCells.indexOf(nextNeighborCell);\n          this.setSelectedCubes(this.selectedCubes.slice(0, nextNeighborCellIndex + 1));\n        }\n      });\n    });\n  }\n\n  private stopCubeMouseEnterListeners() {\n    this.cubes.forEach((cube) => {\n      cube.removeAllListeners(cubeEventNames.mouseenter);\n    });\n  }\n\n  private getNeighborCells(cell: Cell) {\n    return this.field!.cells.filter((_cell) =>\n      (_cell.point.x === cell.point.x - 1 && _cell.point.y === cell.point.y) ||\n      (_cell.point.x === cell.point.x && _cell.point.y === cell.point.y - 1) ||\n      (_cell.point.x === cell.point.x + 1 && _cell.point.y === cell.point.y) ||\n      (_cell.point.x === cell.point.x && _cell.point.y === cell.point.y + 1)\n    );\n  }\n\n  private setSelectedCubes(cubes: Cube[]) {\n    this._selectedCubes = cubes;\n    this.eventEmitter.emit(eventNames.selectedCubesUpdated, {\n      selectedCubes: this.selectedCubes,\n    });\n  }\n}\n","import { EventType } from './types';\n\nexport const eventNames: Record<EventType, EventType> = {\n  'tick': 'tick',\n};\n","import { EventEmitter } from 'src/App/shared/EventEmitter';\nimport { Nullable } from 'src/App/types';\nimport { eventNames } from './constants';\nimport { EventTypeMap } from './types';\n\nexport class Timer {\n  private eventEmitter = new EventEmitter<EventTypeMap>();\n\n  private intervalId: Nullable<number> = null;\n\n  on<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  once<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.on(eventType, handler);\n  }\n\n  off<T extends keyof EventTypeMap>(eventType: T, handler: EventTypeMap[T]) {\n    this.eventEmitter.off(eventType, handler);\n  }\n\n  removeAllListeners<T extends keyof EventTypeMap>(eventType?: T) {\n    this.eventEmitter.removeAllListeners(eventType);\n  }\n\n  start(ms: number) {\n    this.stop();\n    let value = 0;\n    this.intervalId = window.setInterval(() => {\n      value += ms;\n      this.eventEmitter.emit(eventNames.tick, { value });\n    }, ms);\n  }\n\n  stop() {\n    if (this.intervalId) {\n      window.clearInterval(this.intervalId);\n    }\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { chunk, compact, difference, flatten, range, sample, uniq, uniqueId } from 'lodash';\nimport { Cube } from 'src/App/store/Cube';\nimport { Field } from 'src/App/store/Field';\nimport { letterScoreDistributions } from 'src/App/store/ProgressController/constants';\nimport { eventNames as cubeEventNames } from 'src/App/store/Cube/constants';\nimport { SelectorHelper } from 'src/App/store/SelectorHelper';\nimport { eventNames as selectorHelperEventNames } from 'src/App/store/SelectorHelper/constants';\nimport { ProgressController } from 'src/App/store/ProgressController';\nimport { russianWords } from 'src/App/constants';\nimport { colors } from 'src/App/components/Cube/constants';\nimport { Timer } from 'src/App/store/Timer';\nimport { eventNames as timerEventNames } from 'src/App/store/Timer/constants';\n\nexport class GamePageStore {\n  progressController = new ProgressController();\n\n  time = 0;\n\n  private _tapeSlots = range(20).map(() => ({\n    uid: uniqueId(),\n  }));\n\n  private _cubes: Cube[] = flatten([\n    this.generateFigureCubes(0),\n    this.generateFigureCubes(1),\n    this.generateFigureCubes(2),\n    this.generateFigureCubes(3),\n  ]);\n\n  private _field = new Field();\n\n  private selectorHelper = new SelectorHelper();\n\n  private timer = new Timer();\n\n  constructor() {\n    makeAutoObservable(this, {}, { autoBind: true });\n    this._cubes.forEach((cube) => this.startDragListeners(cube));\n    this.selectorHelper.on(\n      selectorHelperEventNames.selectedCubesUpdated,\n      ({ selectedCubes }) => {\n        this._cubes.forEach((cube) => cube.setSelected(false));\n        selectedCubes.forEach((cube) => cube.setSelected(true));\n        this.timer.stop();\n        this.setTime(0);\n      },\n    );\n    this.selectorHelper.on(selectorHelperEventNames.selectionEnd, ({ selectedCubes }) => {\n      const word = selectedCubes.map((cube) => cube.letter).join('').toLowerCase();\n      const found = russianWords.find((w) => w === word);\n      this.timer.start(1000);\n\n      if (found) {\n        this.progressController.collectWord(word);\n        Promise.all(selectedCubes.map((cube) => cube.fade.hide())).then(() => {\n          const selectedCells = compact(selectedCubes.map((cube) => this.field.cells.find((cell) => cell.uid === cube.slotId)));\n          selectedCells.forEach((cell) => cell.setCubeId(null));\n          this.setCubes(difference(this._cubes, selectedCubes));\n        });\n      } else {\n        selectedCubes.forEach((cube) => cube.setSelected(false));\n      }\n    });\n    this.timer.on(timerEventNames.tick, ({ value }) => {\n      this.setTime(value);\n\n      if (value === 20000) {\n        this.timer.stop();\n        this.setTime(0);\n\n        const draggableCubes = this._cubes.filter((cube) => cube.dragListening);\n        Promise.all(draggableCubes.map(async (cube) => {\n          cube.setDragListening(false);\n          await cube.fade.hide();\n        })).then(() => {\n          const newCubes = [\n            ...this.generateFigureCubes(0),\n            ...this.generateFigureCubes(1),\n            ...this.generateFigureCubes(2),\n            ...this.generateFigureCubes(3),\n          ];\n          newCubes.forEach((cube) => cube.fade.hideInstantly());\n          this.setCubes(difference(this._cubes, draggableCubes));\n          this.setCubes([...this._cubes, ...newCubes]);\n\n          Promise.all(newCubes.map((cube) => {\n            return cube.fade.show().then(() => {\n              cube.setDragListening(true);\n              this.startDragListeners(cube);\n            });\n          })).then(() => {\n            this.timer.start(1000);\n          });\n        });\n      }\n    });\n    this.timer.start(1000);\n    console.log(this);\n  }\n\n  get tapeSlots() {\n    return this._tapeSlots;\n  }\n\n  get field() {\n    return this._field;\n  }\n\n  get cubes() {\n    return this._cubes;\n  }\n\n  private getTapeSlotChunkIndexByTapeSlotUid(tapeSlotUid: string | number ) {\n    return chunk(this.tapeSlots, 5).findIndex((chunk) => chunk.find((tapeSlot) => tapeSlot.uid === tapeSlotUid));\n  }\n\n  private generateFigureCubes(targetTapeSlotChunkIndex: number) {\n    const type = sample([1, 2, 3]);\n    const length = type === 1 ? 1 : 2;\n    const lettersData = range(length).map(() => sample(letterScoreDistributions.rus)!);\n    const targetTapeSlotChunk = chunk(this.tapeSlots, 5)[targetTapeSlotChunkIndex];\n    const figureGroup = uniqueId();\n\n    let targetTapeSlots = [targetTapeSlotChunk[0]];\n    if (type === 2) targetTapeSlots = [targetTapeSlotChunk[1], targetTapeSlotChunk[2]];\n    if (type === 3) targetTapeSlots = [targetTapeSlotChunk[3], targetTapeSlotChunk[4]];\n\n    const cubes = lettersData.map((letterData, i) => {\n      let color = colors['#FF7B1C'];\n\n      if (letterData.score === 2) color = colors['#545AEF'];\n      if (letterData.score === 3) color = colors['#0ABA9A'];\n      if (letterData.score === 4) color = colors['#FFDC27'];\n      if (letterData.score === 5) color = colors['#A258FF'];\n      if (letterData.score === 8) color = colors['#18C2E8'];\n      if (letterData.score === 10) color = colors['#D73A8F'];\n      \n      return new Cube({\n        letter: letterData.letter.toUpperCase(),\n        slotId:\n        targetTapeSlots[i].uid,\n        group: figureGroup,\n        color,\n      });\n    });\n\n    return cubes;\n  }\n\n  private startDragListeners(cube: Cube) {\n    const groupCubes = this._cubes.filter((_cube) => _cube.group === cube.group);\n    cube.setDragListening(true);\n\n    cube.on(cubeEventNames.startDrag, () => {\n      this.timer.stop();\n      this.setTime(0);\n    });\n    \n    cube.on(cubeEventNames.intersectionIn, (data) => {\n      cube.setIntersectedSlotId(data.slotId);\n      const intersectedEmptyCells = uniq(compact(groupCubes.map((cube) => this.field.cells.find((cell) => cell.uid === cube.intersectedSlotId && cell.cubeId === null))));\n\n      if (intersectedEmptyCells.length === groupCubes.length) {\n        intersectedEmptyCells.forEach((cell) => cell.setHovered(true));\n      } else {\n        intersectedEmptyCells.forEach((cell) => cell.setHovered(false));\n      }\n    });\n\n    cube.on(cubeEventNames.intersectionOut, () => {\n      groupCubes.forEach((cube) => {\n        const intersectedCell = this.field.cells.find((cell) => cell.uid === cube.intersectedSlotId);\n        intersectedCell?.setHovered(false);\n      });\n      cube.setIntersectedSlotId(null);\n    });\n\n    cube.on(cubeEventNames.finishDrag, () => {\n      this.timer.start(1000);\n      \n      const intersectedCells = uniq(compact(groupCubes.map((cube) => {\n        const cell = this.field.cells.find((cell) => cell.uid === cube.intersectedSlotId);\n        return cell;\n      })));\n      const allIntersectedCellsAreEmpty = intersectedCells.every((cell) => cell.cubeId === null);\n\n      if (intersectedCells.length === groupCubes.length && allIntersectedCellsAreEmpty) {\n        const tapeSlotChunkIndex = this.getTapeSlotChunkIndexByTapeSlotUid(cube.slotId);\n\n        groupCubes.forEach((cube, i) => {\n          intersectedCells[i]?.setCubeId(cube.uid);\n          intersectedCells[i]?.setHovered(false);\n          cube.setSlotId(cube.intersectedSlotId!);\n          cube.setIntersectedSlotId(null);\n          this.stopDragListeners(cube);\n        });\n\n        this.selectorHelper.startListening({\n          cubes: this._cubes.filter((cube) => !cube.dragListening),\n          field: this._field,\n        });\n\n        const newCubes = this.generateFigureCubes(tapeSlotChunkIndex);\n        newCubes.forEach((cube) => cube.fade.hideInstantly());\n        this._cubes = [...this._cubes, ...newCubes];\n        newCubes.forEach((newCube) => this.startDragListeners(newCube));\n        Promise.resolve().then(() => newCubes.forEach((cube) => cube.fade.show()));\n      } else {\n        groupCubes.forEach((cube, i) => {\n          intersectedCells[i]?.setCubeId(null);\n          cube.setIntersectedSlotId(null);\n        });\n      }\n    });\n  }\n\n  private stopDragListeners(cube: Cube) {\n    cube.setDragListening(false);\n    cube.removeAllListeners(cubeEventNames.intersectionIn);\n    cube.removeAllListeners(cubeEventNames.intersectionOut);\n    cube.removeAllListeners(cubeEventNames.finishDrag);\n  }\n\n  private setCubes(cubes: Cube[]) {\n    this._cubes = cubes;\n  }\n\n  private setTime(time: number) {\n    this.time = time;\n  }\n}\n","import React from 'react';\nimport { Transition } from 'react-transition-group';\nimport { reflowElement } from 'src/App/shared/helpers/reflowElement';\nimport { useCombinedRefs } from 'src/App/shared/useCombinedRefs';\nimport { FullSizeBlock } from '../FullSizeBlock';\nimport { FadeProps } from './types';\n\nexport const Fade = React.forwardRef(function Fade(\n  props: FadeProps,\n  forwardedRef: React.Ref<HTMLDivElement>,\n) {\n  const {\n    className,\n    style,\n    shown = true,\n    duration = 500,\n    delay = 0,\n    easing = 'ease-in',\n    withUnmount = true,\n    children,\n    onShowingEnd,\n    ...otherProps\n  } = props;\n\n  const ref = useCombinedRefs(forwardedRef);\n\n  const styleMap = React.useMemo(\n    () => ({\n      entered: {\n        opacity: 1,\n      },\n      entering: {\n        transition: `opacity ${duration}ms ${delay}ms ${easing}`,\n        opacity: 1,\n      },\n      exiting: {\n        transition: `opacity ${duration}ms ${delay}ms ${easing}`,\n        opacity: 0,\n      },\n      exited: {\n        opacity: 0,\n      },\n    }),\n    [delay, duration, easing],\n  );\n\n  const handleShowingStart = React.useCallback(() => {\n    ref.current && reflowElement(ref.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleShowingEnd = React.useCallback(() => {\n    onShowingEnd?.(shown);\n  }, [onShowingEnd, shown]);\n\n  return (\n    <Transition\n      nodeRef={ref}\n      in={shown}\n      timeout={duration + delay}\n      mountOnEnter={withUnmount}\n      unmountOnExit={withUnmount}\n      onEnter={handleShowingStart}\n      onEntered={handleShowingEnd}\n      onExited={handleShowingEnd}\n    >\n      {(state) => (\n        <FullSizeBlock\n          {...otherProps}\n          ref={ref}\n          style={state !== 'unmounted' ? { ...style, ...styleMap[state] } : { ...style }}\n          className={className}\n        >\n          {children}\n        </FullSizeBlock>\n      )}\n    </Transition>\n  );\n});","/* eslint-disable @typescript-eslint/no-unused-expressions */\nexport const reflowElement = (node: HTMLElement) => {\n  node.offsetHeight;\n};\n","import React from 'react';\nimport { observer, useLocalObservable } from \"mobx-react\";\nimport { chunk } from 'lodash';\nimport cn from 'classnames';\nimport { Field } from \"../Field\";\nimport { Cell } from \"../Cell\";\nimport { Tape } from \"../Tape\";\nimport styles from \"./index.module.scss\";\nimport { ScoreCounter } from \"../ScoreCounter\";\nimport { BackButton } from \"../BackButton\";\nimport { Cube } from '../Cube';\nimport { Div } from '../Div';\nimport { Dragger } from '../Dragger';\nimport { Slot as DraggerSlot } from '../Dragger/components/Slot';\nimport { Plate as DraggerPlate } from '../Dragger/components/Plate';\nimport { GamePageStore } from './store/GamePageStore';\nimport { Fade } from '../Fade';\nimport { FullSizeBlock } from '../FullSizeBlock';\n\nexport const GamePage = observer(function GamePage() {\n  const store = useLocalObservable(() => new GamePageStore());\n  const tapeSlots = React.useMemo(() => chunk(store.tapeSlots, 5), [store.tapeSlots]);\n  const timerValue = (20000 - store.time) / 1000;\n\n  return (\n    <Dragger>\n      <div className={styles.main}>\n        <div className={styles.progressContainer}>\n          <div className={styles.scoreCounterContainer}>\n            <ScoreCounter scores={store.progressController.scores}/>\n          </div>\n        </div>\n        <div className={styles.backButtonContainer}>\n          <BackButton />\n          </div>\n        <div className={styles.fieldContainer}>\n          <Field onMouseUp={store.field.handleMouseUp}>\n            {store.field.cells.map((cell) => {\n              return <DraggerSlot key={cell.uid} id={cell.uid} Component={Cell} isHovered={cell.hovered}>\n              </DraggerSlot>;\n            })}\n          </Field>\n        </div>\n        <Tape>\n          {tapeSlots.map((tapeSlots, i) => (\n            <div key={i} className={styles.tapeSlotsWrap}>\n              {tapeSlots.map((tapeSlot, i) => (\n                <DraggerSlot\n                  key={tapeSlot.uid}\n                  id={tapeSlot.uid}\n                  Component={Div}\n                  className={cn(styles.tapeSlot, styles[`tapeSlot_position_${i + 1}`])}\n                />\n              ))}\n            </div>\n          ))}\n          <Fade shown={timerValue < 6} className={styles.timer}>{timerValue}</Fade>\n          {store.cubes.map((cube) => (\n            <DraggerPlate\n              key={cube.uid}\n              id={cube.uid}\n              disabled={!cube.dragListening}\n              slotId={cube.slotId}\n              group={cube.group}\n              Component={FullSizeBlock}\n              afterDragMovingDuration={200}\n              componentProps={{\n                className: styles.cube,\n                children: (\n                  <Fade\n                    duration={200}\n                    shown={cube.fade.shown}\n                    onShowingEnd={cube.fade.finishShownAnimating}\n                  >\n                    <Cube\n                      color={cube.color}\n                      selected={cube.selected}\n                      children={cube.letter}\n                      onMouseDown={cube.handleMouseDown}\n                      onMouseEnter={cube.handleMouseEnter}\n                      onMouseUp={cube.handleMouseUp}\n                    />\n                  </Fade>\n                ),\n              }}\n              onIntersectionIn={cube.handleIntersectionIn}\n              onIntersectionOut={cube.handleIntersectionOut}\n              onStartDrag={cube.handleStartDrag}\n              onFinishDrag={cube.handleFinishDrag}\n            />\n          ))}\n        </Tape>\n      </div>\n    </Dragger>\n  );\n});\n","import { observer } from 'mobx-react';\nimport { useAppContext } from '../../shared/useAppContext';\nimport styles from './index.module.scss';\nimport {useNavigate } from 'react-router-dom'\nimport { useCallback } from 'react';\n\nexport const StartPage = observer(function StartPage() {\n  const {\n    handleGameStartClick,\n  } = useAppContext();\n  const navigate = useNavigate();\n\n  const onClickStart = useCallback(()=>{\n    handleGameStartClick();\n    navigate('game');\n  },[handleGameStartClick, navigate])\n\n  return (\n    <div className={styles.main}>\n      <div className={styles.header}>\n        <h1>StartPage</h1>\n      </div>\n      <div className={styles.content}>\n        <div className={styles.playButton} onClick={onClickStart}>Start game</div>\n      </div>\n    </div>\n  );\n});","import { useContext } from 'react';\nimport { AppStore } from '../store';\nimport { AppContext } from '../store/context';\n\nexport const useAppContext = (): AppStore => {\n  const context = useContext(AppContext);\n  if (context === null) {\n    throw new Error('Hook must be called inside AppStore.Provider');\n  }\n  return context;\n};","import { MainProps } from './types';\nimport styles from './index.module.scss';\n\nexport function Main(props: MainProps) {\n  const { children } = props;\n\n  return (\n    <div className={styles.main}>\n      <div className={styles.content}>{children}</div>\n    </div>\n  );\n};","import { observer, useLocalObservable } from \"mobx-react\";\nimport { AppStore } from \"./store\";\nimport { AppContext } from \"./store/context\";\nimport { GamePage } from \"./components/GamePage\";\nimport { StartPage } from \"./components/StartPage\";\nimport \"./index.scss\";\nimport \"./shared/styles/index.scss\";\nimport { Route, Routes, BrowserRouter, Navigate } from \"react-router-dom\";\nimport { Main } from \"./components/Main\";\n\nconst { Provider } = AppContext;\n\nexport const App = observer(function App() {\n  const appStore = useLocalObservable(() => new AppStore());\n  return (\n    <Provider value={appStore}>\n      <BrowserRouter basename={\"/tetris-words\"}>\n        <Main>\n          <Routes>\n            <Route path=\"/\" element={<StartPage />} />\n            {appStore.isVisibleGamePage && (\n              <Route path=\"/game\" element={<GamePage />} />\n            )}\n            <Route path=\"/game\" element={<Navigate to=\"/\" />} />\n          </Routes>\n        </Main>\n      </BrowserRouter>\n    </Provider>\n  );\n});\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}